2024-07-18 10:28:57 | INFO | controller | æ­£åœ¨å¯åŠ¨æœåŠ¡ï¼š
2024-07-18 10:28:57 | INFO | controller | å¦‚éœ€æŸ¥çœ‹ æœåŠ¡æ—¥å¿— æ—¥å¿—ï¼Œè¯·å‰å¾€ /home/00_rag/fufan-chat-api/logs
2024-07-18 10:29:07 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1574557[0m]
2024-07-18 10:29:07 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 10:29:07 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 10:29:07 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:20001[0m (Press CTRL+C to quit)
2024-07-18 10:29:19 | INFO | controller | Register a new worker: http://192.168.110.131:21001
2024-07-18 10:29:19 | INFO | controller | Register done: http://192.168.110.131:21001, {'model_names': ['zhipu-api'], 'speed': 1, 'queue_length': 0}
2024-07-18 10:29:19 | INFO | stdout | [32mINFO[0m:     192.168.110.131:44052 - "[1mPOST /register_worker HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:29:19 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1574801[0m]
2024-07-18 10:29:19 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 10:29:19 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 10:29:19 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:20000[0m (Press CTRL+C to quit)
2024-07-18 10:29:20 | ERROR | stderr | Loading checkpoint shards:   0%|                                                                                                                                                                                                                                                          | 0/7 [00:00<?, ?it/s]
2024-07-18 10:29:20 | ERROR | stderr | Loading checkpoint shards:  14%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ                                                                                                                                                                                                               | 1/7 [00:00<00:03,  1.86it/s]
2024-07-18 10:29:21 | ERROR | stderr | Loading checkpoint shards:  29%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                                                                                                                            | 2/7 [00:01<00:02,  1.83it/s]
2024-07-18 10:29:21 | ERROR | stderr | Loading checkpoint shards:  43%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹                                                                                                                                          | 3/7 [00:01<00:02,  1.92it/s]
2024-07-18 10:29:22 | ERROR | stderr | Loading checkpoint shards:  57%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                                                       | 4/7 [00:02<00:01,  2.02it/s]
2024-07-18 10:29:22 | ERROR | stderr | Loading checkpoint shards:  71%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š                                                                     | 5/7 [00:02<00:00,  2.06it/s]
2024-07-18 10:29:23 | ERROR | stderr | Loading checkpoint shards:  86%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                  | 6/7 [00:02<00:00,  2.09it/s]
2024-07-18 10:29:23 | ERROR | stderr | Loading checkpoint shards: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7/7 [00:03<00:00,  2.24it/s]
2024-07-18 10:29:23 | ERROR | stderr | Loading checkpoint shards: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7/7 [00:03<00:00,  2.09it/s]
2024-07-18 10:29:23 | ERROR | stderr | 
2024-07-18 10:29:30 | INFO | controller | Register a new worker: http://192.168.110.131:20002
2024-07-18 10:29:30 | INFO | controller | Register done: http://192.168.110.131:20002, {'model_names': ['chatglm3-6b'], 'speed': 1, 'queue_length': 0}
2024-07-18 10:29:30 | INFO | stdout | [32mINFO[0m:     192.168.110.131:59030 - "[1mPOST /register_worker HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:29:30 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1574802[0m]
2024-07-18 10:29:30 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 10:29:30 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 10:29:30 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:20002[0m (Press CTRL+C to quit)
2024-07-18 10:29:41 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1575525[0m]
2024-07-18 10:29:41 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 10:29:41 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 10:29:41 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:8000[0m (Press CTRL+C to quit)
2024-07-18 10:30:04 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 10:30:04 | INFO | stdout | [32mINFO[0m:     192.168.110.131:41288 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:30:15 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 10:30:15 | INFO | stdout | [32mINFO[0m:     192.168.110.131:47268 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:30:49 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 10:30:49 | INFO | stdout | [32mINFO[0m:     192.168.110.131:35020 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:31:00 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 10:31:00 | INFO | stdout | [32mINFO[0m:     192.168.110.131:38724 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,550 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,551 INFO sqlalchemy.engine.Engine [raw sql] ()
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,553 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,554 INFO sqlalchemy.engine.Engine [raw sql] ()
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,555 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,555 INFO sqlalchemy.engine.Engine [raw sql] ()
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,562 INFO sqlalchemy.engine.Engine INSERT INTO conversation (id, user_id, name, chat_type, create_time) VALUES (%s, %s, %s, %s, %s)
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,562 INFO sqlalchemy.engine.Engine [generated in 0.00075s] ('b4b4e991-ac5d-4641-aaa6-e50d0e90ce24', 'ff4f9954-da8c-492f-965d-dc18224b1176', 'new_chat', 'real_time_search', datetime.datetime(2024, 7, 18, 10, 31, 10, 510265))
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,565 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,583 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,589 INFO sqlalchemy.engine.Engine SELECT conversation.id, conversation.user_id, conversation.name, conversation.chat_type, conversation.create_time
2024-07-18 10:31:10 | INFO | stdout | FROM conversation
2024-07-18 10:31:10 | INFO | stdout | WHERE conversation.id = %s
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,590 INFO sqlalchemy.engine.Engine [generated in 0.00108s] ('b4b4e991-ac5d-4641-aaa6-e50d0e90ce24',)
2024-07-18 10:31:10 | INFO | stdout | 2024-07-18 10:31:10,593 INFO sqlalchemy.engine.Engine ROLLBACK
2024-07-18 10:31:10 | INFO | stdout | [32mINFO[0m:     192.168.110.91:54745 - "[1mPOST /api/conversations HTTP/1.1[0m" [32m201 Created[0m
2024-07-18 10:31:34 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 10:31:34 | INFO | stdout | [32mINFO[0m:     192.168.110.131:56096 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:31:45 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 10:31:45 | INFO | stdout | [32mINFO[0m:     192.168.110.131:46796 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:32:19 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 10:32:19 | INFO | stdout | [32mINFO[0m:     192.168.110.131:54292 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:32:30 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 10:32:30 | INFO | stdout | [32mINFO[0m:     192.168.110.131:57226 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:33:04 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 10:33:04 | INFO | stdout | [32mINFO[0m:     192.168.110.131:45178 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:33:15 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 10:33:15 | INFO | stdout | [32mINFO[0m:     192.168.110.131:60748 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:33:49 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 10:33:49 | INFO | stdout | [32mINFO[0m:     192.168.110.131:36696 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:33:52 | INFO | stdout | [32mINFO[0m:     192.168.110.91:54814 - "[1mPOST /api/chat/search_engine_chat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:33:52 | INFO | stdout | 2024-07-18 10:33:52,182 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 10:33:52 | INFO | stdout | 2024-07-18 10:33:52,185 INFO sqlalchemy.engine.Engine SELECT conversation.id AS conversation_id, conversation.user_id AS conversation_user_id, conversation.name AS conversation_name, conversation.chat_type AS conversation_chat_type, conversation.create_time AS conversation_create_time
2024-07-18 10:33:52 | INFO | stdout | FROM conversation
2024-07-18 10:33:52 | INFO | stdout | WHERE conversation.id = %s
2024-07-18 10:33:52 | INFO | stdout | 2024-07-18 10:33:52,185 INFO sqlalchemy.engine.Engine [generated in 0.00104s] ('dd27db58-3002-43d9-be59-675a95ab07bb',)
2024-07-18 10:33:52 | INFO | stdout | 2024-07-18 10:33:52,188 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 10:33:52 | INFO | stdout | 2024-07-18 10:33:52,191 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 10:33:52 | INFO | stdout | 2024-07-18 10:33:52,194 INFO sqlalchemy.engine.Engine INSERT INTO message (id, conversation_id, chat_type, query, response, meta_data, feedback_score, feedback_reason, create_time) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, now())
2024-07-18 10:33:52 | INFO | stdout | 2024-07-18 10:33:52,194 INFO sqlalchemy.engine.Engine [generated in 0.00087s] ('1665f173-0672-4364-9ab7-2a80c61462fd', 'dd27db58-3002-43d9-be59-675a95ab07bb', 'real_time_search', ' ä¿ç½—ä¹”æ²»åŠ ç›Ÿäº†å“ªæ”¯NBAçƒé˜Ÿï¼Ÿ', '', '{}', -1, '')
2024-07-18 10:33:52 | INFO | stdout | 2024-07-18 10:33:52,199 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 10:33:55 | INFO | stdout | è¯·æ±‚ URL å¤±è´¥ https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB: Connection timeout to host https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB
2024-07-18 10:33:56 | ERROR | stderr | [31mERROR[0m:    Exception in ASGI application
2024-07-18 10:33:56 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 10:33:56 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 284, in __call__
2024-07-18 10:33:56 | ERROR | stderr |     await wrap(partial(self.listen_for_disconnect, receive))
2024-07-18 10:33:56 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 273, in wrap
2024-07-18 10:33:56 | ERROR | stderr |     await func()
2024-07-18 10:33:56 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 223, in listen_for_disconnect
2024-07-18 10:33:56 | ERROR | stderr |     message = await receive()
2024-07-18 10:33:56 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/protocols/http/httptools_impl.py", line 553, in receive
2024-07-18 10:33:56 | ERROR | stderr |     await self.message_event.wait()
2024-07-18 10:33:56 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/asyncio/locks.py", line 213, in wait
2024-07-18 10:33:56 | ERROR | stderr |     await fut
2024-07-18 10:33:56 | ERROR | stderr | asyncio.exceptions.CancelledError: Cancelled by cancel scope 7f6336f70b20
2024-07-18 10:33:56 | ERROR | stderr | 
2024-07-18 10:33:56 | ERROR | stderr | During handling of the above exception, another exception occurred:
2024-07-18 10:33:56 | ERROR | stderr | 
2024-07-18 10:33:56 | ERROR | stderr |   + Exception Group Traceback (most recent call last):
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/protocols/http/httptools_impl.py", line 399, in run_asgi
2024-07-18 10:33:56 | ERROR | stderr |   |     result = await app(  # type: ignore[func-returns-value]
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
2024-07-18 10:33:56 | ERROR | stderr |   |     return await self.app(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
2024-07-18 10:33:56 | ERROR | stderr |   |     await super().__call__(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
2024-07-18 10:33:56 | ERROR | stderr |   |     await self.middleware_stack(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
2024-07-18 10:33:56 | ERROR | stderr |   |     raise exc
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
2024-07-18 10:33:56 | ERROR | stderr |   |     await self.app(scope, receive, _send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
2024-07-18 10:33:56 | ERROR | stderr |   |     await self.app(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
2024-07-18 10:33:56 | ERROR | stderr |   |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
2024-07-18 10:33:56 | ERROR | stderr |   |     raise exc
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2024-07-18 10:33:56 | ERROR | stderr |   |     await app(scope, receive, sender)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
2024-07-18 10:33:56 | ERROR | stderr |   |     await self.middleware_stack(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
2024-07-18 10:33:56 | ERROR | stderr |   |     await route.handle(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
2024-07-18 10:33:56 | ERROR | stderr |   |     await self.app(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
2024-07-18 10:33:56 | ERROR | stderr |   |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
2024-07-18 10:33:56 | ERROR | stderr |   |     raise exc
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2024-07-18 10:33:56 | ERROR | stderr |   |     await app(scope, receive, sender)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
2024-07-18 10:33:56 | ERROR | stderr |   |     await response(scope, receive, send)
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 270, in __call__
2024-07-18 10:33:56 | ERROR | stderr |   |     async with anyio.create_task_group() as task_group:
2024-07-18 10:33:56 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 680, in __aexit__
2024-07-18 10:33:56 | ERROR | stderr |   |     raise BaseExceptionGroup(
2024-07-18 10:33:56 | ERROR | stderr |   | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
2024-07-18 10:33:56 | ERROR | stderr |   +-+---------------- 1 ----------------
2024-07-18 10:33:56 | ERROR | stderr |     | Traceback (most recent call last):
2024-07-18 10:33:56 | ERROR | stderr |     |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 273, in wrap
2024-07-18 10:33:56 | ERROR | stderr |     |     await func()
2024-07-18 10:33:56 | ERROR | stderr |     |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 253, in stream_response
2024-07-18 10:33:56 | ERROR | stderr |     |     async for data in self.body_iterator:
2024-07-18 10:33:56 | ERROR | stderr |     |   File "/home/00_rag/fufan-chat-api/server/chat/search_engine_chat.py", line 92, in search_engine_chat_iterator
2024-07-18 10:33:56 | ERROR | stderr |     |     await milvusService.do_add_doc(docs=detail_results)
2024-07-18 10:33:56 | ERROR | stderr |     |   File "/home/00_rag/fufan-chat-api/server/knowledge_base/kb_service/milvus_kb_service.py", line 119, in do_add_doc
2024-07-18 10:33:56 | ERROR | stderr |     |     ids = self.milvus.add_documents(docs)
2024-07-18 10:33:56 | ERROR | stderr |     |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/langchain_core/vectorstores/base.py", line 485, in add_documents
2024-07-18 10:33:56 | ERROR | stderr |     |     return self.upsert(documents_, **kwargs)["succeeded"]
2024-07-18 10:33:56 | ERROR | stderr |     | TypeError: 'NoneType' object is not subscriptable
2024-07-18 10:33:56 | ERROR | stderr |     +------------------------------------
2024-07-18 10:34:00 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 10:34:00 | INFO | stdout | [32mINFO[0m:     192.168.110.131:36122 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:34:34 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 10:34:34 | INFO | stdout | [32mINFO[0m:     192.168.110.131:38712 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:34:45 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 10:34:45 | INFO | stdout | [32mINFO[0m:     192.168.110.131:40680 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:35:19 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 10:35:19 | INFO | stdout | [32mINFO[0m:     192.168.110.131:56214 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:35:30 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 10:35:30 | INFO | stdout | [32mINFO[0m:     192.168.110.131:47818 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 10:35:43 | WARNING | controller | Sending SIGKILL to {'zhipu-api': <Process name='api_worker - zhipu-api (1574803)' pid=1574803 parent=1573977 started daemon>}
2024-07-18 10:35:43 | WARNING | controller | Sending SIGKILL to {'chatglm3-6b': <Process name='model_worker - chatglm3-6b (1574802)' pid=1574802 parent=1573977 started daemon>}
2024-07-18 10:35:43 | WARNING | controller | Sending SIGKILL to <Process name='controller (1574557)' pid=1574557 parent=1573977 started daemon>
2024-07-18 10:35:43 | WARNING | controller | Sending SIGKILL to <Process name='openai_api (1574801)' pid=1574801 parent=1573977 started daemon>
2024-07-18 10:35:43 | WARNING | controller | Sending SIGKILL to <Process name='API Server (1575525)' pid=1575525 parent=1573977 started daemon>
2024-07-18 10:35:43 | INFO | controller | Process status: {'zhipu-api': <Process name='api_worker - zhipu-api (1574803)' pid=1574803 parent=1573977 started daemon>}
2024-07-18 10:35:43 | INFO | controller | Process status: {'chatglm3-6b': <Process name='model_worker - chatglm3-6b (1574802)' pid=1574802 parent=1573977 started daemon>}
2024-07-18 10:35:43 | INFO | controller | Process status: <Process name='controller (1574557)' pid=1574557 parent=1573977 started daemon>
2024-07-18 10:35:43 | INFO | controller | Process status: <Process name='openai_api (1574801)' pid=1574801 parent=1573977 started daemon>
2024-07-18 10:35:43 | INFO | controller | Process status: <Process name='API Server (1575525)' pid=1575525 parent=1573977 started daemon>
2024-07-18 10:35:43 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 584, in <module>
2024-07-18 10:35:43 | ERROR | stderr |     loop.run_until_complete(start_main_server())
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 495, in start_main_server
2024-07-18 10:35:43 | ERROR | stderr |     cmd = queue.get()
2024-07-18 10:35:43 | ERROR | stderr |   File "<string>", line 2, in get
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/managers.py", line 818, in _callmethod
2024-07-18 10:35:43 | ERROR | stderr |     kind, result = conn.recv()
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 255, in recv
2024-07-18 10:35:43 | ERROR | stderr |     buf = self._recv_bytes()
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 419, in _recv_bytes
2024-07-18 10:35:43 | ERROR | stderr |     buf = self._recv(4)
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 384, in _recv
2024-07-18 10:35:43 | ERROR | stderr |     chunk = read(handle, remaining)
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 368, in f
2024-07-18 10:35:43 | ERROR | stderr |     raise KeyboardInterrupt(f"{signalname} received")
2024-07-18 10:35:43 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2024-07-18 10:35:43 | ERROR | stderr | Exception ignored in atexit callback: <function _exit_function at 0x7fbd35451630>
2024-07-18 10:35:43 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/util.py", line 334, in _exit_function
2024-07-18 10:35:43 | ERROR | stderr |     _run_finalizers(0)
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/util.py", line 300, in _run_finalizers
2024-07-18 10:35:43 | ERROR | stderr |     finalizer()
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/util.py", line 224, in __call__
2024-07-18 10:35:43 | ERROR | stderr |     res = self._callback(*self._args, **self._kwargs)
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/managers.py", line 674, in _finalize_manager
2024-07-18 10:35:43 | ERROR | stderr |     process.join(timeout=1.0)
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/process.py", line 149, in join
2024-07-18 10:35:43 | ERROR | stderr |     res = self._popen.wait(timeout)
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/popen_fork.py", line 40, in wait
2024-07-18 10:35:43 | ERROR | stderr |     if not wait([self.sentinel], timeout):
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 936, in wait
2024-07-18 10:35:43 | ERROR | stderr |     ready = selector.select(timeout)
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/selectors.py", line 416, in select
2024-07-18 10:35:43 | ERROR | stderr |     fd_event_list = self._selector.poll(timeout)
2024-07-18 10:35:43 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 368, in f
2024-07-18 10:35:43 | ERROR | stderr |     raise KeyboardInterrupt(f"{signalname} received")
2024-07-18 10:35:43 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2024-07-18 11:34:31 | INFO | controller | æ­£åœ¨å¯åŠ¨æœåŠ¡ï¼š
2024-07-18 11:34:31 | INFO | controller | å¦‚éœ€æŸ¥çœ‹ æœåŠ¡æ—¥å¿— æ—¥å¿—ï¼Œè¯·å‰å¾€ /home/00_rag/fufan-chat-api/logs
2024-07-18 11:34:42 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1627172[0m]
2024-07-18 11:34:42 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 11:34:42 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 11:34:42 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:20001[0m (Press CTRL+C to quit)
2024-07-18 11:34:54 | INFO | controller | Register a new worker: http://192.168.110.131:21001
2024-07-18 11:34:54 | INFO | controller | Register done: http://192.168.110.131:21001, {'model_names': ['zhipu-api'], 'speed': 1, 'queue_length': 0}
2024-07-18 11:34:54 | INFO | stdout | [32mINFO[0m:     192.168.110.131:50308 - "[1mPOST /register_worker HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:34:54 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1627408[0m]
2024-07-18 11:34:54 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 11:34:54 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 11:34:54 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:20000[0m (Press CTRL+C to quit)
2024-07-18 11:34:54 | ERROR | stderr | Loading checkpoint shards:   0%|                                                                                                                                                                                                                                                          | 0/7 [00:00<?, ?it/s]
2024-07-18 11:34:55 | ERROR | stderr | Loading checkpoint shards:  14%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ                                                                                                                                                                                                               | 1/7 [00:00<00:03,  1.89it/s]
2024-07-18 11:34:55 | ERROR | stderr | Loading checkpoint shards:  29%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                                                                                                                            | 2/7 [00:01<00:02,  1.91it/s]
2024-07-18 11:34:56 | ERROR | stderr | Loading checkpoint shards:  43%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹                                                                                                                                          | 3/7 [00:01<00:02,  1.99it/s]
2024-07-18 11:34:56 | ERROR | stderr | Loading checkpoint shards:  57%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                                                       | 4/7 [00:01<00:01,  2.06it/s]
2024-07-18 11:34:57 | ERROR | stderr | Loading checkpoint shards:  71%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š                                                                     | 5/7 [00:02<00:00,  2.04it/s]
2024-07-18 11:34:57 | ERROR | stderr | Loading checkpoint shards:  86%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                  | 6/7 [00:02<00:00,  2.05it/s]
2024-07-18 11:34:58 | ERROR | stderr | Loading checkpoint shards: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7/7 [00:03<00:00,  2.21it/s]
2024-07-18 11:34:58 | ERROR | stderr | Loading checkpoint shards: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7/7 [00:03<00:00,  2.09it/s]
2024-07-18 11:34:58 | ERROR | stderr | 
2024-07-18 11:35:03 | INFO | controller | Register a new worker: http://192.168.110.131:20002
2024-07-18 11:35:03 | INFO | controller | Register done: http://192.168.110.131:20002, {'model_names': ['chatglm3-6b'], 'speed': 1, 'queue_length': 0}
2024-07-18 11:35:03 | INFO | stdout | [32mINFO[0m:     192.168.110.131:57364 - "[1mPOST /register_worker HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:03 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1627409[0m]
2024-07-18 11:35:03 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 11:35:03 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 11:35:03 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:20002[0m (Press CTRL+C to quit)
2024-07-18 11:35:14 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1628082[0m]
2024-07-18 11:35:14 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 11:35:14 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 11:35:14 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:8000[0m (Press CTRL+C to quit)
2024-07-18 11:35:27 | INFO | stdout | [32mINFO[0m:     192.168.110.91:58129 - "[1mPOST /api/chat/search_engine_chat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,768 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,768 INFO sqlalchemy.engine.Engine [raw sql] ()
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,770 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,771 INFO sqlalchemy.engine.Engine [raw sql] ()
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,772 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,772 INFO sqlalchemy.engine.Engine [raw sql] ()
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,775 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,808 INFO sqlalchemy.engine.Engine SELECT conversation.id AS conversation_id, conversation.user_id AS conversation_user_id, conversation.name AS conversation_name, conversation.chat_type AS conversation_chat_type, conversation.create_time AS conversation_create_time
2024-07-18 11:35:27 | INFO | stdout | FROM conversation
2024-07-18 11:35:27 | INFO | stdout | WHERE conversation.id = %s
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,809 INFO sqlalchemy.engine.Engine [generated in 0.00087s] ('dd27db58-3002-43d9-be59-675a95ab07bb',)
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,811 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,813 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,818 INFO sqlalchemy.engine.Engine INSERT INTO message (id, conversation_id, chat_type, query, response, meta_data, feedback_score, feedback_reason, create_time) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, now())
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,819 INFO sqlalchemy.engine.Engine [generated in 0.00072s] ('bee1227d-debe-43f2-9732-5fb8cd7acb9c', 'dd27db58-3002-43d9-be59-675a95ab07bb', 'real_time_search', ' ä¿ç½—ä¹”æ²»åŠ ç›Ÿäº†å“ªæ”¯NBAçƒé˜Ÿï¼Ÿ', '', '{}', -1, '')
2024-07-18 11:35:27 | INFO | stdout | 2024-07-18 11:35:27,821 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:35:30 | INFO | stdout | è¯·æ±‚ URL å¤±è´¥ https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB: Connection timeout to host https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB
2024-07-18 11:35:30 | INFO | stdout | -----------------------------
2024-07-18 11:35:30 | INFO | stdout | [Document(page_content='__\n\n#  ä¿ç½—ä¹”æ²»åŠ ç›Ÿ76äººï¼Œå®£ç§°ä¸æ©æ¯”å¾·æ˜¯NBAæœ€å¼ºç»„åˆ\n\n__\n\næç¬‘çš„å£³å­  åŸåˆ› Â·  2024-07-04 08:35   Â· ä½“è‚²é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…\n\nç‚¹å‡»æŸ¥çœ‹æ›´å¤šè®¢é˜…å†…å®¹>\n\nä¿ç½—ä¹”æ²»æœ€è¿‘ä»¥ä¸€ä»½ä»·å€¼2äº¿ç¾é‡‘çš„4å¹´åˆåŒåŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿï¼Œä¸æ©æ¯”å¾·æºæ‰‹ç»„æˆäº†ä¸€æ”¯ä»¤äººç©ç›®çš„åŒäººç»„åˆã€‚é™¤äº†è¿™ä¸¤ä½é¡¶å°–çƒå‘˜ä¹‹å¤–ï¼Œé˜Ÿä¸­è¿˜æœ‰ç€æ–°æ˜Ÿé©¬å…‹è¥¿çš„åŠ ç›Ÿï¼Œä½¿å¾—è¯¥çƒé˜Ÿçœ‹èµ·æ¥å·²ç»å…·å¤‡äº†å†²å‡»æ€»å† å†›çš„å®åŠ›ã€‚ä¿ç½—ä¹”æ²»åœ¨åŠ ç›Ÿ76äººåå±•ç°å‡ºå‰æ‰€æœªæœ‰çš„è‡ªä¿¡å¿ƒã€‚\n\nåœ¨ä¸€æ¡£æ’­å®¢èŠ‚ç›®ä¸­ï¼Œä¿ç½—ä¹”æ²»å¦è¨€ï¼šâ€œå½“æˆ‘å‘Šåˆ«å¿«èˆ¹é˜Ÿæ—¶ï¼Œæˆ‘å¿ƒä¸­æœ‰äº›ä¸èˆã€‚ä½†ç”±äºå¿«èˆ¹é˜Ÿæ²¡æœ‰ç»™äºˆæˆ‘è¶³å¤Ÿçš„å°Šé‡ï¼Œæˆ‘ä¹Ÿå°±æ²¡æœ‰å†ç•™åœ¨é‚£é‡Œçš„å¿…è¦ã€‚å¯¹æˆ‘æ¥è¯´ï¼ŒåŠ ç›Ÿ76äººæ˜¯æœ€æ˜æ™ºçš„é€‰æ‹©ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä¸ä»…å¯ä»¥è·å¾—æ›´å¤šè´¢å¯Œï¼Œè¿˜æœ‰æœ›å¤ºå¾—æ€»å† å†›ã€‚æ–°èµ›å­£ï¼Œæ²¡æœ‰çƒé˜Ÿæ„¿æ„è¿æˆ˜76äººã€‚æ˜¯çš„ï¼Œæˆ‘å’Œæ©æ¯”å¾·æ„æˆäº†NBAæœ€å¼ºå¤§çš„ç»„åˆï¼Œæ²¡æœ‰äººå¯ä»¥é˜»æ­¢æˆ‘ä»¬çš„æˆåŠŸã€‚åªè¦ä¿æŒå¥åº·ï¼Œæˆ‘ä»¬å°±æœ‰æœºä¼šå¤ºå† ã€‚â€\n\néšåï¼Œä¿ç½—ä¹”æ²»é€éœ²ï¼šâ€œç»„å»ºå¥½å’Œæ©æ¯”å¾·çš„ç»„åˆåï¼Œè©¹å§†æ–¯å‘¼æˆ‘é—®ä¸ºä½•ä¸é€‰æ‹©æ¹–äººé˜Ÿåˆä½œã€‚ä»–æ¸´æœ›ä¸æˆ‘å¹¶è‚©ä½œæˆ˜ã€‚æˆ‘å‘Šè¯‰ä»–ï¼Œæ¹–äººé˜Ÿæ— æ³•æ»¡è¶³æˆ‘çš„è¦æ±‚ã€‚æ¥ç€ï¼Œè¿½æ¢¦å’Œæ ¼æ—ä¹Ÿåˆ†åˆ«è”ç³»æˆ‘ã€‚ä»–ä»¬å¯¹æˆ‘æœªåŠ ç›Ÿå‹‡å£«é˜Ÿæ„Ÿåˆ°é—æ†¾ã€‚æ€»çš„æ¥è¯´ï¼Œå¦‚ä»Šè®¸å¤šçƒé˜Ÿéƒ½å¸Œæœ›æˆ‘åŠ å…¥ï¼Œä½†æˆ‘åªä¼šé€‰æ‹©å¯¹æˆ‘æœ€æœ‰åˆ©çš„å†³å®šã€‚â€ä¹”æ²»çš„è¨€è®ºå¼•å‘äº†ç½‘ä¸Šçš„çƒ­è®®ï¼Œè®¸å¤šçƒè¿·çº·çº·è¡¨ç¤ºï¼Œå°½ç®¡76äººå®åŠ›å¼ºå¤§ï¼Œä½†å°šæœªå®Œå…¨å…·å¤‡å¤ºå† å®åŠ›ï¼Œè€Œä¹”æ²»å’Œæ©æ¯”å¾·çš„ç»„åˆä¹Ÿå¹¶éNBAæœ€å¼ºã€‚è‡³å°‘è©¹å§†æ–¯å’Œæµ“çœ‰çš„ç»„åˆè¦æ¯”ä½ ä»¬æ›´èƒœä¸€ç­¹ã€‚\n\nå‘å¸ƒäºï¼šå¹¿ä¸œçœ', metadata={'uuid': 'c99f6d04f076d93d890af98c7cd18676', 'title': 'ä¿ç½—ä¹”æ²»åŠ ç›Ÿ76äººï¼Œå®£ç§°ä¸æ©æ¯”å¾·æ˜¯NBAæœ€å¼ºç»„åˆ - æ‰‹æœºæœç‹', 'snippet': 'ä¿ç½—ä¹”æ²»æœ€è¿‘ä»¥ä¸€ä»½ä»·å€¼2äº¿ç¾é‡‘çš„4å¹´åˆåŒåŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿï¼Œä¸æ©æ¯”å¾·æºæ‰‹ç»„æˆäº†ä¸€æ”¯ä»¤äººç©ç›®çš„åŒäººç»„åˆã€‚é™¤äº†è¿™ä¸¤ä½é¡¶å°–çƒå‘˜ä¹‹å¤–ï¼Œé˜Ÿä¸­è¿˜æœ‰ç€æ–°æ˜Ÿé©¬å…‹ ...', 'link': 'https://m.sohu.com/a/790589954_121630157', 'score': '0.11842105263157898'}), Document(page_content='*   * æ–°é—»\n  * ä½“è‚²\n  * æ±½è½¦\n  * æˆ¿äº§\n  * æ—…æ¸¸\n  * æ•™è‚²\n  * æ—¶å°š\n  * ç§‘æŠ€\n  * è´¢ç»\n  * å¨±ä¹\n  * æ›´å¤š __\n\næ¯å©´ å¥åº· å†å² å†›äº‹ ç¾é£Ÿ æ–‡åŒ– æ˜Ÿåº§ ä¸“é¢˜ æ¸¸æˆ æç¬‘ åŠ¨æ¼« å® ç‰©\n\næ— éšœç¢ å…³æ€€ç‰ˆ\n\n####  æ˜¥åœ¨æºªå¤´ __\n\nç”±å†…å®¹è´¨é‡ã€äº’åŠ¨è¯„è®ºã€åˆ†äº«ä¼ æ’­ç­‰å¤šç»´åº¦åˆ†å€¼å†³å®šï¼Œå‹‹ç« çº§åˆ«è¶Šé«˜(  )ï¼Œä»£è¡¨å…¶åœ¨å¹³å°å†…çš„ç»¼åˆè¡¨ç°è¶Šå¥½ã€‚\n\n    __æ–‡ç« \n    __æ€»é˜…è¯»\n\n  * ä½“è‚²é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…\n\næŸ¥çœ‹TAçš„æ–‡ç« >\n\nè¯„è®º\n\n    __\n\n#  åŸåˆ› NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜\n\n2024-07-03 07:10\n\nå‘å¸ƒäºï¼šå¹¿ä¸œçœ\n\nç»è¿‡NBAäº¤æ˜“å¸‚åœºçš„æ³¢åŠ¨ï¼Œä¸€åˆ™å®˜æ–¹å…¬å‘Šçªå¦‚å…¶æ¥ï¼Œç«‹åˆ»åœ¨ç¯®çƒç•Œæ€èµ·è½©ç„¶å¤§æ³¢ã€‚æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚\n\nä¿ç½—Â·ä¹”æ²»ä½œä¸ºè”ç›Ÿé¡¶å°–å°å‰é”‹ï¼Œå…¶èŒä¸šç”Ÿæ¶¯å……æ»¡ä¼ å¥‡è‰²å½©ã€‚ä»å°ç¬¬å®‰çº³æ­¥è¡Œè€…é˜Ÿçš„å´›èµ·ï¼Œåˆ°æ´›æ‰çŸ¶å¿«èˆ¹é˜Ÿçš„è¾‰ç…Œï¼Œå†åˆ°å¦‚ä»Šçš„æ–°ä¸œå®¶ï¼Œä¹”æ²»æ¯ä¸€æ­¥éƒ½ç‰µåŠ¨ç€æ— æ•°çƒè¿·çš„å¿ƒå¼¦ã€‚ä»–çš„çƒé£åˆšåŠ²ã€æŠ€æœ¯å…¨é¢ï¼Œåœ¨å¤–çº¿æŠ•å°„å’Œå†…çº¿çªç ´æ–¹é¢éƒ½å±•ç°å‡ºæé«˜æ°´å‡†ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ï¼Œæ€»èƒ½åœ¨å…³é”®æ—¶åˆ»æŒºèº«è€Œå‡ºï¼Œä¸ºçƒé˜Ÿå¸¦æ¥èƒœåˆ©ã€‚\n\nåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰å‰ï¼Œä¹”æ²»å·²åœ¨è”ç›Ÿä¸­æ¼”ç»äº†å¤šå¹´ã€‚å°½ç®¡æ— æ³•åŠ©çƒé˜Ÿå¤ºå† ï¼Œä»–ä¾æ—§çƒ­çˆ±ç¯®çƒã€æ¸´æœ›èƒœåˆ©ã€‚å¾—çŸ¥è¢«è£åï¼Œä»–å¹¶æœªæ¶ˆæ²‰ï¼Œè€Œæ˜¯è¿…é€Ÿè°ƒæ•´å¿ƒæ€ï¼Œå¼€å§‹æ¢å¯»æ–°å‡ºè·¯ã€‚', metadata={'uuid': '56f49c359c1f2c9b5ad5d66d94718e3b', 'title': 'åŸåˆ›NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜ - æœç‹', 'snippet': 'æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ ...', 'link': 'https://www.sohu.com/a/790283805_121926163', 'score': '0.07894736842105265'}), Document(page_content='åœ¨è¢«å‹‡å£«é˜Ÿè£æ‰å‰ï¼Œä¹”æ²»å·²åœ¨è”ç›Ÿä¸­æ¼”ç»äº†å¤šå¹´ã€‚å°½ç®¡æ— æ³•åŠ©çƒé˜Ÿå¤ºå† ï¼Œä»–ä¾æ—§çƒ­çˆ±ç¯®çƒã€æ¸´æœ›èƒœåˆ©ã€‚å¾—çŸ¥è¢«è£åï¼Œä»–å¹¶æœªæ¶ˆæ²‰ï¼Œè€Œæ˜¯è¿…é€Ÿè°ƒæ•´å¿ƒæ€ï¼Œå¼€å§‹æ¢å¯»æ–°å‡ºè·¯ã€‚\n\nå°±åœ¨æ­¤æ—¶ï¼Œä¸€æ”¯æ‹¥æœ‰å¤šä½è¶…å·¨çš„è±ªå¼ºçƒé˜Ÿå‘ä¹”æ²»æ‹›æ‰‹ã€‚è¯¥é˜Ÿä¼—å¼ºé˜µå®¹æ·±åšåº•è•´ï¼Œæ€€æŠ±å† å†›æ¢¦æƒ³ï¼Œè€Œä¹”æ²»ä¹Ÿå¯¹è¿™æ”¯çƒé˜Ÿå……æ»¡å…´è¶£ï¼Œè§†å…¶ä¸ºå®ç°å† å†›æ¢¦æƒ³çš„æœ€ä½³å¹³å°ã€‚ç»æ·±æ€ç†Ÿè™‘ï¼Œä¹”æ²»å†³å®šä¸è¯¥é˜Ÿç­¾çº¦ï¼Œæ­£å¼åŠ å…¥ä»–ä»¬çš„è¡Œåˆ—ã€‚\n\néšç€ä¹”æ²»çš„åŠ ç›Ÿï¼Œè¯¥é˜Ÿå®åŠ›å¤§å¹…æå‡ã€‚èšé›†ä¸€ä¼—é¡¶å°–çƒå‘˜ï¼ŒåŒ…æ‹¬è¶…çº§å·¨æ˜Ÿã€å¾—åˆ†é«˜æ‰‹ã€é˜²å®ˆä¸“æ‰ç­‰ï¼Œå„å…·ç‰¹é•¿ï¼Œèƒ½å½¢æˆå®Œç¾åŒ–å­¦ååº”ã€‚åœ¨ä¹”æ²»é¢†å†›ä¸‹ï¼Œè¯¥é˜Ÿå°†å±•ç°æ›´å¼ºå¤§æˆ˜åŠ›ï¼Œæˆä¸ºè”ç›Ÿä¸å¯å¿½è§†çš„ä¸€è‚¡åŠ›é‡ã€‚\n\nå¯¹ä¹”æ²»è€Œè¨€ï¼ŒåŠ ç›Ÿæ–°ä¸œå®¶æ„å‘³ç€é¢å¯¹æ–°æŒ‘æˆ˜ã€æ–°æœºé‡ã€‚ä»–å°†ä¸å¤šä½è¶…å·¨è”æ‰‹ï¼Œå…±åŒå†²å‡»æ€»å† å†›ã€‚åœ¨è¿‡ç¨‹ä¸­ï¼Œé¡»é€‚åº”æ–°æˆ˜æœ¯ä½“ç³»ï¼Œä¸é˜Ÿå‹å»ºç«‹é»˜å¥‘é…åˆï¼Œå…³é”®æ—¶åˆ»æŒºèº«è€Œå‡ºï¼Œä¸ºçƒé˜Ÿæ–©è·èƒœåˆ©ã€‚ä»–å·²åšå¥½å……åˆ†å‡†å¤‡ï¼Œåšä¿¡ä¸ªäººå®åŠ›å’Œç»éªŒèƒ½åŠ©çƒé˜Ÿåœ†å† æ¢¦ã€‚\n\nå¯¹çƒè¿·è€Œè¨€ï¼Œä¹”æ²»çš„åŠ ç›Ÿæ— ç–‘æ˜¯å·¨å¤§æƒŠå–œã€‚æœŸå¾…ä»–åœ¨æ–°é˜Ÿä¸­æœ‰æ›´è€€çœ¼è¡¨ç°ï¼Œç›¸ä¿¡åœ¨å…¶å¼•é¢†ä¸‹ï¼Œè¯¥é˜Ÿå¿…å°†æˆä¸ºè”ç›Ÿå¼ºé˜Ÿï¼Œä¸ºçƒè¿·å¸¦æ¥æ›´å¤šç²¾å½©å¯¹å†³ã€éš¾å¿˜ç¬é—´ã€‚\n\nå›é¡¾ä¹”æ²»èŒä¸šç”Ÿæ¶¯ï¼Œä»–ä¸€ç›´æ€€ç€çƒ­çˆ±ç¯®çƒã€è¿½æ±‚å“è¶Šã€‚æ— è®ºåœ¨æ­¥è¡Œè€…é˜Ÿæˆ–å¿«èˆ¹é˜Ÿï¼Œä¸ºçƒé˜Ÿè´¡çŒ®å·¨å¤§ã€‚ç°åŠ ç›Ÿæ–°ä¸œå®¶ï¼Œå°†ç»§ç»­ä¼ æ‰¿ä¼ å¥‡ã€‚æœªæ¥ï¼Œæ„¿å…±åŒè§è¯ä¹”æ²»ä¸é˜Ÿå‹ä¹¦å†™æ–°ç¯‡ç« ã€‚æ‚¨å¦‚ä½•çœ‹å¾…è¿™ä¸€åˆ‡ï¼Ÿæ¬¢è¿ç•™è¨€è¯„è®ºï¼\n__è¿”å›æœç‹ï¼ŒæŸ¥çœ‹æ›´å¤š\n\nè´£ä»»ç¼–è¾‘ï¼š\n\nå¹³å°å£°æ˜ï¼šè¯¥æ–‡è§‚ç‚¹ä»…ä»£è¡¨ä½œè€…æœ¬äººï¼Œæœç‹å·ç³»ä¿¡æ¯å‘å¸ƒå¹³å°ï¼Œæœç‹ä»…æä¾›ä¿¡æ¯å­˜å‚¨ç©ºé—´æœåŠ¡ã€‚\n\né˜…è¯» (__)\n\n__æ¨èé˜…è¯»', metadata={'uuid': '56f49c359c1f2c9b5ad5d66d94718e3b', 'title': 'åŸåˆ›NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜ - æœç‹', 'snippet': 'æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ ...', 'link': 'https://www.sohu.com/a/790283805_121926163', 'score': '0.07894736842105265'})]
2024-07-18 11:35:38 | INFO | stdout | 2024-07-18 11:35:38,207 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:35:38 | INFO | stdout | 2024-07-18 11:35:38,210 INFO sqlalchemy.engine.Engine SELECT message.id, message.conversation_id, message.chat_type, message.query, message.response, message.meta_data, message.feedback_score, message.feedback_reason, message.create_time
2024-07-18 11:35:38 | INFO | stdout | FROM message
2024-07-18 11:35:38 | INFO | stdout | WHERE message.conversation_id = %s AND message.chat_type = %s AND message.response != %s ORDER BY message.create_time DESC
2024-07-18 11:35:38 | INFO | stdout |  LIMIT %s
2024-07-18 11:35:38 | INFO | stdout | 2024-07-18 11:35:38,211 INFO sqlalchemy.engine.Engine [generated in 0.00087s] ('dd27db58-3002-43d9-be59-675a95ab07bb', 'real_time_search', '', 10)
2024-07-18 11:35:38 | ERROR | stderr | [31mERROR[0m:    Exception in ASGI application
2024-07-18 11:35:38 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 11:35:38 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 284, in __call__
2024-07-18 11:35:38 | ERROR | stderr |     await wrap(partial(self.listen_for_disconnect, receive))
2024-07-18 11:35:38 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 273, in wrap
2024-07-18 11:35:38 | ERROR | stderr |     await func()
2024-07-18 11:35:38 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 223, in listen_for_disconnect
2024-07-18 11:35:38 | ERROR | stderr |     message = await receive()
2024-07-18 11:35:38 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/protocols/http/httptools_impl.py", line 553, in receive
2024-07-18 11:35:38 | ERROR | stderr |     await self.message_event.wait()
2024-07-18 11:35:38 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/asyncio/locks.py", line 213, in wait
2024-07-18 11:35:38 | ERROR | stderr |     await fut
2024-07-18 11:35:38 | ERROR | stderr | asyncio.exceptions.CancelledError: Cancelled by cancel scope 7feea7b97af0
2024-07-18 11:35:38 | ERROR | stderr | 
2024-07-18 11:35:38 | ERROR | stderr | During handling of the above exception, another exception occurred:
2024-07-18 11:35:38 | ERROR | stderr | 
2024-07-18 11:35:38 | ERROR | stderr |   + Exception Group Traceback (most recent call last):
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/protocols/http/httptools_impl.py", line 399, in run_asgi
2024-07-18 11:35:38 | ERROR | stderr |   |     result = await app(  # type: ignore[func-returns-value]
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
2024-07-18 11:35:38 | ERROR | stderr |   |     return await self.app(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
2024-07-18 11:35:38 | ERROR | stderr |   |     await super().__call__(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
2024-07-18 11:35:38 | ERROR | stderr |   |     await self.middleware_stack(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
2024-07-18 11:35:38 | ERROR | stderr |   |     raise exc
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
2024-07-18 11:35:38 | ERROR | stderr |   |     await self.app(scope, receive, _send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
2024-07-18 11:35:38 | ERROR | stderr |   |     await self.app(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
2024-07-18 11:35:38 | ERROR | stderr |   |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
2024-07-18 11:35:38 | ERROR | stderr |   |     raise exc
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2024-07-18 11:35:38 | ERROR | stderr |   |     await app(scope, receive, sender)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
2024-07-18 11:35:38 | ERROR | stderr |   |     await self.middleware_stack(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
2024-07-18 11:35:38 | ERROR | stderr |   |     await route.handle(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
2024-07-18 11:35:38 | ERROR | stderr |   |     await self.app(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
2024-07-18 11:35:38 | ERROR | stderr |   |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
2024-07-18 11:35:38 | ERROR | stderr |   |     raise exc
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2024-07-18 11:35:38 | ERROR | stderr |   |     await app(scope, receive, sender)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
2024-07-18 11:35:38 | ERROR | stderr |   |     await response(scope, receive, send)
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 270, in __call__
2024-07-18 11:35:38 | ERROR | stderr |   |     async with anyio.create_task_group() as task_group:
2024-07-18 11:35:38 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 680, in __aexit__
2024-07-18 11:35:38 | ERROR | stderr |   |     raise BaseExceptionGroup(
2024-07-18 11:35:38 | ERROR | stderr |   | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
2024-07-18 11:35:38 | ERROR | stderr |   +-+---------------- 1 ----------------
2024-07-18 11:35:38 | ERROR | stderr |     | Traceback (most recent call last):
2024-07-18 11:35:38 | ERROR | stderr |     |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 273, in wrap
2024-07-18 11:35:38 | ERROR | stderr |     |     await func()
2024-07-18 11:35:38 | ERROR | stderr |     |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 253, in stream_response
2024-07-18 11:35:38 | ERROR | stderr |     |     async for data in self.body_iterator:
2024-07-18 11:35:38 | ERROR | stderr |     |   File "/home/00_rag/fufan-chat-api/server/chat/search_engine_chat.py", line 134, in search_engine_chat_iterator
2024-07-18 11:35:38 | ERROR | stderr |     |     if stream:
2024-07-18 11:35:38 | ERROR | stderr |     | NameError: name 'stream' is not defined
2024-07-18 11:35:38 | ERROR | stderr |     +------------------------------------
2024-07-18 11:35:38 | INFO | stdout | 2024-07-18 11:35:38,225 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:35:38 | INFO | stdout | [32mINFO[0m:     192.168.110.131:54022 - "[1mPOST /list_models HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:38 | INFO | controller | names: ['http://192.168.110.131:20002'], queue_lens: [0.0], ret: http://192.168.110.131:20002
2024-07-18 11:35:38 | INFO | stdout | [32mINFO[0m:     192.168.110.131:54036 - "[1mPOST /get_worker_address HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:38 | INFO | stdout | [32mINFO[0m:     192.168.110.131:39174 - "[1mPOST /worker_get_conv_template HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:38 | INFO | stdout | [32mINFO[0m:     192.168.110.131:39180 - "[1mPOST /model_details HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:38 | INFO | stdout | [32mINFO[0m:     192.168.110.131:39196 - "[1mPOST /count_token HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:38 | INFO | stdout | [32mINFO[0m:     192.168.110.131:40888 - "[1mPOST /v1/chat/completions HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:38 | INFO | stdout | [32mINFO[0m:     192.168.110.131:39202 - "[1mPOST /worker_generate_stream HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:39 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 11:35:39 | INFO | stdout | [32mINFO[0m:     192.168.110.131:54048 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:35:41 | INFO | stdout | 2024-07-18 11:35:41,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:35:41 | INFO | stdout | 2024-07-18 11:35:41,781 INFO sqlalchemy.engine.Engine SELECT message.id, message.conversation_id, message.chat_type, message.query, message.response, message.meta_data, message.feedback_score, message.feedback_reason, message.create_time
2024-07-18 11:35:41 | INFO | stdout | FROM message
2024-07-18 11:35:41 | INFO | stdout | WHERE message.id = %s
2024-07-18 11:35:41 | INFO | stdout | 2024-07-18 11:35:41,782 INFO sqlalchemy.engine.Engine [generated in 0.00103s] ('bee1227d-debe-43f2-9732-5fb8cd7acb9c',)
2024-07-18 11:35:41 | INFO | stdout | 2024-07-18 11:35:41,785 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:35:41 | INFO | stdout | 2024-07-18 11:35:41,787 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:35:41 | INFO | stdout | 2024-07-18 11:35:41,790 INFO sqlalchemy.engine.Engine UPDATE message SET response=%s WHERE message.id = %s
2024-07-18 11:35:41 | INFO | stdout | 2024-07-18 11:35:41,790 INFO sqlalchemy.engine.Engine [generated in 0.00062s] ('ä¿ç½—ä¹”æ²»åŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿã€‚', 'bee1227d-debe-43f2-9732-5fb8cd7acb9c')
2024-07-18 11:35:41 | INFO | stdout | 2024-07-18 11:35:41,792 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:35:48 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 11:35:48 | INFO | stdout | [32mINFO[0m:     192.168.110.131:45490 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:24 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 11:36:24 | INFO | stdout | [32mINFO[0m:     192.168.110.131:46818 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:33 | INFO | stdout | [32mINFO[0m:     192.168.110.91:58184 - "[1mPOST /api/chat/search_engine_chat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:33 | INFO | stdout | 2024-07-18 11:36:33,089 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:36:33 | INFO | stdout | 2024-07-18 11:36:33,090 INFO sqlalchemy.engine.Engine SELECT conversation.id AS conversation_id, conversation.user_id AS conversation_user_id, conversation.name AS conversation_name, conversation.chat_type AS conversation_chat_type, conversation.create_time AS conversation_create_time
2024-07-18 11:36:33 | INFO | stdout | FROM conversation
2024-07-18 11:36:33 | INFO | stdout | WHERE conversation.id = %s
2024-07-18 11:36:33 | INFO | stdout | 2024-07-18 11:36:33,091 INFO sqlalchemy.engine.Engine [cached since 65.28s ago] ('dd27db58-3002-43d9-be59-675a95ab07bb',)
2024-07-18 11:36:33 | INFO | stdout | 2024-07-18 11:36:33,094 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:36:33 | INFO | stdout | 2024-07-18 11:36:33,096 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:36:33 | INFO | stdout | 2024-07-18 11:36:33,097 INFO sqlalchemy.engine.Engine INSERT INTO message (id, conversation_id, chat_type, query, response, meta_data, feedback_score, feedback_reason, create_time) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, now())
2024-07-18 11:36:33 | INFO | stdout | 2024-07-18 11:36:33,098 INFO sqlalchemy.engine.Engine [cached since 65.28s ago] ('2c94c9cd-a993-48df-82e7-ac0928bd4ada', 'dd27db58-3002-43d9-be59-675a95ab07bb', 'real_time_search', ' ä¿ç½—ä¹”æ²»åŠ ç›Ÿäº†å“ªæ”¯NBAçƒé˜Ÿï¼Ÿ', '', '{}', -1, '')
2024-07-18 11:36:33 | INFO | stdout | 2024-07-18 11:36:33,100 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:36:33 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 11:36:33 | INFO | stdout | [32mINFO[0m:     192.168.110.131:35460 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:35 | INFO | stdout | è¯·æ±‚ URL å¤±è´¥ https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB: Connection timeout to host https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB
2024-07-18 11:36:35 | INFO | stdout | -----------------------------
2024-07-18 11:36:35 | INFO | stdout | [Document(page_content='__\n\n#  ä¿ç½—ä¹”æ²»åŠ ç›Ÿ76äººï¼Œå®£ç§°ä¸æ©æ¯”å¾·æ˜¯NBAæœ€å¼ºç»„åˆ\n\n__\n\næç¬‘çš„å£³å­  åŸåˆ› Â·  2024-07-04 08:35   Â· ä½“è‚²é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…\n\nç‚¹å‡»æŸ¥çœ‹æ›´å¤šè®¢é˜…å†…å®¹>\n\nä¿ç½—ä¹”æ²»æœ€è¿‘ä»¥ä¸€ä»½ä»·å€¼2äº¿ç¾é‡‘çš„4å¹´åˆåŒåŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿï¼Œä¸æ©æ¯”å¾·æºæ‰‹ç»„æˆäº†ä¸€æ”¯ä»¤äººç©ç›®çš„åŒäººç»„åˆã€‚é™¤äº†è¿™ä¸¤ä½é¡¶å°–çƒå‘˜ä¹‹å¤–ï¼Œé˜Ÿä¸­è¿˜æœ‰ç€æ–°æ˜Ÿé©¬å…‹è¥¿çš„åŠ ç›Ÿï¼Œä½¿å¾—è¯¥çƒé˜Ÿçœ‹èµ·æ¥å·²ç»å…·å¤‡äº†å†²å‡»æ€»å† å†›çš„å®åŠ›ã€‚ä¿ç½—ä¹”æ²»åœ¨åŠ ç›Ÿ76äººåå±•ç°å‡ºå‰æ‰€æœªæœ‰çš„è‡ªä¿¡å¿ƒã€‚\n\nåœ¨ä¸€æ¡£æ’­å®¢èŠ‚ç›®ä¸­ï¼Œä¿ç½—ä¹”æ²»å¦è¨€ï¼šâ€œå½“æˆ‘å‘Šåˆ«å¿«èˆ¹é˜Ÿæ—¶ï¼Œæˆ‘å¿ƒä¸­æœ‰äº›ä¸èˆã€‚ä½†ç”±äºå¿«èˆ¹é˜Ÿæ²¡æœ‰ç»™äºˆæˆ‘è¶³å¤Ÿçš„å°Šé‡ï¼Œæˆ‘ä¹Ÿå°±æ²¡æœ‰å†ç•™åœ¨é‚£é‡Œçš„å¿…è¦ã€‚å¯¹æˆ‘æ¥è¯´ï¼ŒåŠ ç›Ÿ76äººæ˜¯æœ€æ˜æ™ºçš„é€‰æ‹©ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä¸ä»…å¯ä»¥è·å¾—æ›´å¤šè´¢å¯Œï¼Œè¿˜æœ‰æœ›å¤ºå¾—æ€»å† å†›ã€‚æ–°èµ›å­£ï¼Œæ²¡æœ‰çƒé˜Ÿæ„¿æ„è¿æˆ˜76äººã€‚æ˜¯çš„ï¼Œæˆ‘å’Œæ©æ¯”å¾·æ„æˆäº†NBAæœ€å¼ºå¤§çš„ç»„åˆï¼Œæ²¡æœ‰äººå¯ä»¥é˜»æ­¢æˆ‘ä»¬çš„æˆåŠŸã€‚åªè¦ä¿æŒå¥åº·ï¼Œæˆ‘ä»¬å°±æœ‰æœºä¼šå¤ºå† ã€‚â€\n\néšåï¼Œä¿ç½—ä¹”æ²»é€éœ²ï¼šâ€œç»„å»ºå¥½å’Œæ©æ¯”å¾·çš„ç»„åˆåï¼Œè©¹å§†æ–¯å‘¼æˆ‘é—®ä¸ºä½•ä¸é€‰æ‹©æ¹–äººé˜Ÿåˆä½œã€‚ä»–æ¸´æœ›ä¸æˆ‘å¹¶è‚©ä½œæˆ˜ã€‚æˆ‘å‘Šè¯‰ä»–ï¼Œæ¹–äººé˜Ÿæ— æ³•æ»¡è¶³æˆ‘çš„è¦æ±‚ã€‚æ¥ç€ï¼Œè¿½æ¢¦å’Œæ ¼æ—ä¹Ÿåˆ†åˆ«è”ç³»æˆ‘ã€‚ä»–ä»¬å¯¹æˆ‘æœªåŠ ç›Ÿå‹‡å£«é˜Ÿæ„Ÿåˆ°é—æ†¾ã€‚æ€»çš„æ¥è¯´ï¼Œå¦‚ä»Šè®¸å¤šçƒé˜Ÿéƒ½å¸Œæœ›æˆ‘åŠ å…¥ï¼Œä½†æˆ‘åªä¼šé€‰æ‹©å¯¹æˆ‘æœ€æœ‰åˆ©çš„å†³å®šã€‚â€ä¹”æ²»çš„è¨€è®ºå¼•å‘äº†ç½‘ä¸Šçš„çƒ­è®®ï¼Œè®¸å¤šçƒè¿·çº·çº·è¡¨ç¤ºï¼Œå°½ç®¡76äººå®åŠ›å¼ºå¤§ï¼Œä½†å°šæœªå®Œå…¨å…·å¤‡å¤ºå† å®åŠ›ï¼Œè€Œä¹”æ²»å’Œæ©æ¯”å¾·çš„ç»„åˆä¹Ÿå¹¶éNBAæœ€å¼ºã€‚è‡³å°‘è©¹å§†æ–¯å’Œæµ“çœ‰çš„ç»„åˆè¦æ¯”ä½ ä»¬æ›´èƒœä¸€ç­¹ã€‚\n\nå‘å¸ƒäºï¼šå¹¿ä¸œçœ', metadata={'uuid': 'c99f6d04f076d93d890af98c7cd18676', 'title': 'ä¿ç½—ä¹”æ²»åŠ ç›Ÿ76äººï¼Œå®£ç§°ä¸æ©æ¯”å¾·æ˜¯NBAæœ€å¼ºç»„åˆ - æ‰‹æœºæœç‹', 'snippet': 'ä¿ç½—ä¹”æ²»æœ€è¿‘ä»¥ä¸€ä»½ä»·å€¼2äº¿ç¾é‡‘çš„4å¹´åˆåŒåŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿï¼Œä¸æ©æ¯”å¾·æºæ‰‹ç»„æˆäº†ä¸€æ”¯ä»¤äººç©ç›®çš„åŒäººç»„åˆã€‚é™¤äº†è¿™ä¸¤ä½é¡¶å°–çƒå‘˜ä¹‹å¤–ï¼Œé˜Ÿä¸­è¿˜æœ‰ç€æ–°æ˜Ÿé©¬å…‹ ...', 'link': 'https://m.sohu.com/a/790589954_121630157', 'score': '0.11842105263157898'}), Document(page_content='*   * æ–°é—»\n  * ä½“è‚²\n  * æ±½è½¦\n  * æˆ¿äº§\n  * æ—…æ¸¸\n  * æ•™è‚²\n  * æ—¶å°š\n  * ç§‘æŠ€\n  * è´¢ç»\n  * å¨±ä¹\n  * æ›´å¤š __\n\næ¯å©´ å¥åº· å†å² å†›äº‹ ç¾é£Ÿ æ–‡åŒ– æ˜Ÿåº§ ä¸“é¢˜ æ¸¸æˆ æç¬‘ åŠ¨æ¼« å® ç‰©\n\næ— éšœç¢ å…³æ€€ç‰ˆ\n\n####  æ˜¥åœ¨æºªå¤´ __\n\nç”±å†…å®¹è´¨é‡ã€äº’åŠ¨è¯„è®ºã€åˆ†äº«ä¼ æ’­ç­‰å¤šç»´åº¦åˆ†å€¼å†³å®šï¼Œå‹‹ç« çº§åˆ«è¶Šé«˜(  )ï¼Œä»£è¡¨å…¶åœ¨å¹³å°å†…çš„ç»¼åˆè¡¨ç°è¶Šå¥½ã€‚\n\n    __æ–‡ç« \n    __æ€»é˜…è¯»\n\n  * ä½“è‚²é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…\n\næŸ¥çœ‹TAçš„æ–‡ç« >\n\nè¯„è®º\n\n    __\n\n#  åŸåˆ› NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜\n\n2024-07-03 07:10\n\nå‘å¸ƒäºï¼šå¹¿ä¸œçœ\n\nç»è¿‡NBAäº¤æ˜“å¸‚åœºçš„æ³¢åŠ¨ï¼Œä¸€åˆ™å®˜æ–¹å…¬å‘Šçªå¦‚å…¶æ¥ï¼Œç«‹åˆ»åœ¨ç¯®çƒç•Œæ€èµ·è½©ç„¶å¤§æ³¢ã€‚æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚\n\nä¿ç½—Â·ä¹”æ²»ä½œä¸ºè”ç›Ÿé¡¶å°–å°å‰é”‹ï¼Œå…¶èŒä¸šç”Ÿæ¶¯å……æ»¡ä¼ å¥‡è‰²å½©ã€‚ä»å°ç¬¬å®‰çº³æ­¥è¡Œè€…é˜Ÿçš„å´›èµ·ï¼Œåˆ°æ´›æ‰çŸ¶å¿«èˆ¹é˜Ÿçš„è¾‰ç…Œï¼Œå†åˆ°å¦‚ä»Šçš„æ–°ä¸œå®¶ï¼Œä¹”æ²»æ¯ä¸€æ­¥éƒ½ç‰µåŠ¨ç€æ— æ•°çƒè¿·çš„å¿ƒå¼¦ã€‚ä»–çš„çƒé£åˆšåŠ²ã€æŠ€æœ¯å…¨é¢ï¼Œåœ¨å¤–çº¿æŠ•å°„å’Œå†…çº¿çªç ´æ–¹é¢éƒ½å±•ç°å‡ºæé«˜æ°´å‡†ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ï¼Œæ€»èƒ½åœ¨å…³é”®æ—¶åˆ»æŒºèº«è€Œå‡ºï¼Œä¸ºçƒé˜Ÿå¸¦æ¥èƒœåˆ©ã€‚\n\nåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰å‰ï¼Œä¹”æ²»å·²åœ¨è”ç›Ÿä¸­æ¼”ç»äº†å¤šå¹´ã€‚å°½ç®¡æ— æ³•åŠ©çƒé˜Ÿå¤ºå† ï¼Œä»–ä¾æ—§çƒ­çˆ±ç¯®çƒã€æ¸´æœ›èƒœåˆ©ã€‚å¾—çŸ¥è¢«è£åï¼Œä»–å¹¶æœªæ¶ˆæ²‰ï¼Œè€Œæ˜¯è¿…é€Ÿè°ƒæ•´å¿ƒæ€ï¼Œå¼€å§‹æ¢å¯»æ–°å‡ºè·¯ã€‚', metadata={'uuid': '56f49c359c1f2c9b5ad5d66d94718e3b', 'title': 'åŸåˆ›NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜ - æœç‹', 'snippet': 'æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ ...', 'link': 'https://www.sohu.com/a/790283805_121926163', 'score': '0.07894736842105265'}), Document(page_content='åœ¨è¢«å‹‡å£«é˜Ÿè£æ‰å‰ï¼Œä¹”æ²»å·²åœ¨è”ç›Ÿä¸­æ¼”ç»äº†å¤šå¹´ã€‚å°½ç®¡æ— æ³•åŠ©çƒé˜Ÿå¤ºå† ï¼Œä»–ä¾æ—§çƒ­çˆ±ç¯®çƒã€æ¸´æœ›èƒœåˆ©ã€‚å¾—çŸ¥è¢«è£åï¼Œä»–å¹¶æœªæ¶ˆæ²‰ï¼Œè€Œæ˜¯è¿…é€Ÿè°ƒæ•´å¿ƒæ€ï¼Œå¼€å§‹æ¢å¯»æ–°å‡ºè·¯ã€‚\n\nå°±åœ¨æ­¤æ—¶ï¼Œä¸€æ”¯æ‹¥æœ‰å¤šä½è¶…å·¨çš„è±ªå¼ºçƒé˜Ÿå‘ä¹”æ²»æ‹›æ‰‹ã€‚è¯¥é˜Ÿä¼—å¼ºé˜µå®¹æ·±åšåº•è•´ï¼Œæ€€æŠ±å† å†›æ¢¦æƒ³ï¼Œè€Œä¹”æ²»ä¹Ÿå¯¹è¿™æ”¯çƒé˜Ÿå……æ»¡å…´è¶£ï¼Œè§†å…¶ä¸ºå®ç°å† å†›æ¢¦æƒ³çš„æœ€ä½³å¹³å°ã€‚ç»æ·±æ€ç†Ÿè™‘ï¼Œä¹”æ²»å†³å®šä¸è¯¥é˜Ÿç­¾çº¦ï¼Œæ­£å¼åŠ å…¥ä»–ä»¬çš„è¡Œåˆ—ã€‚\n\néšç€ä¹”æ²»çš„åŠ ç›Ÿï¼Œè¯¥é˜Ÿå®åŠ›å¤§å¹…æå‡ã€‚èšé›†ä¸€ä¼—é¡¶å°–çƒå‘˜ï¼ŒåŒ…æ‹¬è¶…çº§å·¨æ˜Ÿã€å¾—åˆ†é«˜æ‰‹ã€é˜²å®ˆä¸“æ‰ç­‰ï¼Œå„å…·ç‰¹é•¿ï¼Œèƒ½å½¢æˆå®Œç¾åŒ–å­¦ååº”ã€‚åœ¨ä¹”æ²»é¢†å†›ä¸‹ï¼Œè¯¥é˜Ÿå°†å±•ç°æ›´å¼ºå¤§æˆ˜åŠ›ï¼Œæˆä¸ºè”ç›Ÿä¸å¯å¿½è§†çš„ä¸€è‚¡åŠ›é‡ã€‚\n\nå¯¹ä¹”æ²»è€Œè¨€ï¼ŒåŠ ç›Ÿæ–°ä¸œå®¶æ„å‘³ç€é¢å¯¹æ–°æŒ‘æˆ˜ã€æ–°æœºé‡ã€‚ä»–å°†ä¸å¤šä½è¶…å·¨è”æ‰‹ï¼Œå…±åŒå†²å‡»æ€»å† å†›ã€‚åœ¨è¿‡ç¨‹ä¸­ï¼Œé¡»é€‚åº”æ–°æˆ˜æœ¯ä½“ç³»ï¼Œä¸é˜Ÿå‹å»ºç«‹é»˜å¥‘é…åˆï¼Œå…³é”®æ—¶åˆ»æŒºèº«è€Œå‡ºï¼Œä¸ºçƒé˜Ÿæ–©è·èƒœåˆ©ã€‚ä»–å·²åšå¥½å……åˆ†å‡†å¤‡ï¼Œåšä¿¡ä¸ªäººå®åŠ›å’Œç»éªŒèƒ½åŠ©çƒé˜Ÿåœ†å† æ¢¦ã€‚\n\nå¯¹çƒè¿·è€Œè¨€ï¼Œä¹”æ²»çš„åŠ ç›Ÿæ— ç–‘æ˜¯å·¨å¤§æƒŠå–œã€‚æœŸå¾…ä»–åœ¨æ–°é˜Ÿä¸­æœ‰æ›´è€€çœ¼è¡¨ç°ï¼Œç›¸ä¿¡åœ¨å…¶å¼•é¢†ä¸‹ï¼Œè¯¥é˜Ÿå¿…å°†æˆä¸ºè”ç›Ÿå¼ºé˜Ÿï¼Œä¸ºçƒè¿·å¸¦æ¥æ›´å¤šç²¾å½©å¯¹å†³ã€éš¾å¿˜ç¬é—´ã€‚\n\nå›é¡¾ä¹”æ²»èŒä¸šç”Ÿæ¶¯ï¼Œä»–ä¸€ç›´æ€€ç€çƒ­çˆ±ç¯®çƒã€è¿½æ±‚å“è¶Šã€‚æ— è®ºåœ¨æ­¥è¡Œè€…é˜Ÿæˆ–å¿«èˆ¹é˜Ÿï¼Œä¸ºçƒé˜Ÿè´¡çŒ®å·¨å¤§ã€‚ç°åŠ ç›Ÿæ–°ä¸œå®¶ï¼Œå°†ç»§ç»­ä¼ æ‰¿ä¼ å¥‡ã€‚æœªæ¥ï¼Œæ„¿å…±åŒè§è¯ä¹”æ²»ä¸é˜Ÿå‹ä¹¦å†™æ–°ç¯‡ç« ã€‚æ‚¨å¦‚ä½•çœ‹å¾…è¿™ä¸€åˆ‡ï¼Ÿæ¬¢è¿ç•™è¨€è¯„è®ºï¼\n__è¿”å›æœç‹ï¼ŒæŸ¥çœ‹æ›´å¤š\n\nè´£ä»»ç¼–è¾‘ï¼š\n\nå¹³å°å£°æ˜ï¼šè¯¥æ–‡è§‚ç‚¹ä»…ä»£è¡¨ä½œè€…æœ¬äººï¼Œæœç‹å·ç³»ä¿¡æ¯å‘å¸ƒå¹³å°ï¼Œæœç‹ä»…æä¾›ä¿¡æ¯å­˜å‚¨ç©ºé—´æœåŠ¡ã€‚\n\né˜…è¯» (__)\n\n__æ¨èé˜…è¯»', metadata={'uuid': '56f49c359c1f2c9b5ad5d66d94718e3b', 'title': 'åŸåˆ›NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜ - æœç‹', 'snippet': 'æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ ...', 'link': 'https://www.sohu.com/a/790283805_121926163', 'score': '0.07894736842105265'})]
2024-07-18 11:36:36 | INFO | stdout | 2024-07-18 11:36:36,153 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:36:36 | INFO | stdout | 2024-07-18 11:36:36,153 INFO sqlalchemy.engine.Engine SELECT message.id, message.conversation_id, message.chat_type, message.query, message.response, message.meta_data, message.feedback_score, message.feedback_reason, message.create_time
2024-07-18 11:36:36 | INFO | stdout | FROM message
2024-07-18 11:36:36 | INFO | stdout | WHERE message.conversation_id = %s AND message.chat_type = %s AND message.response != %s ORDER BY message.create_time DESC
2024-07-18 11:36:36 | INFO | stdout |  LIMIT %s
2024-07-18 11:36:36 | INFO | stdout | 2024-07-18 11:36:36,154 INFO sqlalchemy.engine.Engine [cached since 57.94s ago] ('dd27db58-3002-43d9-be59-675a95ab07bb', 'real_time_search', '', 10)
2024-07-18 11:36:36 | ERROR | stderr | [31mERROR[0m:    Exception in ASGI application
2024-07-18 11:36:36 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 11:36:36 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 284, in __call__
2024-07-18 11:36:36 | ERROR | stderr |     await wrap(partial(self.listen_for_disconnect, receive))
2024-07-18 11:36:36 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 273, in wrap
2024-07-18 11:36:36 | ERROR | stderr |     await func()
2024-07-18 11:36:36 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 223, in listen_for_disconnect
2024-07-18 11:36:36 | ERROR | stderr |     message = await receive()
2024-07-18 11:36:36 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/protocols/http/httptools_impl.py", line 553, in receive
2024-07-18 11:36:36 | ERROR | stderr |     await self.message_event.wait()
2024-07-18 11:36:36 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/asyncio/locks.py", line 213, in wait
2024-07-18 11:36:36 | ERROR | stderr |     await fut
2024-07-18 11:36:36 | ERROR | stderr | asyncio.exceptions.CancelledError: Cancelled by cancel scope 7feea8a726b0
2024-07-18 11:36:36 | ERROR | stderr | 
2024-07-18 11:36:36 | ERROR | stderr | During handling of the above exception, another exception occurred:
2024-07-18 11:36:36 | ERROR | stderr | 
2024-07-18 11:36:36 | ERROR | stderr |   + Exception Group Traceback (most recent call last):
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/protocols/http/httptools_impl.py", line 399, in run_asgi
2024-07-18 11:36:36 | ERROR | stderr |   |     result = await app(  # type: ignore[func-returns-value]
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
2024-07-18 11:36:36 | ERROR | stderr |   |     return await self.app(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
2024-07-18 11:36:36 | ERROR | stderr |   |     await super().__call__(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
2024-07-18 11:36:36 | ERROR | stderr |   |     await self.middleware_stack(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
2024-07-18 11:36:36 | ERROR | stderr |   |     raise exc
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
2024-07-18 11:36:36 | ERROR | stderr |   |     await self.app(scope, receive, _send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
2024-07-18 11:36:36 | ERROR | stderr |   |     await self.app(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
2024-07-18 11:36:36 | ERROR | stderr |   |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
2024-07-18 11:36:36 | ERROR | stderr |   |     raise exc
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2024-07-18 11:36:36 | ERROR | stderr |   |     await app(scope, receive, sender)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
2024-07-18 11:36:36 | ERROR | stderr |   |     await self.middleware_stack(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
2024-07-18 11:36:36 | ERROR | stderr |   |     await route.handle(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
2024-07-18 11:36:36 | ERROR | stderr |   |     await self.app(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
2024-07-18 11:36:36 | ERROR | stderr |   |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
2024-07-18 11:36:36 | ERROR | stderr |   |     raise exc
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2024-07-18 11:36:36 | ERROR | stderr |   |     await app(scope, receive, sender)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
2024-07-18 11:36:36 | ERROR | stderr |   |     await response(scope, receive, send)
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 270, in __call__
2024-07-18 11:36:36 | ERROR | stderr |   |     async with anyio.create_task_group() as task_group:
2024-07-18 11:36:36 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 680, in __aexit__
2024-07-18 11:36:36 | ERROR | stderr |   |     raise BaseExceptionGroup(
2024-07-18 11:36:36 | ERROR | stderr |   | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
2024-07-18 11:36:36 | ERROR | stderr |   +-+---------------- 1 ----------------
2024-07-18 11:36:36 | ERROR | stderr |     | Traceback (most recent call last):
2024-07-18 11:36:36 | ERROR | stderr |     |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 273, in wrap
2024-07-18 11:36:36 | ERROR | stderr |     |     await func()
2024-07-18 11:36:36 | ERROR | stderr |     |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 253, in stream_response
2024-07-18 11:36:36 | ERROR | stderr |     |     async for data in self.body_iterator:
2024-07-18 11:36:36 | ERROR | stderr |     |   File "/home/00_rag/fufan-chat-api/server/chat/search_engine_chat.py", line 134, in search_engine_chat_iterator
2024-07-18 11:36:36 | ERROR | stderr |     |     if STREAM:
2024-07-18 11:36:36 | ERROR | stderr |     | NameError: name 'stream' is not defined
2024-07-18 11:36:36 | ERROR | stderr |     +------------------------------------
2024-07-18 11:36:36 | INFO | stdout | 2024-07-18 11:36:36,167 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:36:36 | INFO | stdout | [32mINFO[0m:     192.168.110.131:35470 - "[1mPOST /list_models HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:36 | INFO | controller | names: ['http://192.168.110.131:20002'], queue_lens: [0.0], ret: http://192.168.110.131:20002
2024-07-18 11:36:36 | INFO | stdout | [32mINFO[0m:     192.168.110.131:35484 - "[1mPOST /get_worker_address HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:36 | INFO | stdout | [32mINFO[0m:     192.168.110.131:51076 - "[1mPOST /model_details HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:36 | INFO | stdout | [32mINFO[0m:     192.168.110.131:51088 - "[1mPOST /count_token HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:36 | INFO | stdout | [32mINFO[0m:     192.168.110.131:41706 - "[1mPOST /v1/chat/completions HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:36 | INFO | stdout | [32mINFO[0m:     192.168.110.131:51092 - "[1mPOST /worker_generate_stream HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:36:37 | INFO | stdout | 2024-07-18 11:36:37,555 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:36:37 | INFO | stdout | 2024-07-18 11:36:37,556 INFO sqlalchemy.engine.Engine SELECT message.id, message.conversation_id, message.chat_type, message.query, message.response, message.meta_data, message.feedback_score, message.feedback_reason, message.create_time
2024-07-18 11:36:37 | INFO | stdout | FROM message
2024-07-18 11:36:37 | INFO | stdout | WHERE message.id = %s
2024-07-18 11:36:37 | INFO | stdout | 2024-07-18 11:36:37,556 INFO sqlalchemy.engine.Engine [cached since 55.78s ago] ('2c94c9cd-a993-48df-82e7-ac0928bd4ada',)
2024-07-18 11:36:37 | INFO | stdout | 2024-07-18 11:36:37,559 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:36:37 | INFO | stdout | 2024-07-18 11:36:37,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:36:37 | INFO | stdout | 2024-07-18 11:36:37,562 INFO sqlalchemy.engine.Engine UPDATE message SET response=%s WHERE message.id = %s
2024-07-18 11:36:37 | INFO | stdout | 2024-07-18 11:36:37,562 INFO sqlalchemy.engine.Engine [cached since 55.77s ago] ('ä¿ç½—ä¹”æ²»åŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿã€‚', '2c94c9cd-a993-48df-82e7-ac0928bd4ada')
2024-07-18 11:36:37 | INFO | stdout | 2024-07-18 11:36:37,564 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:37:09 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 11:37:09 | INFO | stdout | [32mINFO[0m:     192.168.110.131:46380 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:37:18 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 11:37:18 | INFO | stdout | [32mINFO[0m:     192.168.110.131:53152 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:37:49 | INFO | stdout | [32mINFO[0m:     192.168.110.91:58225 - "[1mPOST /api/chat/search_engine_chat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:37:49 | INFO | stdout | 2024-07-18 11:37:49,476 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:37:49 | INFO | stdout | 2024-07-18 11:37:49,477 INFO sqlalchemy.engine.Engine SELECT conversation.id AS conversation_id, conversation.user_id AS conversation_user_id, conversation.name AS conversation_name, conversation.chat_type AS conversation_chat_type, conversation.create_time AS conversation_create_time
2024-07-18 11:37:49 | INFO | stdout | FROM conversation
2024-07-18 11:37:49 | INFO | stdout | WHERE conversation.id = %s
2024-07-18 11:37:49 | INFO | stdout | 2024-07-18 11:37:49,478 INFO sqlalchemy.engine.Engine [cached since 141.7s ago] ('dd27db58-3002-43d9-be59-675a95ab07bb',)
2024-07-18 11:37:49 | INFO | stdout | 2024-07-18 11:37:49,480 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:37:49 | INFO | stdout | 2024-07-18 11:37:49,483 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:37:49 | INFO | stdout | 2024-07-18 11:37:49,484 INFO sqlalchemy.engine.Engine INSERT INTO message (id, conversation_id, chat_type, query, response, meta_data, feedback_score, feedback_reason, create_time) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, now())
2024-07-18 11:37:49 | INFO | stdout | 2024-07-18 11:37:49,484 INFO sqlalchemy.engine.Engine [cached since 141.7s ago] ('0aa17ea5-53fc-4d5d-a7a3-555ebc655f64', 'dd27db58-3002-43d9-be59-675a95ab07bb', 'real_time_search', ' ä¿ç½—ä¹”æ²»åŠ ç›Ÿäº†å“ªæ”¯NBAçƒé˜Ÿï¼Ÿ', '', '{}', -1, '')
2024-07-18 11:37:49 | INFO | stdout | 2024-07-18 11:37:49,486 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:37:52 | INFO | stdout | è¯·æ±‚ URL å¤±è´¥ https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB: Connection timeout to host https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB
2024-07-18 11:37:52 | INFO | stdout | -----------------------------
2024-07-18 11:37:52 | INFO | stdout | [Document(page_content='__\n\n#  ä¿ç½—ä¹”æ²»åŠ ç›Ÿ76äººï¼Œå®£ç§°ä¸æ©æ¯”å¾·æ˜¯NBAæœ€å¼ºç»„åˆ\n\n__\n\næç¬‘çš„å£³å­  åŸåˆ› Â·  2024-07-04 08:35   Â· ä½“è‚²é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…\n\nç‚¹å‡»æŸ¥çœ‹æ›´å¤šè®¢é˜…å†…å®¹>\n\nä¿ç½—ä¹”æ²»æœ€è¿‘ä»¥ä¸€ä»½ä»·å€¼2äº¿ç¾é‡‘çš„4å¹´åˆåŒåŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿï¼Œä¸æ©æ¯”å¾·æºæ‰‹ç»„æˆäº†ä¸€æ”¯ä»¤äººç©ç›®çš„åŒäººç»„åˆã€‚é™¤äº†è¿™ä¸¤ä½é¡¶å°–çƒå‘˜ä¹‹å¤–ï¼Œé˜Ÿä¸­è¿˜æœ‰ç€æ–°æ˜Ÿé©¬å…‹è¥¿çš„åŠ ç›Ÿï¼Œä½¿å¾—è¯¥çƒé˜Ÿçœ‹èµ·æ¥å·²ç»å…·å¤‡äº†å†²å‡»æ€»å† å†›çš„å®åŠ›ã€‚ä¿ç½—ä¹”æ²»åœ¨åŠ ç›Ÿ76äººåå±•ç°å‡ºå‰æ‰€æœªæœ‰çš„è‡ªä¿¡å¿ƒã€‚\n\nåœ¨ä¸€æ¡£æ’­å®¢èŠ‚ç›®ä¸­ï¼Œä¿ç½—ä¹”æ²»å¦è¨€ï¼šâ€œå½“æˆ‘å‘Šåˆ«å¿«èˆ¹é˜Ÿæ—¶ï¼Œæˆ‘å¿ƒä¸­æœ‰äº›ä¸èˆã€‚ä½†ç”±äºå¿«èˆ¹é˜Ÿæ²¡æœ‰ç»™äºˆæˆ‘è¶³å¤Ÿçš„å°Šé‡ï¼Œæˆ‘ä¹Ÿå°±æ²¡æœ‰å†ç•™åœ¨é‚£é‡Œçš„å¿…è¦ã€‚å¯¹æˆ‘æ¥è¯´ï¼ŒåŠ ç›Ÿ76äººæ˜¯æœ€æ˜æ™ºçš„é€‰æ‹©ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä¸ä»…å¯ä»¥è·å¾—æ›´å¤šè´¢å¯Œï¼Œè¿˜æœ‰æœ›å¤ºå¾—æ€»å† å†›ã€‚æ–°èµ›å­£ï¼Œæ²¡æœ‰çƒé˜Ÿæ„¿æ„è¿æˆ˜76äººã€‚æ˜¯çš„ï¼Œæˆ‘å’Œæ©æ¯”å¾·æ„æˆäº†NBAæœ€å¼ºå¤§çš„ç»„åˆï¼Œæ²¡æœ‰äººå¯ä»¥é˜»æ­¢æˆ‘ä»¬çš„æˆåŠŸã€‚åªè¦ä¿æŒå¥åº·ï¼Œæˆ‘ä»¬å°±æœ‰æœºä¼šå¤ºå† ã€‚â€\n\néšåï¼Œä¿ç½—ä¹”æ²»é€éœ²ï¼šâ€œç»„å»ºå¥½å’Œæ©æ¯”å¾·çš„ç»„åˆåï¼Œè©¹å§†æ–¯å‘¼æˆ‘é—®ä¸ºä½•ä¸é€‰æ‹©æ¹–äººé˜Ÿåˆä½œã€‚ä»–æ¸´æœ›ä¸æˆ‘å¹¶è‚©ä½œæˆ˜ã€‚æˆ‘å‘Šè¯‰ä»–ï¼Œæ¹–äººé˜Ÿæ— æ³•æ»¡è¶³æˆ‘çš„è¦æ±‚ã€‚æ¥ç€ï¼Œè¿½æ¢¦å’Œæ ¼æ—ä¹Ÿåˆ†åˆ«è”ç³»æˆ‘ã€‚ä»–ä»¬å¯¹æˆ‘æœªåŠ ç›Ÿå‹‡å£«é˜Ÿæ„Ÿåˆ°é—æ†¾ã€‚æ€»çš„æ¥è¯´ï¼Œå¦‚ä»Šè®¸å¤šçƒé˜Ÿéƒ½å¸Œæœ›æˆ‘åŠ å…¥ï¼Œä½†æˆ‘åªä¼šé€‰æ‹©å¯¹æˆ‘æœ€æœ‰åˆ©çš„å†³å®šã€‚â€ä¹”æ²»çš„è¨€è®ºå¼•å‘äº†ç½‘ä¸Šçš„çƒ­è®®ï¼Œè®¸å¤šçƒè¿·çº·çº·è¡¨ç¤ºï¼Œå°½ç®¡76äººå®åŠ›å¼ºå¤§ï¼Œä½†å°šæœªå®Œå…¨å…·å¤‡å¤ºå† å®åŠ›ï¼Œè€Œä¹”æ²»å’Œæ©æ¯”å¾·çš„ç»„åˆä¹Ÿå¹¶éNBAæœ€å¼ºã€‚è‡³å°‘è©¹å§†æ–¯å’Œæµ“çœ‰çš„ç»„åˆè¦æ¯”ä½ ä»¬æ›´èƒœä¸€ç­¹ã€‚\n\nå‘å¸ƒäºï¼šå¹¿ä¸œçœ', metadata={'uuid': 'c99f6d04f076d93d890af98c7cd18676', 'title': 'ä¿ç½—ä¹”æ²»åŠ ç›Ÿ76äººï¼Œå®£ç§°ä¸æ©æ¯”å¾·æ˜¯NBAæœ€å¼ºç»„åˆ - æ‰‹æœºæœç‹', 'snippet': 'ä¿ç½—ä¹”æ²»æœ€è¿‘ä»¥ä¸€ä»½ä»·å€¼2äº¿ç¾é‡‘çš„4å¹´åˆåŒåŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿï¼Œä¸æ©æ¯”å¾·æºæ‰‹ç»„æˆäº†ä¸€æ”¯ä»¤äººç©ç›®çš„åŒäººç»„åˆã€‚é™¤äº†è¿™ä¸¤ä½é¡¶å°–çƒå‘˜ä¹‹å¤–ï¼Œé˜Ÿä¸­è¿˜æœ‰ç€æ–°æ˜Ÿé©¬å…‹ ...', 'link': 'https://m.sohu.com/a/790589954_121630157', 'score': '0.11842105263157898'}), Document(page_content='*   * æ–°é—»\n  * ä½“è‚²\n  * æ±½è½¦\n  * æˆ¿äº§\n  * æ—…æ¸¸\n  * æ•™è‚²\n  * æ—¶å°š\n  * ç§‘æŠ€\n  * è´¢ç»\n  * å¨±ä¹\n  * æ›´å¤š __\n\næ¯å©´ å¥åº· å†å² å†›äº‹ ç¾é£Ÿ æ–‡åŒ– æ˜Ÿåº§ ä¸“é¢˜ æ¸¸æˆ æç¬‘ åŠ¨æ¼« å® ç‰©\n\næ— éšœç¢ å…³æ€€ç‰ˆ\n\n####  æ˜¥åœ¨æºªå¤´ __\n\nç”±å†…å®¹è´¨é‡ã€äº’åŠ¨è¯„è®ºã€åˆ†äº«ä¼ æ’­ç­‰å¤šç»´åº¦åˆ†å€¼å†³å®šï¼Œå‹‹ç« çº§åˆ«è¶Šé«˜(  )ï¼Œä»£è¡¨å…¶åœ¨å¹³å°å†…çš„ç»¼åˆè¡¨ç°è¶Šå¥½ã€‚\n\n    __æ–‡ç« \n    __æ€»é˜…è¯»\n\n  * ä½“è‚²é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…\n\næŸ¥çœ‹TAçš„æ–‡ç« >\n\nè¯„è®º\n\n    __\n\n#  åŸåˆ› NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜\n\n2024-07-03 07:10\n\nå‘å¸ƒäºï¼šå¹¿ä¸œçœ\n\nç»è¿‡NBAäº¤æ˜“å¸‚åœºçš„æ³¢åŠ¨ï¼Œä¸€åˆ™å®˜æ–¹å…¬å‘Šçªå¦‚å…¶æ¥ï¼Œç«‹åˆ»åœ¨ç¯®çƒç•Œæ€èµ·è½©ç„¶å¤§æ³¢ã€‚æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚\n\nä¿ç½—Â·ä¹”æ²»ä½œä¸ºè”ç›Ÿé¡¶å°–å°å‰é”‹ï¼Œå…¶èŒä¸šç”Ÿæ¶¯å……æ»¡ä¼ å¥‡è‰²å½©ã€‚ä»å°ç¬¬å®‰çº³æ­¥è¡Œè€…é˜Ÿçš„å´›èµ·ï¼Œåˆ°æ´›æ‰çŸ¶å¿«èˆ¹é˜Ÿçš„è¾‰ç…Œï¼Œå†åˆ°å¦‚ä»Šçš„æ–°ä¸œå®¶ï¼Œä¹”æ²»æ¯ä¸€æ­¥éƒ½ç‰µåŠ¨ç€æ— æ•°çƒè¿·çš„å¿ƒå¼¦ã€‚ä»–çš„çƒé£åˆšåŠ²ã€æŠ€æœ¯å…¨é¢ï¼Œåœ¨å¤–çº¿æŠ•å°„å’Œå†…çº¿çªç ´æ–¹é¢éƒ½å±•ç°å‡ºæé«˜æ°´å‡†ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ï¼Œæ€»èƒ½åœ¨å…³é”®æ—¶åˆ»æŒºèº«è€Œå‡ºï¼Œä¸ºçƒé˜Ÿå¸¦æ¥èƒœåˆ©ã€‚\n\nåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰å‰ï¼Œä¹”æ²»å·²åœ¨è”ç›Ÿä¸­æ¼”ç»äº†å¤šå¹´ã€‚å°½ç®¡æ— æ³•åŠ©çƒé˜Ÿå¤ºå† ï¼Œä»–ä¾æ—§çƒ­çˆ±ç¯®çƒã€æ¸´æœ›èƒœåˆ©ã€‚å¾—çŸ¥è¢«è£åï¼Œä»–å¹¶æœªæ¶ˆæ²‰ï¼Œè€Œæ˜¯è¿…é€Ÿè°ƒæ•´å¿ƒæ€ï¼Œå¼€å§‹æ¢å¯»æ–°å‡ºè·¯ã€‚', metadata={'uuid': '56f49c359c1f2c9b5ad5d66d94718e3b', 'title': 'åŸåˆ›NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜ - æœç‹', 'snippet': 'æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ ...', 'link': 'https://www.sohu.com/a/790283805_121926163', 'score': '0.07894736842105265'}), Document(page_content='åœ¨è¢«å‹‡å£«é˜Ÿè£æ‰å‰ï¼Œä¹”æ²»å·²åœ¨è”ç›Ÿä¸­æ¼”ç»äº†å¤šå¹´ã€‚å°½ç®¡æ— æ³•åŠ©çƒé˜Ÿå¤ºå† ï¼Œä»–ä¾æ—§çƒ­çˆ±ç¯®çƒã€æ¸´æœ›èƒœåˆ©ã€‚å¾—çŸ¥è¢«è£åï¼Œä»–å¹¶æœªæ¶ˆæ²‰ï¼Œè€Œæ˜¯è¿…é€Ÿè°ƒæ•´å¿ƒæ€ï¼Œå¼€å§‹æ¢å¯»æ–°å‡ºè·¯ã€‚\n\nå°±åœ¨æ­¤æ—¶ï¼Œä¸€æ”¯æ‹¥æœ‰å¤šä½è¶…å·¨çš„è±ªå¼ºçƒé˜Ÿå‘ä¹”æ²»æ‹›æ‰‹ã€‚è¯¥é˜Ÿä¼—å¼ºé˜µå®¹æ·±åšåº•è•´ï¼Œæ€€æŠ±å† å†›æ¢¦æƒ³ï¼Œè€Œä¹”æ²»ä¹Ÿå¯¹è¿™æ”¯çƒé˜Ÿå……æ»¡å…´è¶£ï¼Œè§†å…¶ä¸ºå®ç°å† å†›æ¢¦æƒ³çš„æœ€ä½³å¹³å°ã€‚ç»æ·±æ€ç†Ÿè™‘ï¼Œä¹”æ²»å†³å®šä¸è¯¥é˜Ÿç­¾çº¦ï¼Œæ­£å¼åŠ å…¥ä»–ä»¬çš„è¡Œåˆ—ã€‚\n\néšç€ä¹”æ²»çš„åŠ ç›Ÿï¼Œè¯¥é˜Ÿå®åŠ›å¤§å¹…æå‡ã€‚èšé›†ä¸€ä¼—é¡¶å°–çƒå‘˜ï¼ŒåŒ…æ‹¬è¶…çº§å·¨æ˜Ÿã€å¾—åˆ†é«˜æ‰‹ã€é˜²å®ˆä¸“æ‰ç­‰ï¼Œå„å…·ç‰¹é•¿ï¼Œèƒ½å½¢æˆå®Œç¾åŒ–å­¦ååº”ã€‚åœ¨ä¹”æ²»é¢†å†›ä¸‹ï¼Œè¯¥é˜Ÿå°†å±•ç°æ›´å¼ºå¤§æˆ˜åŠ›ï¼Œæˆä¸ºè”ç›Ÿä¸å¯å¿½è§†çš„ä¸€è‚¡åŠ›é‡ã€‚\n\nå¯¹ä¹”æ²»è€Œè¨€ï¼ŒåŠ ç›Ÿæ–°ä¸œå®¶æ„å‘³ç€é¢å¯¹æ–°æŒ‘æˆ˜ã€æ–°æœºé‡ã€‚ä»–å°†ä¸å¤šä½è¶…å·¨è”æ‰‹ï¼Œå…±åŒå†²å‡»æ€»å† å†›ã€‚åœ¨è¿‡ç¨‹ä¸­ï¼Œé¡»é€‚åº”æ–°æˆ˜æœ¯ä½“ç³»ï¼Œä¸é˜Ÿå‹å»ºç«‹é»˜å¥‘é…åˆï¼Œå…³é”®æ—¶åˆ»æŒºèº«è€Œå‡ºï¼Œä¸ºçƒé˜Ÿæ–©è·èƒœåˆ©ã€‚ä»–å·²åšå¥½å……åˆ†å‡†å¤‡ï¼Œåšä¿¡ä¸ªäººå®åŠ›å’Œç»éªŒèƒ½åŠ©çƒé˜Ÿåœ†å† æ¢¦ã€‚\n\nå¯¹çƒè¿·è€Œè¨€ï¼Œä¹”æ²»çš„åŠ ç›Ÿæ— ç–‘æ˜¯å·¨å¤§æƒŠå–œã€‚æœŸå¾…ä»–åœ¨æ–°é˜Ÿä¸­æœ‰æ›´è€€çœ¼è¡¨ç°ï¼Œç›¸ä¿¡åœ¨å…¶å¼•é¢†ä¸‹ï¼Œè¯¥é˜Ÿå¿…å°†æˆä¸ºè”ç›Ÿå¼ºé˜Ÿï¼Œä¸ºçƒè¿·å¸¦æ¥æ›´å¤šç²¾å½©å¯¹å†³ã€éš¾å¿˜ç¬é—´ã€‚\n\nå›é¡¾ä¹”æ²»èŒä¸šç”Ÿæ¶¯ï¼Œä»–ä¸€ç›´æ€€ç€çƒ­çˆ±ç¯®çƒã€è¿½æ±‚å“è¶Šã€‚æ— è®ºåœ¨æ­¥è¡Œè€…é˜Ÿæˆ–å¿«èˆ¹é˜Ÿï¼Œä¸ºçƒé˜Ÿè´¡çŒ®å·¨å¤§ã€‚ç°åŠ ç›Ÿæ–°ä¸œå®¶ï¼Œå°†ç»§ç»­ä¼ æ‰¿ä¼ å¥‡ã€‚æœªæ¥ï¼Œæ„¿å…±åŒè§è¯ä¹”æ²»ä¸é˜Ÿå‹ä¹¦å†™æ–°ç¯‡ç« ã€‚æ‚¨å¦‚ä½•çœ‹å¾…è¿™ä¸€åˆ‡ï¼Ÿæ¬¢è¿ç•™è¨€è¯„è®ºï¼\n__è¿”å›æœç‹ï¼ŒæŸ¥çœ‹æ›´å¤š\n\nè´£ä»»ç¼–è¾‘ï¼š\n\nå¹³å°å£°æ˜ï¼šè¯¥æ–‡è§‚ç‚¹ä»…ä»£è¡¨ä½œè€…æœ¬äººï¼Œæœç‹å·ç³»ä¿¡æ¯å‘å¸ƒå¹³å°ï¼Œæœç‹ä»…æä¾›ä¿¡æ¯å­˜å‚¨ç©ºé—´æœåŠ¡ã€‚\n\né˜…è¯» (__)\n\n__æ¨èé˜…è¯»', metadata={'uuid': '56f49c359c1f2c9b5ad5d66d94718e3b', 'title': 'åŸåˆ›NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜ - æœç‹', 'snippet': 'æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ ...', 'link': 'https://www.sohu.com/a/790283805_121926163', 'score': '0.07894736842105265'})]
2024-07-18 11:37:52 | INFO | stdout | 2024-07-18 11:37:52,551 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:37:52 | INFO | stdout | 2024-07-18 11:37:52,551 INFO sqlalchemy.engine.Engine SELECT message.id, message.conversation_id, message.chat_type, message.query, message.response, message.meta_data, message.feedback_score, message.feedback_reason, message.create_time
2024-07-18 11:37:52 | INFO | stdout | FROM message
2024-07-18 11:37:52 | INFO | stdout | WHERE message.conversation_id = %s AND message.chat_type = %s AND message.response != %s ORDER BY message.create_time DESC
2024-07-18 11:37:52 | INFO | stdout |  LIMIT %s
2024-07-18 11:37:52 | INFO | stdout | 2024-07-18 11:37:52,552 INFO sqlalchemy.engine.Engine [cached since 134.3s ago] ('dd27db58-3002-43d9-be59-675a95ab07bb', 'real_time_search', '', 10)
2024-07-18 11:37:52 | ERROR | stderr | [31mERROR[0m:    Exception in ASGI application
2024-07-18 11:37:52 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 11:37:52 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 284, in __call__
2024-07-18 11:37:52 | ERROR | stderr |     await wrap(partial(self.listen_for_disconnect, receive))
2024-07-18 11:37:52 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 273, in wrap
2024-07-18 11:37:52 | ERROR | stderr |     await func()
2024-07-18 11:37:52 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 223, in listen_for_disconnect
2024-07-18 11:37:52 | ERROR | stderr |     message = await receive()
2024-07-18 11:37:52 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/protocols/http/httptools_impl.py", line 553, in receive
2024-07-18 11:37:52 | ERROR | stderr |     await self.message_event.wait()
2024-07-18 11:37:52 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/asyncio/locks.py", line 213, in wait
2024-07-18 11:37:52 | ERROR | stderr |     await fut
2024-07-18 11:37:52 | ERROR | stderr | asyncio.exceptions.CancelledError: Cancelled by cancel scope 7fee9441baf0
2024-07-18 11:37:52 | ERROR | stderr | 
2024-07-18 11:37:52 | ERROR | stderr | During handling of the above exception, another exception occurred:
2024-07-18 11:37:52 | ERROR | stderr | 
2024-07-18 11:37:52 | ERROR | stderr |   + Exception Group Traceback (most recent call last):
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/protocols/http/httptools_impl.py", line 399, in run_asgi
2024-07-18 11:37:52 | ERROR | stderr |   |     result = await app(  # type: ignore[func-returns-value]
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 70, in __call__
2024-07-18 11:37:52 | ERROR | stderr |   |     return await self.app(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
2024-07-18 11:37:52 | ERROR | stderr |   |     await super().__call__(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
2024-07-18 11:37:52 | ERROR | stderr |   |     await self.middleware_stack(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
2024-07-18 11:37:52 | ERROR | stderr |   |     raise exc
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
2024-07-18 11:37:52 | ERROR | stderr |   |     await self.app(scope, receive, _send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
2024-07-18 11:37:52 | ERROR | stderr |   |     await self.app(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
2024-07-18 11:37:52 | ERROR | stderr |   |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
2024-07-18 11:37:52 | ERROR | stderr |   |     raise exc
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2024-07-18 11:37:52 | ERROR | stderr |   |     await app(scope, receive, sender)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
2024-07-18 11:37:52 | ERROR | stderr |   |     await self.middleware_stack(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
2024-07-18 11:37:52 | ERROR | stderr |   |     await route.handle(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
2024-07-18 11:37:52 | ERROR | stderr |   |     await self.app(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
2024-07-18 11:37:52 | ERROR | stderr |   |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
2024-07-18 11:37:52 | ERROR | stderr |   |     raise exc
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2024-07-18 11:37:52 | ERROR | stderr |   |     await app(scope, receive, sender)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
2024-07-18 11:37:52 | ERROR | stderr |   |     await response(scope, receive, send)
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 270, in __call__
2024-07-18 11:37:52 | ERROR | stderr |   |     async with anyio.create_task_group() as task_group:
2024-07-18 11:37:52 | ERROR | stderr |   |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 680, in __aexit__
2024-07-18 11:37:52 | ERROR | stderr |   |     raise BaseExceptionGroup(
2024-07-18 11:37:52 | ERROR | stderr |   | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
2024-07-18 11:37:52 | ERROR | stderr |   +-+---------------- 1 ----------------
2024-07-18 11:37:52 | ERROR | stderr |     | Traceback (most recent call last):
2024-07-18 11:37:52 | ERROR | stderr |     |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 273, in wrap
2024-07-18 11:37:52 | ERROR | stderr |     |     await func()
2024-07-18 11:37:52 | ERROR | stderr |     |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/site-packages/sse_starlette/sse.py", line 253, in stream_response
2024-07-18 11:37:52 | ERROR | stderr |     |     async for data in self.body_iterator:
2024-07-18 11:37:52 | ERROR | stderr |     |   File "/home/00_rag/fufan-chat-api/server/chat/search_engine_chat.py", line 134, in search_engine_chat_iterator
2024-07-18 11:37:52 | ERROR | stderr |     |     if STREAM:
2024-07-18 11:37:52 | ERROR | stderr |     | NameError: name 'stream' is not defined
2024-07-18 11:37:52 | ERROR | stderr |     +------------------------------------
2024-07-18 11:37:52 | INFO | stdout | 2024-07-18 11:37:52,560 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:37:52 | INFO | stdout | [32mINFO[0m:     192.168.110.131:35224 - "[1mPOST /list_models HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:37:52 | INFO | controller | names: ['http://192.168.110.131:20002'], queue_lens: [0.0], ret: http://192.168.110.131:20002
2024-07-18 11:37:52 | INFO | stdout | [32mINFO[0m:     192.168.110.131:35226 - "[1mPOST /get_worker_address HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:37:52 | INFO | stdout | [32mINFO[0m:     192.168.110.131:50038 - "[1mPOST /model_details HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:37:52 | INFO | stdout | [32mINFO[0m:     192.168.110.131:50044 - "[1mPOST /count_token HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:37:52 | INFO | stdout | [32mINFO[0m:     192.168.110.131:46404 - "[1mPOST /v1/chat/completions HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:37:52 | INFO | stdout | [32mINFO[0m:     192.168.110.131:50058 - "[1mPOST /worker_generate_stream HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:37:53 | INFO | stdout | 2024-07-18 11:37:53,400 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:37:53 | INFO | stdout | 2024-07-18 11:37:53,401 INFO sqlalchemy.engine.Engine SELECT message.id, message.conversation_id, message.chat_type, message.query, message.response, message.meta_data, message.feedback_score, message.feedback_reason, message.create_time
2024-07-18 11:37:53 | INFO | stdout | FROM message
2024-07-18 11:37:53 | INFO | stdout | WHERE message.id = %s
2024-07-18 11:37:53 | INFO | stdout | 2024-07-18 11:37:53,401 INFO sqlalchemy.engine.Engine [cached since 131.6s ago] ('0aa17ea5-53fc-4d5d-a7a3-555ebc655f64',)
2024-07-18 11:37:53 | INFO | stdout | 2024-07-18 11:37:53,404 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:37:53 | INFO | stdout | 2024-07-18 11:37:53,406 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:37:53 | INFO | stdout | 2024-07-18 11:37:53,407 INFO sqlalchemy.engine.Engine UPDATE message SET response=%s WHERE message.id = %s
2024-07-18 11:37:53 | INFO | stdout | 2024-07-18 11:37:53,407 INFO sqlalchemy.engine.Engine [cached since 131.6s ago] ('æ ¹æ®æˆ‘å–å¾—çš„æœ€æ–°ä¿¡æ¯ï¼Œä¿ç½—Â·ä¹”æ²»åŠ ç›Ÿäº†æ´›æ‰çŸ¶å¿«èˆ¹é˜Ÿã€‚', '0aa17ea5-53fc-4d5d-a7a3-555ebc655f64')
2024-07-18 11:37:53 | INFO | stdout | 2024-07-18 11:37:53,409 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:37:54 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 11:37:54 | INFO | stdout | [32mINFO[0m:     192.168.110.131:35238 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:38:03 | WARNING | controller | Sending SIGKILL to {'zhipu-api': <Process name='api_worker - zhipu-api (1627410)' pid=1627410 parent=1626615 started daemon>}
2024-07-18 11:38:03 | WARNING | controller | Sending SIGKILL to {'chatglm3-6b': <Process name='model_worker - chatglm3-6b (1627409)' pid=1627409 parent=1626615 started daemon>}
2024-07-18 11:38:03 | WARNING | controller | Sending SIGKILL to <Process name='controller (1627172)' pid=1627172 parent=1626615 started daemon>
2024-07-18 11:38:03 | WARNING | controller | Sending SIGKILL to <Process name='openai_api (1627408)' pid=1627408 parent=1626615 started daemon>
2024-07-18 11:38:03 | WARNING | controller | Sending SIGKILL to <Process name='API Server (1628082)' pid=1628082 parent=1626615 started daemon>
2024-07-18 11:38:03 | INFO | controller | Process status: {'zhipu-api': <Process name='api_worker - zhipu-api (1627410)' pid=1627410 parent=1626615 started daemon>}
2024-07-18 11:38:03 | INFO | controller | Process status: {'chatglm3-6b': <Process name='model_worker - chatglm3-6b (1627409)' pid=1627409 parent=1626615 started daemon>}
2024-07-18 11:38:03 | INFO | controller | Process status: <Process name='controller (1627172)' pid=1627172 parent=1626615 started daemon>
2024-07-18 11:38:03 | INFO | controller | Process status: <Process name='openai_api (1627408)' pid=1627408 parent=1626615 started daemon>
2024-07-18 11:38:03 | INFO | controller | Process status: <Process name='API Server (1628082)' pid=1628082 parent=1626615 started daemon>
2024-07-18 11:38:03 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 11:38:03 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 584, in <module>
2024-07-18 11:38:03 | ERROR | stderr |     loop.run_until_complete(start_main_server())
2024-07-18 11:38:03 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 495, in start_main_server
2024-07-18 11:38:03 | ERROR | stderr |     cmd = queue.get()
2024-07-18 11:38:03 | ERROR | stderr |   File "<string>", line 2, in get
2024-07-18 11:38:03 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/managers.py", line 818, in _callmethod
2024-07-18 11:38:03 | ERROR | stderr |     kind, result = conn.recv()
2024-07-18 11:38:03 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 255, in recv
2024-07-18 11:38:03 | ERROR | stderr |     buf = self._recv_bytes()
2024-07-18 11:38:03 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 419, in _recv_bytes
2024-07-18 11:38:03 | ERROR | stderr |     buf = self._recv(4)
2024-07-18 11:38:03 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 384, in _recv
2024-07-18 11:38:03 | ERROR | stderr |     chunk = read(handle, remaining)
2024-07-18 11:38:03 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 368, in f
2024-07-18 11:38:03 | ERROR | stderr |     raise KeyboardInterrupt(f"{signalname} received")
2024-07-18 11:38:03 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2024-07-18 11:38:04 | ERROR | stderr | Exception ignored in atexit callback: <function _exit_function at 0x7f938be9d630>
2024-07-18 11:38:04 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 11:38:04 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/util.py", line 334, in _exit_function
2024-07-18 11:38:04 | ERROR | stderr |     _run_finalizers(0)
2024-07-18 11:38:04 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/util.py", line 300, in _run_finalizers
2024-07-18 11:38:04 | ERROR | stderr |     finalizer()
2024-07-18 11:38:04 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/util.py", line 224, in __call__
2024-07-18 11:38:04 | ERROR | stderr |     res = self._callback(*self._args, **self._kwargs)
2024-07-18 11:38:04 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/managers.py", line 674, in _finalize_manager
2024-07-18 11:38:04 | ERROR | stderr |     process.join(timeout=1.0)
2024-07-18 11:38:04 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/process.py", line 149, in join
2024-07-18 11:38:04 | ERROR | stderr |     res = self._popen.wait(timeout)
2024-07-18 11:38:04 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/popen_fork.py", line 40, in wait
2024-07-18 11:38:04 | ERROR | stderr |     if not wait([self.sentinel], timeout):
2024-07-18 11:38:04 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 936, in wait
2024-07-18 11:38:04 | ERROR | stderr |     ready = selector.select(timeout)
2024-07-18 11:38:04 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/selectors.py", line 416, in select
2024-07-18 11:38:04 | ERROR | stderr |     fd_event_list = self._selector.poll(timeout)
2024-07-18 11:38:04 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 368, in f
2024-07-18 11:38:04 | ERROR | stderr |     raise KeyboardInterrupt(f"{signalname} received")
2024-07-18 11:38:04 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2024-07-18 11:38:28 | INFO | controller | æ­£åœ¨å¯åŠ¨æœåŠ¡ï¼š
2024-07-18 11:38:28 | INFO | controller | å¦‚éœ€æŸ¥çœ‹ æœåŠ¡æ—¥å¿— æ—¥å¿—ï¼Œè¯·å‰å¾€ /home/00_rag/fufan-chat-api/logs
2024-07-18 11:38:39 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1631760[0m]
2024-07-18 11:38:39 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 11:38:39 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 11:38:39 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:20001[0m (Press CTRL+C to quit)
2024-07-18 11:38:50 | INFO | controller | Register a new worker: http://192.168.110.131:21001
2024-07-18 11:38:50 | INFO | controller | Register done: http://192.168.110.131:21001, {'model_names': ['zhipu-api'], 'speed': 1, 'queue_length': 0}
2024-07-18 11:38:50 | INFO | stdout | [32mINFO[0m:     192.168.110.131:49128 - "[1mPOST /register_worker HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:38:51 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1632016[0m]
2024-07-18 11:38:51 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 11:38:51 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 11:38:51 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:20000[0m (Press CTRL+C to quit)
2024-07-18 11:38:51 | ERROR | stderr | Loading checkpoint shards:   0%|                                                                                                                                                                                                                                                          | 0/7 [00:00<?, ?it/s]
2024-07-18 11:38:51 | ERROR | stderr | Loading checkpoint shards:  14%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ                                                                                                                                                                                                               | 1/7 [00:00<00:03,  1.93it/s]
2024-07-18 11:38:52 | ERROR | stderr | Loading checkpoint shards:  29%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                                                                                                                            | 2/7 [00:01<00:02,  1.90it/s]
2024-07-18 11:38:52 | ERROR | stderr | Loading checkpoint shards:  43%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹                                                                                                                                          | 3/7 [00:01<00:02,  1.98it/s]
2024-07-18 11:38:53 | ERROR | stderr | Loading checkpoint shards:  57%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                                                       | 4/7 [00:01<00:01,  2.06it/s]
2024-07-18 11:38:53 | ERROR | stderr | Loading checkpoint shards:  71%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š                                                                     | 5/7 [00:02<00:00,  2.04it/s]
2024-07-18 11:38:54 | ERROR | stderr | Loading checkpoint shards:  86%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                  | 6/7 [00:02<00:00,  2.05it/s]
2024-07-18 11:38:54 | ERROR | stderr | Loading checkpoint shards: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7/7 [00:03<00:00,  2.21it/s]
2024-07-18 11:38:54 | ERROR | stderr | Loading checkpoint shards: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7/7 [00:03<00:00,  2.09it/s]
2024-07-18 11:38:54 | ERROR | stderr | 
2024-07-18 11:39:00 | INFO | controller | Register a new worker: http://192.168.110.131:20002
2024-07-18 11:39:00 | INFO | controller | Register done: http://192.168.110.131:20002, {'model_names': ['chatglm3-6b'], 'speed': 1, 'queue_length': 0}
2024-07-18 11:39:00 | INFO | stdout | [32mINFO[0m:     192.168.110.131:56660 - "[1mPOST /register_worker HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:01 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1632017[0m]
2024-07-18 11:39:01 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 11:39:01 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 11:39:01 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:20002[0m (Press CTRL+C to quit)
2024-07-18 11:39:12 | ERROR | stderr | [32mINFO[0m:     Started server process [[36m1632838[0m]
2024-07-18 11:39:12 | ERROR | stderr | [32mINFO[0m:     Waiting for application startup.
2024-07-18 11:39:12 | ERROR | stderr | [32mINFO[0m:     Application startup complete.
2024-07-18 11:39:12 | ERROR | stderr | [32mINFO[0m:     Uvicorn running on [1mhttp://192.168.110.131:8000[0m (Press CTRL+C to quit)
2024-07-18 11:39:15 | INFO | stdout | [32mINFO[0m:     192.168.110.91:58434 - "[1mPOST /api/chat/search_engine_chat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,265 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,265 INFO sqlalchemy.engine.Engine [raw sql] ()
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,268 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,268 INFO sqlalchemy.engine.Engine [raw sql] ()
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,269 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,270 INFO sqlalchemy.engine.Engine [raw sql] ()
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,272 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,304 INFO sqlalchemy.engine.Engine SELECT conversation.id AS conversation_id, conversation.user_id AS conversation_user_id, conversation.name AS conversation_name, conversation.chat_type AS conversation_chat_type, conversation.create_time AS conversation_create_time
2024-07-18 11:39:15 | INFO | stdout | FROM conversation
2024-07-18 11:39:15 | INFO | stdout | WHERE conversation.id = %s
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,305 INFO sqlalchemy.engine.Engine [generated in 0.00099s] ('dd27db58-3002-43d9-be59-675a95ab07bb',)
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,308 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,315 INFO sqlalchemy.engine.Engine INSERT INTO message (id, conversation_id, chat_type, query, response, meta_data, feedback_score, feedback_reason, create_time) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, now())
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,316 INFO sqlalchemy.engine.Engine [generated in 0.00084s] ('86cfc90b-83c0-4eb9-9465-9dd3d33affc6', 'dd27db58-3002-43d9-be59-675a95ab07bb', 'real_time_search', ' ä¿ç½—ä¹”æ²»åŠ ç›Ÿäº†å“ªæ”¯NBAçƒé˜Ÿï¼Ÿ', '', '{}', -1, '')
2024-07-18 11:39:15 | INFO | stdout | 2024-07-18 11:39:15,318 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:39:17 | INFO | stdout | è¯·æ±‚ URL å¤±è´¥ https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB: Connection timeout to host https://zh.wikipedia.org/zh-hans/%E4%BF%9D%E7%BD%97%C2%B7%E4%B9%94%E6%B2%BB
2024-07-18 11:39:17 | INFO | stdout | -----------------------------
2024-07-18 11:39:17 | INFO | stdout | [Document(page_content='__\n\n#  ä¿ç½—ä¹”æ²»åŠ ç›Ÿ76äººï¼Œå®£ç§°ä¸æ©æ¯”å¾·æ˜¯NBAæœ€å¼ºç»„åˆ\n\n__\n\næç¬‘çš„å£³å­  åŸåˆ› Â·  2024-07-04 08:35   Â· ä½“è‚²é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…\n\nç‚¹å‡»æŸ¥çœ‹æ›´å¤šè®¢é˜…å†…å®¹>\n\nä¿ç½—ä¹”æ²»æœ€è¿‘ä»¥ä¸€ä»½ä»·å€¼2äº¿ç¾é‡‘çš„4å¹´åˆåŒåŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿï¼Œä¸æ©æ¯”å¾·æºæ‰‹ç»„æˆäº†ä¸€æ”¯ä»¤äººç©ç›®çš„åŒäººç»„åˆã€‚é™¤äº†è¿™ä¸¤ä½é¡¶å°–çƒå‘˜ä¹‹å¤–ï¼Œé˜Ÿä¸­è¿˜æœ‰ç€æ–°æ˜Ÿé©¬å…‹è¥¿çš„åŠ ç›Ÿï¼Œä½¿å¾—è¯¥çƒé˜Ÿçœ‹èµ·æ¥å·²ç»å…·å¤‡äº†å†²å‡»æ€»å† å†›çš„å®åŠ›ã€‚ä¿ç½—ä¹”æ²»åœ¨åŠ ç›Ÿ76äººåå±•ç°å‡ºå‰æ‰€æœªæœ‰çš„è‡ªä¿¡å¿ƒã€‚\n\nåœ¨ä¸€æ¡£æ’­å®¢èŠ‚ç›®ä¸­ï¼Œä¿ç½—ä¹”æ²»å¦è¨€ï¼šâ€œå½“æˆ‘å‘Šåˆ«å¿«èˆ¹é˜Ÿæ—¶ï¼Œæˆ‘å¿ƒä¸­æœ‰äº›ä¸èˆã€‚ä½†ç”±äºå¿«èˆ¹é˜Ÿæ²¡æœ‰ç»™äºˆæˆ‘è¶³å¤Ÿçš„å°Šé‡ï¼Œæˆ‘ä¹Ÿå°±æ²¡æœ‰å†ç•™åœ¨é‚£é‡Œçš„å¿…è¦ã€‚å¯¹æˆ‘æ¥è¯´ï¼ŒåŠ ç›Ÿ76äººæ˜¯æœ€æ˜æ™ºçš„é€‰æ‹©ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä¸ä»…å¯ä»¥è·å¾—æ›´å¤šè´¢å¯Œï¼Œè¿˜æœ‰æœ›å¤ºå¾—æ€»å† å†›ã€‚æ–°èµ›å­£ï¼Œæ²¡æœ‰çƒé˜Ÿæ„¿æ„è¿æˆ˜76äººã€‚æ˜¯çš„ï¼Œæˆ‘å’Œæ©æ¯”å¾·æ„æˆäº†NBAæœ€å¼ºå¤§çš„ç»„åˆï¼Œæ²¡æœ‰äººå¯ä»¥é˜»æ­¢æˆ‘ä»¬çš„æˆåŠŸã€‚åªè¦ä¿æŒå¥åº·ï¼Œæˆ‘ä»¬å°±æœ‰æœºä¼šå¤ºå† ã€‚â€\n\néšåï¼Œä¿ç½—ä¹”æ²»é€éœ²ï¼šâ€œç»„å»ºå¥½å’Œæ©æ¯”å¾·çš„ç»„åˆåï¼Œè©¹å§†æ–¯å‘¼æˆ‘é—®ä¸ºä½•ä¸é€‰æ‹©æ¹–äººé˜Ÿåˆä½œã€‚ä»–æ¸´æœ›ä¸æˆ‘å¹¶è‚©ä½œæˆ˜ã€‚æˆ‘å‘Šè¯‰ä»–ï¼Œæ¹–äººé˜Ÿæ— æ³•æ»¡è¶³æˆ‘çš„è¦æ±‚ã€‚æ¥ç€ï¼Œè¿½æ¢¦å’Œæ ¼æ—ä¹Ÿåˆ†åˆ«è”ç³»æˆ‘ã€‚ä»–ä»¬å¯¹æˆ‘æœªåŠ ç›Ÿå‹‡å£«é˜Ÿæ„Ÿåˆ°é—æ†¾ã€‚æ€»çš„æ¥è¯´ï¼Œå¦‚ä»Šè®¸å¤šçƒé˜Ÿéƒ½å¸Œæœ›æˆ‘åŠ å…¥ï¼Œä½†æˆ‘åªä¼šé€‰æ‹©å¯¹æˆ‘æœ€æœ‰åˆ©çš„å†³å®šã€‚â€ä¹”æ²»çš„è¨€è®ºå¼•å‘äº†ç½‘ä¸Šçš„çƒ­è®®ï¼Œè®¸å¤šçƒè¿·çº·çº·è¡¨ç¤ºï¼Œå°½ç®¡76äººå®åŠ›å¼ºå¤§ï¼Œä½†å°šæœªå®Œå…¨å…·å¤‡å¤ºå† å®åŠ›ï¼Œè€Œä¹”æ²»å’Œæ©æ¯”å¾·çš„ç»„åˆä¹Ÿå¹¶éNBAæœ€å¼ºã€‚è‡³å°‘è©¹å§†æ–¯å’Œæµ“çœ‰çš„ç»„åˆè¦æ¯”ä½ ä»¬æ›´èƒœä¸€ç­¹ã€‚\n\nå‘å¸ƒäºï¼šå¹¿ä¸œçœ', metadata={'uuid': 'c99f6d04f076d93d890af98c7cd18676', 'title': 'ä¿ç½—ä¹”æ²»åŠ ç›Ÿ76äººï¼Œå®£ç§°ä¸æ©æ¯”å¾·æ˜¯NBAæœ€å¼ºç»„åˆ - æ‰‹æœºæœç‹', 'snippet': 'ä¿ç½—ä¹”æ²»æœ€è¿‘ä»¥ä¸€ä»½ä»·å€¼2äº¿ç¾é‡‘çš„4å¹´åˆåŒåŠ ç›Ÿäº†è´¹åŸ76äººé˜Ÿï¼Œä¸æ©æ¯”å¾·æºæ‰‹ç»„æˆäº†ä¸€æ”¯ä»¤äººç©ç›®çš„åŒäººç»„åˆã€‚é™¤äº†è¿™ä¸¤ä½é¡¶å°–çƒå‘˜ä¹‹å¤–ï¼Œé˜Ÿä¸­è¿˜æœ‰ç€æ–°æ˜Ÿé©¬å…‹ ...', 'link': 'https://m.sohu.com/a/790589954_121630157', 'score': '0.11842105263157898'}), Document(page_content='*   * æ–°é—»\n  * ä½“è‚²\n  * æ±½è½¦\n  * æˆ¿äº§\n  * æ—…æ¸¸\n  * æ•™è‚²\n  * æ—¶å°š\n  * ç§‘æŠ€\n  * è´¢ç»\n  * å¨±ä¹\n  * æ›´å¤š __\n\næ¯å©´ å¥åº· å†å² å†›äº‹ ç¾é£Ÿ æ–‡åŒ– æ˜Ÿåº§ ä¸“é¢˜ æ¸¸æˆ æç¬‘ åŠ¨æ¼« å® ç‰©\n\næ— éšœç¢ å…³æ€€ç‰ˆ\n\n####  æ˜¥åœ¨æºªå¤´ __\n\nç”±å†…å®¹è´¨é‡ã€äº’åŠ¨è¯„è®ºã€åˆ†äº«ä¼ æ’­ç­‰å¤šç»´åº¦åˆ†å€¼å†³å®šï¼Œå‹‹ç« çº§åˆ«è¶Šé«˜(  )ï¼Œä»£è¡¨å…¶åœ¨å¹³å°å†…çš„ç»¼åˆè¡¨ç°è¶Šå¥½ã€‚\n\n    __æ–‡ç« \n    __æ€»é˜…è¯»\n\n  * ä½“è‚²é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…\n\næŸ¥çœ‹TAçš„æ–‡ç« >\n\nè¯„è®º\n\n    __\n\n#  åŸåˆ› NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜\n\n2024-07-03 07:10\n\nå‘å¸ƒäºï¼šå¹¿ä¸œçœ\n\nç»è¿‡NBAäº¤æ˜“å¸‚åœºçš„æ³¢åŠ¨ï¼Œä¸€åˆ™å®˜æ–¹å…¬å‘Šçªå¦‚å…¶æ¥ï¼Œç«‹åˆ»åœ¨ç¯®çƒç•Œæ€èµ·è½©ç„¶å¤§æ³¢ã€‚æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚\n\nä¿ç½—Â·ä¹”æ²»ä½œä¸ºè”ç›Ÿé¡¶å°–å°å‰é”‹ï¼Œå…¶èŒä¸šç”Ÿæ¶¯å……æ»¡ä¼ å¥‡è‰²å½©ã€‚ä»å°ç¬¬å®‰çº³æ­¥è¡Œè€…é˜Ÿçš„å´›èµ·ï¼Œåˆ°æ´›æ‰çŸ¶å¿«èˆ¹é˜Ÿçš„è¾‰ç…Œï¼Œå†åˆ°å¦‚ä»Šçš„æ–°ä¸œå®¶ï¼Œä¹”æ²»æ¯ä¸€æ­¥éƒ½ç‰µåŠ¨ç€æ— æ•°çƒè¿·çš„å¿ƒå¼¦ã€‚ä»–çš„çƒé£åˆšåŠ²ã€æŠ€æœ¯å…¨é¢ï¼Œåœ¨å¤–çº¿æŠ•å°„å’Œå†…çº¿çªç ´æ–¹é¢éƒ½å±•ç°å‡ºæé«˜æ°´å‡†ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ï¼Œæ€»èƒ½åœ¨å…³é”®æ—¶åˆ»æŒºèº«è€Œå‡ºï¼Œä¸ºçƒé˜Ÿå¸¦æ¥èƒœåˆ©ã€‚\n\nåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰å‰ï¼Œä¹”æ²»å·²åœ¨è”ç›Ÿä¸­æ¼”ç»äº†å¤šå¹´ã€‚å°½ç®¡æ— æ³•åŠ©çƒé˜Ÿå¤ºå† ï¼Œä»–ä¾æ—§çƒ­çˆ±ç¯®çƒã€æ¸´æœ›èƒœåˆ©ã€‚å¾—çŸ¥è¢«è£åï¼Œä»–å¹¶æœªæ¶ˆæ²‰ï¼Œè€Œæ˜¯è¿…é€Ÿè°ƒæ•´å¿ƒæ€ï¼Œå¼€å§‹æ¢å¯»æ–°å‡ºè·¯ã€‚', metadata={'uuid': '56f49c359c1f2c9b5ad5d66d94718e3b', 'title': 'åŸåˆ›NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜ - æœç‹', 'snippet': 'æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ ...', 'link': 'https://www.sohu.com/a/790283805_121926163', 'score': '0.07894736842105265'}), Document(page_content='åœ¨è¢«å‹‡å£«é˜Ÿè£æ‰å‰ï¼Œä¹”æ²»å·²åœ¨è”ç›Ÿä¸­æ¼”ç»äº†å¤šå¹´ã€‚å°½ç®¡æ— æ³•åŠ©çƒé˜Ÿå¤ºå† ï¼Œä»–ä¾æ—§çƒ­çˆ±ç¯®çƒã€æ¸´æœ›èƒœåˆ©ã€‚å¾—çŸ¥è¢«è£åï¼Œä»–å¹¶æœªæ¶ˆæ²‰ï¼Œè€Œæ˜¯è¿…é€Ÿè°ƒæ•´å¿ƒæ€ï¼Œå¼€å§‹æ¢å¯»æ–°å‡ºè·¯ã€‚\n\nå°±åœ¨æ­¤æ—¶ï¼Œä¸€æ”¯æ‹¥æœ‰å¤šä½è¶…å·¨çš„è±ªå¼ºçƒé˜Ÿå‘ä¹”æ²»æ‹›æ‰‹ã€‚è¯¥é˜Ÿä¼—å¼ºé˜µå®¹æ·±åšåº•è•´ï¼Œæ€€æŠ±å† å†›æ¢¦æƒ³ï¼Œè€Œä¹”æ²»ä¹Ÿå¯¹è¿™æ”¯çƒé˜Ÿå……æ»¡å…´è¶£ï¼Œè§†å…¶ä¸ºå®ç°å† å†›æ¢¦æƒ³çš„æœ€ä½³å¹³å°ã€‚ç»æ·±æ€ç†Ÿè™‘ï¼Œä¹”æ²»å†³å®šä¸è¯¥é˜Ÿç­¾çº¦ï¼Œæ­£å¼åŠ å…¥ä»–ä»¬çš„è¡Œåˆ—ã€‚\n\néšç€ä¹”æ²»çš„åŠ ç›Ÿï¼Œè¯¥é˜Ÿå®åŠ›å¤§å¹…æå‡ã€‚èšé›†ä¸€ä¼—é¡¶å°–çƒå‘˜ï¼ŒåŒ…æ‹¬è¶…çº§å·¨æ˜Ÿã€å¾—åˆ†é«˜æ‰‹ã€é˜²å®ˆä¸“æ‰ç­‰ï¼Œå„å…·ç‰¹é•¿ï¼Œèƒ½å½¢æˆå®Œç¾åŒ–å­¦ååº”ã€‚åœ¨ä¹”æ²»é¢†å†›ä¸‹ï¼Œè¯¥é˜Ÿå°†å±•ç°æ›´å¼ºå¤§æˆ˜åŠ›ï¼Œæˆä¸ºè”ç›Ÿä¸å¯å¿½è§†çš„ä¸€è‚¡åŠ›é‡ã€‚\n\nå¯¹ä¹”æ²»è€Œè¨€ï¼ŒåŠ ç›Ÿæ–°ä¸œå®¶æ„å‘³ç€é¢å¯¹æ–°æŒ‘æˆ˜ã€æ–°æœºé‡ã€‚ä»–å°†ä¸å¤šä½è¶…å·¨è”æ‰‹ï¼Œå…±åŒå†²å‡»æ€»å† å†›ã€‚åœ¨è¿‡ç¨‹ä¸­ï¼Œé¡»é€‚åº”æ–°æˆ˜æœ¯ä½“ç³»ï¼Œä¸é˜Ÿå‹å»ºç«‹é»˜å¥‘é…åˆï¼Œå…³é”®æ—¶åˆ»æŒºèº«è€Œå‡ºï¼Œä¸ºçƒé˜Ÿæ–©è·èƒœåˆ©ã€‚ä»–å·²åšå¥½å……åˆ†å‡†å¤‡ï¼Œåšä¿¡ä¸ªäººå®åŠ›å’Œç»éªŒèƒ½åŠ©çƒé˜Ÿåœ†å† æ¢¦ã€‚\n\nå¯¹çƒè¿·è€Œè¨€ï¼Œä¹”æ²»çš„åŠ ç›Ÿæ— ç–‘æ˜¯å·¨å¤§æƒŠå–œã€‚æœŸå¾…ä»–åœ¨æ–°é˜Ÿä¸­æœ‰æ›´è€€çœ¼è¡¨ç°ï¼Œç›¸ä¿¡åœ¨å…¶å¼•é¢†ä¸‹ï¼Œè¯¥é˜Ÿå¿…å°†æˆä¸ºè”ç›Ÿå¼ºé˜Ÿï¼Œä¸ºçƒè¿·å¸¦æ¥æ›´å¤šç²¾å½©å¯¹å†³ã€éš¾å¿˜ç¬é—´ã€‚\n\nå›é¡¾ä¹”æ²»èŒä¸šç”Ÿæ¶¯ï¼Œä»–ä¸€ç›´æ€€ç€çƒ­çˆ±ç¯®çƒã€è¿½æ±‚å“è¶Šã€‚æ— è®ºåœ¨æ­¥è¡Œè€…é˜Ÿæˆ–å¿«èˆ¹é˜Ÿï¼Œä¸ºçƒé˜Ÿè´¡çŒ®å·¨å¤§ã€‚ç°åŠ ç›Ÿæ–°ä¸œå®¶ï¼Œå°†ç»§ç»­ä¼ æ‰¿ä¼ å¥‡ã€‚æœªæ¥ï¼Œæ„¿å…±åŒè§è¯ä¹”æ²»ä¸é˜Ÿå‹ä¹¦å†™æ–°ç¯‡ç« ã€‚æ‚¨å¦‚ä½•çœ‹å¾…è¿™ä¸€åˆ‡ï¼Ÿæ¬¢è¿ç•™è¨€è¯„è®ºï¼\n__è¿”å›æœç‹ï¼ŒæŸ¥çœ‹æ›´å¤š\n\nè´£ä»»ç¼–è¾‘ï¼š\n\nå¹³å°å£°æ˜ï¼šè¯¥æ–‡è§‚ç‚¹ä»…ä»£è¡¨ä½œè€…æœ¬äººï¼Œæœç‹å·ç³»ä¿¡æ¯å‘å¸ƒå¹³å°ï¼Œæœç‹ä»…æä¾›ä¿¡æ¯å­˜å‚¨ç©ºé—´æœåŠ¡ã€‚\n\né˜…è¯» (__)\n\n__æ¨èé˜…è¯»', metadata={'uuid': '56f49c359c1f2c9b5ad5d66d94718e3b', 'title': 'åŸåˆ›NBAéœ‡æ’¼ï¼ä¿ç½—Â·ä¹”æ²»ä¸‹å®¶æ­æ™“ï¼ŒåŠ ç›Ÿè±ªå¼ºçƒé˜Ÿè¿æ–°æŒ‘æˆ˜ - æœç‹', 'snippet': 'æ›¾ç»é£é‡‡ç† ç† çš„NBAå·¨æ˜Ÿä¿ç½—Â·ä¹”æ²»ï¼Œåœ¨è¢«å‹‡å£«é˜Ÿè£æ‰ä»…ä¸€å°æ—¶åï¼Œè¿…é€Ÿä¸å¦ä¸€æ”¯è±ªå¼ºçƒé˜Ÿç­¾çº¦ï¼Œæ­£å¼ç¡®å®šäº†ä»–çš„æ–°å½’å®¿ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä»–æ€€æœ‰æ°¸ä¸è¨€è´¥çš„å¿ƒæ€ ...', 'link': 'https://www.sohu.com/a/790283805_121926163', 'score': '0.07894736842105265'})]
2024-07-18 11:39:22 | INFO | stdout | 2024-07-18 11:39:22,383 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:39:22 | INFO | stdout | 2024-07-18 11:39:22,386 INFO sqlalchemy.engine.Engine SELECT message.id, message.conversation_id, message.chat_type, message.query, message.response, message.meta_data, message.feedback_score, message.feedback_reason, message.create_time
2024-07-18 11:39:22 | INFO | stdout | FROM message
2024-07-18 11:39:22 | INFO | stdout | WHERE message.conversation_id = %s AND message.chat_type = %s AND message.response != %s ORDER BY message.create_time DESC
2024-07-18 11:39:22 | INFO | stdout |  LIMIT %s
2024-07-18 11:39:22 | INFO | stdout | 2024-07-18 11:39:22,386 INFO sqlalchemy.engine.Engine [generated in 0.00073s] ('dd27db58-3002-43d9-be59-675a95ab07bb', 'real_time_search', '', 10)
2024-07-18 11:39:22 | INFO | stdout | 2024-07-18 11:39:22,389 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:39:22 | INFO | stdout | [32mINFO[0m:     192.168.110.131:45842 - "[1mPOST /list_models HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:23 | INFO | controller | names: ['http://192.168.110.131:20002'], queue_lens: [0.0], ret: http://192.168.110.131:20002
2024-07-18 11:39:23 | INFO | stdout | [32mINFO[0m:     192.168.110.131:45848 - "[1mPOST /get_worker_address HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:23 | INFO | stdout | [32mINFO[0m:     192.168.110.131:60154 - "[1mPOST /worker_get_conv_template HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:23 | INFO | stdout | [32mINFO[0m:     192.168.110.131:60170 - "[1mPOST /model_details HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:23 | INFO | stdout | [32mINFO[0m:     192.168.110.131:60176 - "[1mPOST /count_token HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:23 | INFO | stdout | [32mINFO[0m:     192.168.110.131:39288 - "[1mPOST /v1/chat/completions HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:23 | INFO | stdout | [32mINFO[0m:     192.168.110.131:60188 - "[1mPOST /worker_generate_stream HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:26 | INFO | stdout | 2024-07-18 11:39:26,425 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:39:26 | INFO | stdout | 2024-07-18 11:39:26,428 INFO sqlalchemy.engine.Engine SELECT message.id, message.conversation_id, message.chat_type, message.query, message.response, message.meta_data, message.feedback_score, message.feedback_reason, message.create_time
2024-07-18 11:39:26 | INFO | stdout | FROM message
2024-07-18 11:39:26 | INFO | stdout | WHERE message.id = %s
2024-07-18 11:39:26 | INFO | stdout | 2024-07-18 11:39:26,429 INFO sqlalchemy.engine.Engine [generated in 0.00107s] ('86cfc90b-83c0-4eb9-9465-9dd3d33affc6',)
2024-07-18 11:39:26 | INFO | stdout | 2024-07-18 11:39:26,432 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:39:26 | INFO | stdout | 2024-07-18 11:39:26,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2024-07-18 11:39:26 | INFO | stdout | 2024-07-18 11:39:26,437 INFO sqlalchemy.engine.Engine UPDATE message SET response=%s WHERE message.id = %s
2024-07-18 11:39:26 | INFO | stdout | 2024-07-18 11:39:26,437 INFO sqlalchemy.engine.Engine [generated in 0.00063s] ('ä¿ç½—Â·ä¹”æ²»åŠ ç›Ÿäº†æ´›æ‰çŸ¶å¿«èˆ¹é˜Ÿã€‚', '86cfc90b-83c0-4eb9-9465-9dd3d33affc6')
2024-07-18 11:39:26 | INFO | stdout | 2024-07-18 11:39:26,439 INFO sqlalchemy.engine.Engine COMMIT
2024-07-18 11:39:35 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 11:39:35 | INFO | stdout | [32mINFO[0m:     192.168.110.131:54080 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:39:46 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 11:39:46 | INFO | stdout | [32mINFO[0m:     192.168.110.131:50346 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:40:20 | INFO | controller | Receive heart beat. http://192.168.110.131:21001
2024-07-18 11:40:20 | INFO | stdout | [32mINFO[0m:     192.168.110.131:55828 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:40:31 | INFO | controller | Receive heart beat. http://192.168.110.131:20002
2024-07-18 11:40:31 | INFO | stdout | [32mINFO[0m:     192.168.110.131:42602 - "[1mPOST /receive_heart_beat HTTP/1.1[0m" [32m200 OK[0m
2024-07-18 11:40:40 | WARNING | controller | Sending SIGKILL to {'zhipu-api': <Process name='api_worker - zhipu-api (1632018)' pid=1632018 parent=1631053 started daemon>}
2024-07-18 11:40:40 | WARNING | controller | Sending SIGKILL to {'chatglm3-6b': <Process name='model_worker - chatglm3-6b (1632017)' pid=1632017 parent=1631053 started daemon>}
2024-07-18 11:40:40 | WARNING | controller | Sending SIGKILL to <Process name='controller (1631760)' pid=1631760 parent=1631053 started daemon>
2024-07-18 11:40:40 | WARNING | controller | Sending SIGKILL to <Process name='openai_api (1632016)' pid=1632016 parent=1631053 started daemon>
2024-07-18 11:40:40 | WARNING | controller | Sending SIGKILL to <Process name='API Server (1632838)' pid=1632838 parent=1631053 started daemon>
2024-07-18 11:40:40 | INFO | controller | Process status: {'zhipu-api': <Process name='api_worker - zhipu-api (1632018)' pid=1632018 parent=1631053 started daemon>}
2024-07-18 11:40:40 | INFO | controller | Process status: {'chatglm3-6b': <Process name='model_worker - chatglm3-6b (1632017)' pid=1632017 parent=1631053 started daemon>}
2024-07-18 11:40:40 | INFO | controller | Process status: <Process name='controller (1631760)' pid=1631760 parent=1631053 started daemon>
2024-07-18 11:40:40 | INFO | controller | Process status: <Process name='openai_api (1632016)' pid=1632016 parent=1631053 started daemon>
2024-07-18 11:40:40 | INFO | controller | Process status: <Process name='API Server (1632838)' pid=1632838 parent=1631053 started daemon>
2024-07-18 11:40:40 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 584, in <module>
2024-07-18 11:40:40 | ERROR | stderr |     loop.run_until_complete(start_main_server())
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 495, in start_main_server
2024-07-18 11:40:40 | ERROR | stderr |     cmd = queue.get()
2024-07-18 11:40:40 | ERROR | stderr |   File "<string>", line 2, in get
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/managers.py", line 818, in _callmethod
2024-07-18 11:40:40 | ERROR | stderr |     kind, result = conn.recv()
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 255, in recv
2024-07-18 11:40:40 | ERROR | stderr |     buf = self._recv_bytes()
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 419, in _recv_bytes
2024-07-18 11:40:40 | ERROR | stderr |     buf = self._recv(4)
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 384, in _recv
2024-07-18 11:40:40 | ERROR | stderr |     chunk = read(handle, remaining)
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 368, in f
2024-07-18 11:40:40 | ERROR | stderr |     raise KeyboardInterrupt(f"{signalname} received")
2024-07-18 11:40:40 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2024-07-18 11:40:40 | ERROR | stderr | Exception ignored in atexit callback: <function _exit_function at 0x7f3359c09630>
2024-07-18 11:40:40 | ERROR | stderr | Traceback (most recent call last):
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/util.py", line 334, in _exit_function
2024-07-18 11:40:40 | ERROR | stderr |     _run_finalizers(0)
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/util.py", line 300, in _run_finalizers
2024-07-18 11:40:40 | ERROR | stderr |     finalizer()
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/util.py", line 224, in __call__
2024-07-18 11:40:40 | ERROR | stderr |     res = self._callback(*self._args, **self._kwargs)
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/managers.py", line 674, in _finalize_manager
2024-07-18 11:40:40 | ERROR | stderr |     process.join(timeout=1.0)
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/process.py", line 149, in join
2024-07-18 11:40:40 | ERROR | stderr |     res = self._popen.wait(timeout)
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/popen_fork.py", line 40, in wait
2024-07-18 11:40:40 | ERROR | stderr |     if not wait([self.sentinel], timeout):
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/multiprocessing/connection.py", line 936, in wait
2024-07-18 11:40:40 | ERROR | stderr |     ready = selector.select(timeout)
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/util/anaconda3/envs/fufan_chat_api/lib/python3.10/selectors.py", line 416, in select
2024-07-18 11:40:40 | ERROR | stderr |     fd_event_list = self._selector.poll(timeout)
2024-07-18 11:40:40 | ERROR | stderr |   File "/home/00_rag/fufan-chat-api/startup.py", line 368, in f
2024-07-18 11:40:40 | ERROR | stderr |     raise KeyboardInterrupt(f"{signalname} received")
2024-07-18 11:40:40 | ERROR | stderr | KeyboardInterrupt: SIGINT received
