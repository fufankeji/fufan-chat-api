[{"type": "Title", "element_id": "60343373a173ac21b2621ddbd56ea95c", "text": "二、GLM4 API调用指南与关键参数", "metadata": {"detection_class_prob": 0.49582821130752563, "coordinates": {"points": [[202.83531188964844, 106.82768249511719], [202.83531188964844, 171.8705596923828], [960.81005859375, 171.8705596923828], [960.81005859375, 106.82768249511719]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "text": "1. 基于chat.completions完成对话", "metadata": {"detection_class_prob": 0.622955322265625, "coordinates": {"points": [[207.06048150581293, 203.61790466308594], [207.06048150581293, 252.33630916254916], [848.652587890625, 252.33630916254916], [848.652587890625, 203.61790466308594]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "d708964792bc8ef63a6e6daef2b36e5d", "text": "import os", "metadata": {"detection_class_prob": 0.27639809250831604, "coordinates": {"points": [[234.16814624299352, 310.83689810607495], [234.16814624299352, 335.2936706542969], [368.0443420410156, 335.2936706542969], [368.0443420410156, 310.83689810607495]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "12b389d9ba5f8a7b36fe68fb541b98ac", "text": "from zhipuai import ZhipuAI", "metadata": {"detection_class_prob": 0.2691844403743744, "coordinates": {"points": [[229.06204223632812, 347.57958984375], [229.06204223632812, 372.7674855885927], [640.9296875, 372.7674855885927], [640.9296875, 347.57958984375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "7ed5c753f7d6d93d96ac3c5c64c8b048", "text": "from IPython.display import display, Code, Markdown", "metadata": {"detection_class_prob": 0.5518857836723328, "coordinates": {"points": [[231.88587951660156, 386.09564208984375], [231.88587951660156, 413.2457580566406], [986.6561889648438, 413.2457580566406], [986.6561889648438, 386.09564208984375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "9ad46bbee07a9205de30e1de0e463573", "text": "在上一小节中，我们已经顺利完成智谱AI账号注册，并获取GLM模型API-KEY，同时完成了本地调用测 试。本节我们将开始着手使用GLM-4模型，并详细介绍GLM-4调用函数参数及模型的多角色对话系统。", "metadata": {"detection_class_prob": 0.8977607488632202, "coordinates": {"points": [[205.633544921875, 472.1015625], [205.633544921875, 551.1686401367188], [1481.5975341796875, 551.1686401367188], [1481.5975341796875, 472.1015625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "7c14b422c0cc50a95467d9ca582bf5d7", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response = client.chat.completions.create(", "metadata": {"detection_class_prob": 0.40332359075546265, "coordinates": {"points": [[228.19859313964844, 608.347412109375], [228.19859313964844, 673.0370026773626], [1380.710987325034, 673.0370026773626], [1380.710987325034, 608.347412109375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "25ffa3c7a4b79586d5c7155cd25bf972", "text": "model=\"glm-4\", # 填写需要调用的模型名称 messages=[ {\"role\": \"user\", \"content\": \"你好\"} ], ) print(response.choices[0].message)", "metadata": {"detection_class_prob": 0.513939619064331, "coordinates": {"points": [[234.16814624299352, 686.5435925669935], [234.16814624299352, 911.8194580078125], [856.1516095983425, 911.8194580078125], [856.1516095983425, 686.5435925669935]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "e98566f668610a0f6ad43e1baa4fcb11", "text": "print(response.choices[0].message)", "metadata": {"detection_class_prob": 0.47499915957450867, "coordinates": {"points": [[231.15870666503906, 881.7626953125], [231.15870666503906, 906.5799604130722], [734.261474609375, 906.5799604130722], [734.261474609375, 881.7626953125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a599fef7981a5b61c015fcd69a232684", "text": "CompletionMessage(content='你好👋！我是人工智能助手智谱清言，可以叫我小智🤖，很高兴见到你，欢 迎问我任何问题。', role='assistant', tool_calls=None)", "metadata": {"detection_class_prob": 0.8396452069282532, "coordinates": {"points": [[231.52830505371094, 981.2970909163271], [231.52830505371094, 1050.542724609375], [1467.9849853515625, 1050.542724609375], [1467.9849853515625, 981.2970909163271]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "d6cf81b5ff23f38423b804ad139654fb", "text": "大模型的对话功能是大模型开发流程中最为核心的要点，调用一次create就是发起一次对话，当我们需要多 次与大模型进行对话时，我们就需要多次调取create——", "metadata": {"detection_class_prob": 0.9231687784194946, "coordinates": {"points": [[207.06048150581293, 1110.823974609375], [207.06048150581293, 1186.7077007382186], [1486.203411291522, 1186.7077007382186], [1486.203411291522, 1110.823974609375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "dbf6ca56a933572243730af013fb447e", "text": "response_1 = client.chat.completions.create(", "metadata": {"detection_class_prob": 0.38284096121788025, "coordinates": {"points": [[231.59226989746094, 1322.80224609375], [231.59226989746094, 1348.643416127094], [888.5078735351562, 1348.643416127094], [888.5078735351562, 1322.80224609375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "2da8dfec7978f68e3cb2769ec2636a3f", "text": "model=\"glm-4\", # 填写需要调用的模型名称 messages=[ {\"role\": \"user\", \"content\": \"请问什么是大语言模型？\"} ], ) print(response_1.choices[0].message)", "metadata": {"detection_class_prob": 0.6786560416221619, "coordinates": {"points": [[234.16814624299352, 1356.8699951171875], [234.16814624299352, 1582.1863738628037], [1108.656982421875, 1582.1863738628037], [1108.656982421875, 1356.8699951171875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "03dbd434d91e1e9c0ade8a6bed32c145", "text": "print(response_1.choices[0].message)", "metadata": {"detection_class_prob": 0.5668019652366638, "coordinates": {"points": [[229.14459228515625, 1557.7894760163822], [229.14459228515625, 1582.1863738628037], [764.5270385742188, 1582.1863738628037], [764.5270385742188, 1557.7894760163822]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "2a45a525705561fa2145268ba3409bd0", "text": "CompletionMessage(content='大语言模型（Large Language Model, LLM）是一种基于深度学习的自然 语言处理模型，它拥有数十亿乃至数万亿个参数，能够理解和生成自然语言文本。这种模型通过大规模的无监督预 训练，学习到了丰富的语言表示和知识。\\n\\n在预训练过程中，大语言模型类似于一个极度聪明的“学霸”，它“阅 读”了来自各个领域的大量文本数据，从而获得了对各种语言现象的理解。这个过程并不是简单地将数据存储在模型 中，而是通过不断调整模型内部参数，使其能够捕捉到语言的深层规律和模式。\\n\\n大语言模型通常采用 Transformer模型架构，利用自注意力机制来处理长距离的依赖关系，这使得模型在理解和生成文本时能够考虑到 上下文的广泛信息。\\n\\n这些模型可以执行多种自然语言处理任务，如文本分类、文本生成、问题回答、机器翻 译、情感分析、文档摘要等，展现出强大的泛化能力和推理能力。\\n\\n大语言模型的出现，极大地推动了自然语言 处理领域的发展，为智能客服、内容审核、机器翻译、辅助写作等实际应用提供了强有力的技术支持。同时，这类 模型也在不断地推动着人工智能技术向更加人性化、智能化的方向发展。', role='assistant', tool_calls=None)", "metadata": {"detection_class_prob": 0.9432198405265808, "coordinates": {"points": [[226.18994140625, 1660.334318125712], [226.18994140625, 2077.627685546875], [1487.74072265625, 2077.627685546875], [1487.74072265625, 1660.334318125712]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "dc1cfb0def0875adbff60c445a9d1422", "text": "tool_calls=None)", "metadata": {"detection_class_prob": 0.7151107788085938, "coordinates": {"points": [[234.16814624299352, 2049.05517578125], [234.16814624299352, 2076.3799540714035], [469.36920764399184, 2076.3799540714035], [469.36920764399184, 2049.05517578125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 1, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "04d94f5cc0e5b8b5b40c621618539a64", "text": "response_2 = client.chat.completions.create( model=\"glm-4\", # 填写需要调用的模型名称 messages=[ {\"role\": \"user\", \"content\": \"你提到它能为人们的生活和工作带来便利，它是什么？你可以举 个例子吗？\"} ], ) print(response_2.choices[0].message)", "metadata": {"detection_class_prob": 0.7732052803039551, "coordinates": {"points": [[232.83306884765625, 177.38377379995552], [232.83306884765625, 484.53826904296875], [1476.217529296875, 484.53826904296875], [1476.217529296875, 177.38377379995552]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 2, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "7bac00f512413509121c0c89f58fac69", "text": "print(response_2.choices[0].message)", "metadata": {"detection_class_prob": 0.5517813563346863, "coordinates": {"points": [[230.4485626220703, 450.54562615154464], [230.4485626220703, 474.94252399796625], [763.9060668945312, 474.94252399796625], [763.9060668945312, 450.54562615154464]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 2, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a9bf08e833fcd38a8a799cf489b33364", "text": "CompletionMessage(content='在我没有上下文的情况下，很难确定“它”具体指的是什么。但是，如果我假设 “它”指的是一般意义上的技术或某个创新产品/服务，那么我可以给出一个例子。\\n\\n假设“它”指的是智能手机， 那么以下是如何为人们的生活和工作带来便利的例子：\\n\\n1. 生活便利：\\n - 智能手机通过集成的地图应用 帮助人们导航，找到目的地，无论是驾车、步行还是使用公共交通。\\n - 通过社交媒体应用，人们可以与家人 和朋友保持联系，分享生活点滴，即使他们身处世界的不同角落。\\n - 智能手机上的健康与健身应用可以帮助 用户跟踪健康数据、规划锻炼计划，促进健康生活方式。\\n\\n2. 工作便利：\\n - 员工可以通过智能手机随时 随地接收和回复工作邮件，提高工作效率。\\n - 通过视频会议应用，即使不在办公室，人们也能参与远程会 议。\\n - 智能手机中的应用程序可以帮助企业管理者监控业务运营，比如库存管理、销售数据等。\\n\\n智能手 机只是众多例子中的一个，实际上，许多技术发明和创新产品都在不断为我们的生活和工作提供便利，改善我们的 日常体验。', role='assistant', tool_calls=None)", "metadata": {"detection_class_prob": 0.9473515748977661, "coordinates": {"points": [[230.8776397705078, 551.0052632810913], [230.8776397705078, 928.2079467773438], [1480.0693359375, 928.2079467773438], [1480.0693359375, 551.0052632810913]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 2, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a42401f324fa13e9c807c830fc8e91ed", "text": "很明显，模型并不记得之前的信息，对话与对话之间是相互独立的。如果我们想让模型记得之前的信息，就 需要将上一个create方法产出的结果输入到下一个create方法中。所以在大模型开发的流程中，对话功能是 嵌套的逻辑、而不是线性的逻辑。", "metadata": {"detection_class_prob": 0.9321082830429077, "coordinates": {"points": [[207.06048150581293, 991.094970703125], [207.06048150581293, 1108.9393310546875], [1485.39892578125, 1108.9393310546875], [1485.39892578125, 991.094970703125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 2, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "4161c3c1c821289d78e842598ce31183", "text": "memory_ = response_1.choices[0].message.content", "metadata": {"detection_class_prob": 0.8519425988197327, "coordinates": {"points": [[232.55154418945312, 1169.9413441767217], [232.55154418945312, 1194.3382420231435], [931.2302856445312, 1194.3382420231435], [931.2302856445312, 1169.9413441767217]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 2, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "0dd9f5b211357e24203e73da7382f153", "text": "memory_", "metadata": {"detection_class_prob": 0.6780217885971069, "coordinates": {"points": [[232.15943908691406, 1272.1163881860946], [232.15943908691406, 1296.5132860325161], [337.068621140572, 1296.5132860325161], [337.068621140572, 1272.1163881860946]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 2, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "bd5b128151922cbb4f330af928577798", "text": "'大语言模型（Large Language Model, LLM）是一种基于深度学习的自然语言处理模型，它拥有数十亿乃至数 万亿个参数，能够理解和生成自然语言文本。这种模型通过大规模的无监督预训练，学习到了丰富的语言表示和知 识。\\n\\n在预训练过程中，大语言模型类似于一个极度聪明的“学霸”，它“阅读”了来自各个领域的大量文本数据， 从而获得了对各种语言现象的理解。这个过程并不是简单地将数据存储在模型中，而是通过不断调整模型内部参 数，使其能够捕捉到语言的深层规律和模式。\\n\\n大语言模型通常采用Transformer模型架构，利用自注意力机 制来处理长距离的依赖关系，这使得模型在理解和生成文本时能够考虑到上下文的广泛信息。\\n\\n这些模型可以执 行多种自然语言处理任务，如文本分类、文本生成、问题回答、机器翻译、情感分析、文档摘要等，展现出强大的 泛化能力和推理能力。\\n\\n大语言模型的出现，极大地推动了自然语言处理领域的发展，为智能客服、内容审核、 机器翻译、辅助写作等实际应用提供了强有力的技术支持。同时，这类模型也在不断地推动着人工智能技术向更加 人性化、智能化的方向发展。'", "metadata": {"detection_class_prob": 0.9480534195899963, "coordinates": {"points": [[232.0231170654297, 1447.9205322265625], [232.0231170654297, 1826.1553508974293], [1476.0145263671875, 1826.1553508974293], [1476.0145263671875, 1447.9205322265625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 2, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a02f7d0f44c6c5231a2afc2d3953ba04", "text": "response = client.chat.completions.create(", "metadata": {"detection_class_prob": 0.25616252422332764, "coordinates": {"points": [[234.16814624299352, 99.80553436279297], [234.16814624299352, 127.21748352050781], [853.0244140625, 127.21748352050781], [853.0244140625, 99.80553436279297]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 3, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "621ee3c1b94c13c7396e3436475cad82", "text": "model=\"glm-4\", # 填写需要调用的模型名称 messages=[ {\"role\": \"user\", \"content\": memory_ + \"你提到它能为人们的生活和工作带来便利，它是什 么？你可以举个例子吗？\"} ], ) print(response.choices[0].message)", "metadata": {"detection_class_prob": 0.6751968264579773, "coordinates": {"points": [[234.16814624299352, 121.3117446899414], [234.16814624299352, 399.8748484591194], [1472.4375, 399.8748484591194], [1472.4375, 121.3117446899414]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 3, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "bfa001288e91d2e05a9ffee7c320cbc7", "text": "print(response.choices[0].message)", "metadata": {"detection_class_prob": 0.7225440144538879, "coordinates": {"points": [[230.33355712890625, 375.4779506126978], [230.33355712890625, 399.8748484591194], [734.4539794921875, 399.8748484591194], [734.4539794921875, 375.4779506126978]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 3, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "404e31b5a6be82e449f8ec3e3ad3b86b", "text": "CompletionMessage(content='大语言模型（LLMs）能为人们的生活和工作带来便利的原因在于它们能够自动 化并增强许多与语言相关的任务。以下是一些具体的例子：\\n\\n1. **客户服务**：\\n - **聊天机器人**： 在电商平台或客服中心，大语言模型可以用来构建智能聊天机器人，它们能够理解用户的问题，并提供准确的答 案，从而提供24/7的服务，减少了对人工客服的依赖。\\n\\n2. **教育**：\\n - **个性化学习**：语言模型 可以根据学生的学习进度和能力，提供定制化的学习材料和解释，帮助学生更好地理解复杂概念。\\n - **辅助 写作**：模型可以提供写作建议，帮助学生在撰写论文或报告时改进文风和语法。\\n\\n3. **医疗健康**：\\n - **辅助诊断**：通过分析病人的病历和症状描述，语言模型可能辅助医生进行初步的诊断。\\n - **健康咨 询**：在用户描述了自己的症状后，模型可以提供初步的健康咨询和可能的下一步行动建议。\\n\\n4. **内容创作 与媒体**：\\n - **新闻简报生成**：自动从大量新闻来源中摘录和总结信息，生成个性化的新闻简报。\\n - **文章生成**：对于特定的主题或关键词，语言模型能够生成完整的文章或博客帖子。\\n\\n5. **日常办公 **：\\n - **电子邮件助手**：自动生成或建议电子邮件回复，提高工作效率。\\n - **会议记录**：将会 议对话转换成文字记录，并提供关键点的摘要。\\n\\n6. **科研与技术发展**：\\n - **文献分析**：快速阅 读和理解大量科研文献，帮助研究人员找到研究空白或新的研究方向。\\n - **代码辅助**：帮助开发者通过自 然语言描述生成代码片段，加速编程过程。\\n\\n这些例子展示了大语言模型如何通过自动化和提高效率来改善人们 的生活和工作。然而，确实需要注意这些技术带来的潜在风险，并采取措施确保其正面影响最大化，负面影响最小 化。', role='assistant', tool_calls=None)", "metadata": {"detection_class_prob": 0.9456522464752197, "coordinates": {"points": [[234.05751037597656, 478.0227927220273], [234.05751037597656, 1089.935546875], [1488.605712890625, 1089.935546875], [1488.605712890625, 478.0227927220273]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 3, "parent_id": "cb62a2d4dedfe7878c9b1a040ebe9c43", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "f10ec8de5aac14237b4e5710bd1c9e1d", "text": "1.GLM多角色对话系统解释", "metadata": {"detection_class_prob": 0.8607413172721863, "coordinates": {"points": [[207.06048150581293, 1148.7296142578125], [207.06048150581293, 1188.6928235349321], [618.3095703125, 1188.6928235349321], [618.3095703125, 1148.7296142578125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 3, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "f270c54e265a20dda6926bde1302254f", "text": "时至今日，多角色对话基本上已经成了顶尖大模型的标配。正是基于多角色对话这一基础技术架构，大 模型才能非常灵活的实现各类对话需求，甚至多角色对话也是更高效的实现Function calling的基础，而后者 则是整个Agent开发的基石。", "metadata": {"detection_class_prob": 0.9352896213531494, "coordinates": {"points": [[207.06048150581293, 1222.3739013671875], [207.06048150581293, 1343.0977723552985], [1488.0564704009057, 1343.0977723552985], [1488.0564704009057, 1222.3739013671875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 3, "parent_id": "f10ec8de5aac14237b4e5710bd1c9e1d", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "ec57a620eac4f6fc4bf94ce6d1ebc3c1", "text": "那什么是多角色对话呢？简而言之就是将用户和大模型之间的“私聊”变为“群聊”，在用户和大模型这两个 角色基础之上，进一步增加“系统”和“工具”这两个角色。尽管最终目的都是为了能完成大模型完成和用户的之 间对话，但在对话过程中添加一些额外角色，确实能够更好的引导大模型完成对话。例如对话系统中增加的 “系统”这一角色，可以为本次对话增加基本背景信息、对大模型进行角色身份设置等，相当于是设置本场对 话的基本规则和信息；而对话系统中的“工具”这一角色，则相当于是大模型的拓展工具箱，当大模型无法回 答当前问题的时候（例如用户希望查询当前即时天气），就可以向工具求助，而如果这个“工具”角色能够查 到当前天气，则会“告诉”大模型当前天气情况，大模型在接收到了当前天气情况之后再告诉用户。如此一 来，大模型便可以更加高效便捷的完成对话任务。", "metadata": {"detection_class_prob": 0.9556732773780823, "coordinates": {"points": [[207.06048150581293, 1372.6280517578125], [207.06048150581293, 1711.3319392538742], [1491.9743828894702, 1711.3319392538742], [1491.9743828894702, 1372.6280517578125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 3, "parent_id": "f10ec8de5aac14237b4e5710bd1c9e1d", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a0e850ffd11fc16730d847317f4eb51f", "text": "尽管多角色对话系统能够极大程度提高大模型的对话可用性，但并非所有模型都有能力进行多角色对 话——往往只有推理能力较强的大模型才能够非常顺利的进行多角色对话。对于ChatGLM系列模型来 说，也正是发布到了第三代，才正式引入多角色对话系统。而相比之下GPT系列模型，从ChatGPT （GPT-3.5）开始一直都是多角色对话模式。", "metadata": {"detection_class_prob": 0.937656044960022, "coordinates": {"points": [[246.22659301757812, 1742.536376953125], [246.22659301757812, 1906.103116896742], [1455.5390625, 1906.103116896742], [1455.5390625, 1742.536376953125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 3, "parent_id": "f10ec8de5aac14237b4e5710bd1c9e1d", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "95232fd3b2dd291f2807ee25e2d5a06b", "text": "而实际执行过程中，多角色对话的过程核心是依靠messages参数来实现的。", "metadata": {"detection_class_prob": 0.8273807168006897, "coordinates": {"points": [[234.16814624299352, 1932.1441650390625], [234.16814624299352, 1972.5869140625], [1171.7518521299028, 1972.5869140625], [1171.7518521299028, 1932.1441650390625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 3, "parent_id": "f10ec8de5aac14237b4e5710bd1c9e1d", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "95054b85b736a6acc4e2d1ac28fefb87", "text": "2.messages功能综述", "metadata": {"detection_class_prob": 0.8140783309936523, "coordinates": {"points": [[207.06048150581293, 85.18282318115234], [207.06048150581293, 123.15364926573409], [535.0526361548107, 123.15364926573409], [535.0526361548107, 85.18282318115234]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "e74cef456629d1d84269d31573167137", "text": "总的来说，messages是一种用于描述ChatCompletion模型和用户之间通信信息的高级抽象，也是支撑 多角色对话系统的关键，从表示形式上来说，一个messages是一个列表，包含多个字典，而每个字典都是 一条消息，其中，一条消息由包含两个键值对（即每个字典都包含两个键值对），第一个键值对用于表示消 息发送者，其中第一个Key为字符串'role'，Value为参与对话的角色名称，或者可以理解为本条消息的作者或 消息发送人名称，第二个键值对表示具体消息内容，Key为字符串'content'，Value为具体的消息内容，用字 符串表示。", "metadata": {"detection_class_prob": 0.9530380964279175, "coordinates": {"points": [[202.62620544433594, 159.29161071777344], [202.62620544433594, 408.7454833984375], [1496.77587890625, 408.7454833984375], [1496.77587890625, 159.29161071777344]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "e80bfc41a771674b6272538d3a348369", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"user\", \"content\": \"请问什么是机器学习？\"} ], )", "metadata": {"detection_class_prob": 0.6611621379852295, "coordinates": {"points": [[234.16814624299352, 462.84661865234375], [234.16814624299352, 741.453369140625], [1402.9517822265625, 741.453369140625], [1402.9517822265625, 462.84661865234375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "858b6084f90c346a407122af1fdaeafc", "text": "display(Markdown(response.choices[0].message.content))", "metadata": {"detection_class_prob": 0.8078762888908386, "coordinates": {"points": [[234.16814624299352, 802.6422729492188], [234.16814624299352, 829.6361083984375], [1027.8610830514715, 829.6361083984375], [1027.8610830514715, 802.6422729492188]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "5b0c2451dc1471474aa19e0a3923499c", "text": "机器学习（Machine Learning, ML）是人工智能（Artificial Intelligence, AI）的一个重要分支，它让计算机 系统能够基于数据进行自我学习和改进，而无需进行显式的编程。简单来说，机器学习就是通过算法和统计 模型，让机器能够从经验中学习，并据此做出预测或决策。", "metadata": {"detection_class_prob": 0.9364967942237854, "coordinates": {"points": [[206.52841186523438, 894.6589965820312], [206.52841186523438, 1010.7036364467224], [1490.8043212890625, 1010.7036364467224], [1490.8043212890625, 894.6589965820312]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "52cc1af9264e84ae09b8bedd1f6f91f7", "text": "在机器学习的框架下，计算机模型通过分析大量的数据集，找出数据中的模式和规律。这个过程主要包括以 下几个基本概念：", "metadata": {"detection_class_prob": 0.9198392033576965, "coordinates": {"points": [[207.06048150581293, 1044.7696533203125], [207.06048150581293, 1119.134295395444], [1489.8125, 1119.134295395444], [1489.8125, 1044.7696533203125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "29ab9c12b9c21aca281db0d5213c0a3f", "text": "数据集：包含用于训练模型的信息，通常分为训练集、验证集和测试集。", "metadata": {"detection_class_prob": 0.8142028450965881, "coordinates": {"points": [[226.06118774414062, 1150.15234375], [226.06118774414062, 1183.775649768721], [1137.0619024890855, 1183.775649768721], [1137.0619024890855, 1150.15234375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "8a25e1073afd571a8ac2bd887ce1d977", "text": "特征：数据的属性或描述性指标，用于输入到模型中进行学习。", "metadata": {"detection_class_prob": 0.8335474133491516, "coordinates": {"points": [[233.73802185058594, 1204.7921142578125], [233.73802185058594, 1240.6026611328125], [1028.6312435403631, 1240.6026611328125], [1028.6312435403631, 1204.7921142578125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "1abd3a0d29662f2e7aa457566d8ef251", "text": "标签：数据的真实结果或目标变量，通常作为模型的输出目标。", "metadata": {"detection_class_prob": 0.8161879777908325, "coordinates": {"points": [[233.8115234375, 1260.4415283203125], [233.8115234375, 1297.0872802734375], [1028.6312435403631, 1297.0872802734375], [1028.6312435403631, 1260.4415283203125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "77c329f38dcd2c238a171522c3a4899b", "text": "模型：通过学习输入特征与标签之间的关系，得到的一个数学函数或映射。", "metadata": {"detection_class_prob": 0.8426732420921326, "coordinates": {"points": [[231.78233337402344, 1317.5806884765625], [231.78233337402344, 1355.75244140625], [1164.169567226266, 1355.75244140625], [1164.169567226266, 1317.5806884765625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "ceb8b4f6a6428b41a493619c80a93dd4", "text": "训练：使用训练数据来调整模型参数，以便模型能够更好地捕捉数据特征和标签之间的关系。", "metadata": {"detection_class_prob": 0.8576129078865051, "coordinates": {"points": [[232.94398498535156, 1374.114013671875], [232.94398498535156, 1411.0765380859375], [1381.0308851237107, 1411.0765380859375], [1381.0308851237107, 1374.114013671875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "12a5dde30defb3695ddeb2f2fb1f7698", "text": "评估：通过一系列指标（如准确率、精确率、召回率等）来衡量模型的效果和性能。", "metadata": {"detection_class_prob": 0.8229730725288391, "coordinates": {"points": [[230.32699584960938, 1432.5849609375], [230.32699584960938, 1467.87744140625], [1272.6002261749884, 1467.87744140625], [1272.6002261749884, 1432.5849609375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "b81a4d2aa4f4da0b5283027c96fd162c", "text": "机器学习广泛应用于各种领域，如图像识别、语音识别、自然语言处理、推荐系统、自动驾驶等。根据学习 过程中是否使用标签，机器学习可以分为以下几类：", "metadata": {"detection_class_prob": 0.9263192415237427, "coordinates": {"points": [[200.97915649414062, 1499.4029541015625], [200.97915649414062, 1575.7941859679488], [1489.541015625, 1575.7941859679488], [1489.541015625, 1499.4029541015625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "f2e3130697701887e8c6936cad300e0f", "text": "监督学习：模型在已知输入和输出的数据集上进行训练。", "metadata": {"detection_class_prob": 0.8019129037857056, "coordinates": {"points": [[233.5552215576172, 1606.3992919921875], [233.5552215576172, 1640.7894287109375], [947.3082493288214, 1640.7894287109375], [947.3082493288214, 1606.3992919921875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "672227e3a8bf3bf3e709d9ec3e4cb79c", "text": "无监督学习：模型在无标签的数据集上进行训练，寻找数据内部的结构和模式。", "metadata": {"detection_class_prob": 0.8581249117851257, "coordinates": {"points": [[231.1990509033203, 1664.2423095703125], [231.1990509033203, 1698.821279775153], [1218.3848967006272, 1698.821279775153], [1218.3848967006272, 1664.2423095703125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "205538b20b7f982b4f84442d91bd8800", "text": "强化学习：通过与环境的交互，通过试错的方式不断学习和优化策略。", "metadata": {"detection_class_prob": 0.8248258233070374, "coordinates": {"points": [[235.3722381591797, 1720.672119140625], [235.3722381591797, 1756.1973876953125], [1109.9542377519049, 1756.1973876953125], [1109.9542377519049, 1720.672119140625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "3c517b6ffb2846e104541800eca1c80b", "text": "综上所述，机器学习是一门旨在通过数据使计算机自我学习和进步的技术，它在现代社会中发挥着越来越重 要的作用，推动了技术的革新和应用的拓展。", "metadata": {"detection_class_prob": 0.9194732904434204, "coordinates": {"points": [[206.71856689453125, 1786.4373779296875], [206.71856689453125, 1863.5524731780188], [1487.56103515625, 1863.5524731780188], [1487.56103515625, 1786.4373779296875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "73c363c6b5af7e8eec572ab5c796a28f", "text": "response.choices[0].message", "metadata": {"detection_class_prob": 0.7978687286376953, "coordinates": {"points": [[233.60025024414062, 1987.76904296875], [233.60025024414062, 2013.8240732112324], [632.186767578125, 2013.8240732112324], [632.186767578125, 1987.76904296875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 4, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "9e3fa3e6c8df7f9a8789ec6ba096e4a8", "text": "CompletionMessage(content='机器学习（Machine Learning, ML）是人工智能（Artificial Intelligence, AI）的一个重要分支，它让计算机系统能够基于数据进行自我学习和改进，而无需进行显式的编 程。简单来说，机器学习就是通过算法和统计模型，让机器能够从经验中学习，并据此做出预测或决策。\\n\\n在机 器学习的框架下，计算机模型通过分析大量的数据集，找出数据中的模式和规律。这个过程主要包括以下几个基本 概念：\\n\\n- **数据集**：包含用于训练模型的信息，通常分为训练集、验证集和测试集。\\n- **特征**：数据 的属性或描述性指标，用于输入到模型中进行学习。\\n- **标签**：数据的真实结果或目标变量，通常作为模型的 输出目标。\\n- **模型**：通过学习输入特征与标签之间的关系，得到的一个数学函数或映射。\\n- **训练**： 使用训练数据来调整模型参数，以便模型能够更好地捕捉数据特征和标签之间的关系。\\n- **评估**：通过一系列 指标（如准确率、精确率、召回率等）来衡量模型的效果和性能。\\n\\n机器学习广泛应用于各种领域，如图像识 别、语音识别、自然语言处理、推荐系统、自动驾驶等。根据学习过程中是否使用标签，机器学习可以分为以下几 类：\\n\\n- **监督学习**：模型在已知输入和输出的数据集上进行训练。\\n- **无监督学习**：模型在无标签的 数据集上进行训练，寻找数据内部的结构和模式。\\n- **强化学习**：通过与环境的交互，通过试错的方式不断学 习和优化策略。\\n\\n综上所述，机器学习是一门旨在通过数据使计算机自我学习和进步的技术，它在现代社会中发 挥着越来越重要的作用，推动了技术的革新和应用的拓展。', role='assistant', tool_calls=None)", "metadata": {"detection_class_prob": 0.9456456899642944, "coordinates": {"points": [[232.9897918701172, 100.60083218127716], [232.9897918701172, 637.6137084960938], [1487.558349609375, 637.6137084960938], [1487.558349609375, 100.60083218127716]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 5, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "4560257da7c5424902843da2d2058a8d", "text": "例如上述示例中的messages就总共包含一条信息，即一个一个名为user的角色发送了一条名为'请问什么是 机器学习？'的消息：", "metadata": {"detection_class_prob": 0.9124705791473389, "coordinates": {"points": [[207.06048150581293, 761.694091796875], [207.06048150581293, 836.3931030679946], [1479.7294921875, 836.3931030679946], [1479.7294921875, 761.694091796875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 5, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "93d6d1fee61ff43041a903e5653845e2", "text": "messages=[ {\"role\": \"user\", \"content\": \"请问什么是机器学习？\"} ]", "metadata": {"detection_class_prob": 0.6401695013046265, "coordinates": {"points": [[230.92918395996094, 881.3193969726562], [230.92918395996094, 1008.142578125], [1004.8216552734375, 1008.142578125], [1004.8216552734375, 881.3193969726562]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 5, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "8722ddcd5d1eb337458896f0576b3e2b", "text": "messages=[", "metadata": {"detection_class_prob": 0.4042929708957672, "coordinates": {"points": [[232.00643920898438, 894.6941313786908], [232.00643920898438, 919.0910292251124], [381.14842104328415, 919.0910292251124], [381.14842104328415, 894.6941313786908]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 5, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "c83d07d95a0d766218f1743b8b1fdfa0", "text": "而同时，返回的message结果也是一个“字典”，并且也包含了信息的发送方和具体信息内容，不难看出，此 时返回的message发送方是一个名为'assistant'的角色，而具体内容则是一段关于什么是机器学习的描述：", "metadata": {"detection_class_prob": 0.9170238375663757, "coordinates": {"points": [[207.06048150581293, 1058.4310302734375], [207.06048150581293, 1134.577415176982], [1482.1572265625, 1134.577415176982], [1482.1572265625, 1058.4310302734375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 5, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "d66eda9db10316fcca877aa3d6ca52e2", "text": "response.choices[0].message", "metadata": {"detection_class_prob": 0.7950913310050964, "coordinates": {"points": [[231.850830078125, 1194.1964111328125], [231.850830078125, 1219.3605463138817], [632.5393676757812, 1219.3605463138817], [632.5393676757812, 1194.1964111328125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 5, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "fa4299edb90602e2187647660e7664ea", "text": "CompletionMessage(content='机器学习是人工智能（AI）的一个重要分支，它让计算机能够通过数据来学习 规律和模式，从而进行预测或做出决策，而无需进行显式的编程。在机器学习中，计算机模型会从大量的样本数据 中学习，识别数据中的内在模式和关联，并利用这些学习到的知识对新数据做出推断或决策。\\n\\n机器学习的方法 通常分为监督学习、无监督学习和强化学习等几种：\\n\\n- **监督学习**：在这种方法中，模型通过已标记的数 据（即每个样本数据都有对应的输出标签）来学习，目的是预测新的、未标记数据的输出。例如，通过分析过去的 房价数据来预测未来的房价。\\n\\n- **无监督学习**：模型使用没有标签的数据进行学习，寻找数据中的结构或 模式。它的目的是发现数据内在的分布或分组，如通过购买行为将客户分成不同的市场细分。\\n\\n- **强化学习 **：这是一种通过奖励和惩罚机制来训练模型的方法，模型在环境中采取行动，并根据行动的结果调整其策略以获 得最大的长期奖励。\\n\\n机器学习在生活中的应用十分广泛，包括但不限于推荐系统、医疗诊断、金融风险管理、 图像识别和自然语言处理等领域。例如，社交媒体平台根据用户的兴趣和行为推荐内容，搜索引擎通过用户的查询 习惯优化搜索结果，这些都是机器学习应用的例子。\\n\\n在机器学习的过程中，可能会遇到如数据质量不佳、过拟 合（模型对训练数据过于敏感，泛化能力差）、欠拟合（模型过于简单，无法捕捉数据中的复杂关系）等问题。解 决这些问题的方法包括增加数据量、进行特征工程（选择和构造有助于模型学习的特征）、调整模型参数、正则化 技术以及交叉验证等。\\n\\n总之，机器学习是一个动态发展的领域，随着技术的不断进步，其应用范围和影响力也 在不断扩大。', role='assistant', tool_calls=None)", "metadata": {"detection_class_prob": 0.9496170878410339, "coordinates": {"points": [[234.16814624299352, 1372.575869848982], [234.16814624299352, 1942.9266742986242], [1465.5681982061683, 1942.9266742986242], [1465.5681982061683, 1372.575869848982]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 5, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a95ac139d83d96716ee580e5ac5ea7de", "text": "由此不难看出，对话Chat模型的每个对话任务都是通过输入和输出message来完成的。", "metadata": {"detection_class_prob": 0.746035099029541, "coordinates": {"points": [[207.06048150581293, 2069.80419921875], [207.06048150581293, 2102.11252579635], [1244.312502235649, 2102.11252579635], [1244.312502235649, 2069.80419921875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 5, "parent_id": "95054b85b736a6acc4e2d1ac28fefb87", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "68757f58e1accf0a46f7538bab699386", "text": "3.messages中的角色划分", "metadata": {"detection_class_prob": 0.792998194694519, "coordinates": {"points": [[207.06048150581293, 75.3338394165039], [207.06048150581293, 126.2638931274414], [602.8217979977621, 126.2638931274414], [602.8217979977621, 75.3338394165039]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 6, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "7dc14020de6c422d094fedb83ac98b5b", "text": "user role和assistant role", "metadata": {"detection_class_prob": 0.7710028886795044, "coordinates": {"points": [[235.7466583251953, 158.23614501953125], [235.7466583251953, 192.0650013816672], [577.2383278531315, 192.0650013816672], [577.2383278531315, 158.23614501953125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 6, "parent_id": "68757f58e1accf0a46f7538bab699386", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "6fb1ca9deea3d9d0e8523d748cb1e226", "text": "那么接下来的问题就是，在实际调用Chat模型进行对话时，messages中的role应该如何设置呢？从上 述极简的对话示例中能够看出，一个最简单的对话就是我们扮演user（用户）这个角色（'role':'user'），然 后在content中输入我们的问题并等待模型回答。而模型在实际回答过程中，也会扮演一个名为assistant （助手）这个角色（'role':'assistant'）进行回答，这里的user和assistant是具有明确含义的字符串，即如果 一条信息的role是user，则表明这是用户向模型发送的聊天信息，相当于是Completion模型中的prompt， 而如果一条信息的role是assistant，则表示这是当前模型围绕某条用户信息做出的回应，相当于是相当于是 Completion模型中的text。需要注意的是，在messages参数中，我们是不能给自己或者模型自定义其他名 称的。", "metadata": {"detection_class_prob": 0.9466163516044617, "coordinates": {"points": [[203.44223022460938, 220.52838134765625], [203.44223022460938, 560.2991682802427], [1500.52685546875, 560.2991682802427], [1500.52685546875, 220.52838134765625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 6, "parent_id": "68757f58e1accf0a46f7538bab699386", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "6734b3550522e9aa9f5bc2e875e591ed", "text": "很明显，基于这样的一个定义的规则，最简单的Chat模型的调用方法就是在messages参数中设置一条 role为user的参数，在content中输入聊天的内容，而模型则会根据这条用户输入给模型的消息进行回答，类 似于此前我们向模型提问“请问什么是机器学习？”这种提问方式:", "metadata": {"detection_class_prob": 0.9341962337493896, "coordinates": {"points": [[207.06048150581293, 592.2691040039062], [207.06048150581293, 711.2810413476643], [1493.6156685811075, 711.2810413476643], [1493.6156685811075, 592.2691040039062]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 6, "parent_id": "68757f58e1accf0a46f7538bab699386", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "170897f4302a037f6db337e73b77a9c0", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"user\", \"content\": \"请问什么是机器学习？\"} ] )", "metadata": {"detection_class_prob": 0.6801272034645081, "coordinates": {"points": [[230.28021240234375, 762.0304565429688], [230.28021240234375, 1054.189208984375], [1411.3133544921875, 1054.189208984375], [1411.3133544921875, 762.0304565429688]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 6, "parent_id": "68757f58e1accf0a46f7538bab699386", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "7228e652f8d6945063e32e47b85c46c2", "text": "response.choices[0].message.content", "metadata": {"detection_class_prob": 0.794205904006958, "coordinates": {"points": [[230.52249145507812, 1107.546630859375], [230.52249145507812, 1133.8673792094307], [752.4231567382812, 1133.8673792094307], [752.4231567382812, 1107.546630859375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 6, "parent_id": "68757f58e1accf0a46f7538bab699386", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "5ab1a6fd811d02e23d43c783a86f4148", "text": "'机器学习是人工智能（AI）的一个重要分支，它赋予了计算机系统通过数据分析和模式识别，自动学习和改进的能 力，而无需进行显式的编程指令。机器学习算法利用样本数据（即训练数据），让计算机模拟人类学习过程，从而 能够对新数据做出预测或决策。\\n\\n简而言之，机器学习可以视为一种让计算机从经验中学习的技术。在这个过程 中，计算机模型通过不断地调整和优化内部参数，以提高对特定任务的性能，比如分类、回归、聚类等。\\n\\n机器 学习在现实生活中的应用非常广泛，包括但不限于推荐系统、医疗诊断、金融风险管理、图像识别、自然语言处理 等。它能够处理和分析大量复杂的数据，帮助人们做出更准确、更高效的决策。'", "metadata": {"detection_class_prob": 0.9420079588890076, "coordinates": {"points": [[228.655517578125, 1282.79541015625], [228.655517578125, 1507.1190705906097], [1482.9091796875, 1507.1190705906097], [1482.9091796875, 1282.79541015625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 6, "parent_id": "68757f58e1accf0a46f7538bab699386", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "b487a71901f40eaa362aa7146c8ee59e", "text": "不过需要注意的是，尽管一个messages可以包含多条信息，但模型只会对于最后一条用户信息进行回答， 例如：", "metadata": {"detection_class_prob": 0.8871809840202332, "coordinates": {"points": [[206.6741180419922, 1633.533447265625], [206.6741180419922, 1709.247112140742], [1469.9361642388894, 1709.247112140742], [1469.9361642388894, 1633.533447265625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 6, "parent_id": "68757f58e1accf0a46f7538bab699386", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "ebda90a8eb46ad4d189b45fbd1cc4972", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"user\", \"content\": \"请问什么是机器学习？\"}, {\"role\": \"user\", \"content\": \"请问什么是决策树算法？\"} ] )", "metadata": {"detection_class_prob": 0.7884846925735474, "coordinates": {"points": [[233.287353515625, 1757.8341064453125], [233.287353515625, 2077.15380859375], [1380.710987325034, 2077.15380859375], [1380.710987325034, 1757.8341064453125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 6, "parent_id": "68757f58e1accf0a46f7538bab699386", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Header", "element_id": "70786a8066f47125e91caa93fe2f14a6", "text": "response.choices[0].message.content", "metadata": {"detection_class_prob": 0.8765016198158264, "coordinates": {"points": [[232.65087890625, 102.31631319443231], [232.65087890625, 126.71321104085393], [751.158447265625, 126.71321104085393], [751.158447265625, 102.31631319443231]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 7, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "2a8d16b0427e96a83a604a5f959ebb32", "text": "'决策树算法是机器学习领域中的一种常用算法，主要用于解决分类和回归问题。它是一种监督学习算法，通过从一 系列带有特征和标签的数据中学习，总结出一系列的决策规则，并以树状图的形式来展示这些规则。\\n\\n具体来 说，决策树算法通过递归地选择最优的特征，并根据这些特征的不同取值来划分数据集，生成决策树的节点和分 支。每个内部节点表示一个特征，每个分支代表该特征的一个取值，而叶子节点则代表分类的结论或回归的预测 值。\\n\\n决策树的工作原理可以形象地理解为一系列的“如果...那么...”的判断逻辑。例如，在动物分类的例子 中，根节点可能提问“是否是哺乳动物？”，根据答案的不同，会走向不同的子节点，子节点可能继续提问“是否有羽 毛？”等，直到达到叶子节点，得到最终的分类结果。\\n\\n在构建决策树时，通常会用到以下几种方法来评估和选 择特征：\\n\\n1. **信息增益（Entropy Gain）**：基于信息论中的熵概念，信息增益越大，意味着使用该特征 进行划分后数据集的纯度提升越大，该特征更有可能成为决策树的节点。\\n\\n2. **基尼系数（Gini Index） **：另一种衡量数据集纯度的指标，用于选择特征。\\n\\n决策树算法的优势包括：\\n\\n- 易于理解和解释：树状 结构直观，容易理解每一层分支代表的含义。\\n- 适用于各种数据类型：既可以处理数值型数据，也可以处理类别 型数据。\\n- 强大的泛化能力：在处理未见过的新数据时，决策树通常也能做出准确的预测。\\n\\n然而，决策树算 法也存在一些缺点，如可能会出现过拟合，特别是在数据量较少或特征过多时。为了解决这个问题，通常会采用剪 枝等技术来简化树结构，提高模型的泛化能力。随机森林等集成算法就是基于决策树，通过组合多个决策树来进一 步提升预测性能。'", "metadata": {"detection_class_prob": 0.9445033073425293, "coordinates": {"points": [[233.79440307617188, 277.84332959617217], [233.79440307617188, 850.2793390255978], [1493.3846435546875, 850.2793390255978], [1493.3846435546875, 277.84332959617217]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 7, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "d5e8fc1e9747778088f23e006e1ee314", "text": "也就是说，assistant消息和role消息是一一对应的，而且在一般情况下，assistant消息只会围绕messages 参数中的最后一个role信息进行回答。", "metadata": {"detection_class_prob": 0.9213377237319946, "coordinates": {"points": [[207.06048150581293, 976.9447631835938], [207.06048150581293, 1053.2544950987694], [1476.3785400390625, 1053.2544950987694], [1476.3785400390625, 976.9447631835938]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 7, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "9763432e3c92bcdefd394c7464c22075", "text": "system role用于身份设定", "metadata": {"detection_class_prob": 0.7198295593261719, "coordinates": {"points": [[232.47802734375, 1086.3685302734375], [232.47802734375, 1117.8958494720475], [578.956787109375, 1117.8958494720475], [578.956787109375, 1086.3685302734375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 7, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "f61439eddd9c1689c6c21cf7ce6196d6", "text": "不过，值得一提的是，user和assistant的这种提问方式尽管足够清晰，但往往形式上不够丰富，例如在 实践中人们发现，给聊天机器人进行一个身份设置，其实是非常有效的引导模型创作我们想要的结果的方 法，例如如果我们希望获得一个关于“什么是机器学习？”更加严谨且丰富的答案，我们可以以“假设你是一名 资深的计算机系大学教授”为模型进行身份设置，例如我们可以以如下方式向模型进行提问：", "metadata": {"detection_class_prob": 0.9433860182762146, "coordinates": {"points": [[204.53285217285156, 1147.7750244140625], [204.53285217285156, 1313.9051175716588], [1493.1776123046875, 1313.9051175716588], [1493.1776123046875, 1147.7750244140625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 7, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "90cb9875ccfe314c4f5f734502d26b11", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"user\", \"content\": \"假设你是一名资深的计算机系大学教授，请帮我回答，什么是机器学 习？\"} ] )", "metadata": {"detection_class_prob": 0.7586718201637268, "coordinates": {"points": [[225.14390563964844, 1364.36865234375], [225.14390563964844, 1692.1016845703125], [1472.029296875, 1692.1016845703125], [1472.029296875, 1364.36865234375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 7, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a3252ad27adecee7a7932f938a5e54d5", "text": "response.choices[0].message.content", "metadata": {"detection_class_prob": 0.799601137638092, "coordinates": {"points": [[231.14590454101562, 1746.265869140625], [231.14590454101562, 1774.025145069522], [752.703857421875, 1774.025145069522], [752.703857421875, 1746.265869140625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 7, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "9b2f2cb62e6bf4634578b8d97601b126", "text": "'机器学习是一门研究如何让计算机从数据或经验中学习并改进其性能的学科。它是人工智能领域的一个重要分支， 主要研究如何通过算法让计算机自动地获取新的知识或技能，进而对未知数据进行预测或决策。\\n\\n在机器学习 中，我们通常关注三类核心元素：经验（Experience）、任务（Task）和性能度量（Performance measure）。具体而言，根据Tom M. Mitchell的定义，一个计算机程序如果能够在经验E的基础上，针对某类任 务T，通过性能度量P来不断提高其性能，那么我们就可以说这个程序具有学习能力。\\n\\n机器学习涉及多个学科领 域，包括概率论、统计学、逼近论、凸分析、计算复杂性理论等。在实际应用中，它已经成功用于数据挖掘、计算 机视觉、自然语言处理、生物特征识别、搜索引擎优化、医学诊断、信用卡欺诈检测、证券市场分析、DNA序列分析 以及语音和手写识别等多个领域。\\n\\n简而言之，机器学习的目标是让计算机通过自动化的学习过程，模拟或实现 人类的学习行为，不断优化自身性能，从而为解决复杂问题提供有效的技术支持。'", "metadata": {"detection_class_prob": 0.9442270398139954, "coordinates": {"points": [[229.35292053222656, 96.52083587646484], [229.35292053222656, 442.0804748535156], [1484.5955810546875, 442.0804748535156], [1484.5955810546875, 96.52083587646484]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 8, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "5bfa66a93d3d254400cfee0db78b8590", "text": "不难看出，此时模型的回答就变得更加详细和严谨，更像一名“大学教授”的语气风格，也同时说明我们对模 型进行的身份设定是切实有效的。", "metadata": {"detection_class_prob": 0.9143421053886414, "coordinates": {"points": [[207.06048150581293, 566.8036499023438], [207.06048150581293, 639.5369649786668], [1478.302734375, 639.5369649786668], [1478.302734375, 566.8036499023438]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 8, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "156ca113784b45ee4da5951548a93ace", "text": "而在completion.create函数中，还有另外一种非常便捷的对模型进行身份设置的方法，即使用system role，即我们可以使用如下方式为模型进行“大学教授”身份设定：", "metadata": {"detection_class_prob": 0.919150710105896, "coordinates": {"points": [[205.77804565429688, 671.9249267578125], [205.77804565429688, 748.8147384504256], [1486.57421875, 748.8147384504256], [1486.57421875, 671.9249267578125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 8, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "bf23a478baa7b1aba006aaf32a9e0582", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"system\", \"content\": \"你是一名资深的计算机系大学教授\"}, {\"role\": \"user\", \"content\": \"请问什么是机器学习？\"} ] )", "metadata": {"detection_class_prob": 0.8321333527565002, "coordinates": {"points": [[234.16814624299352, 806.6011352539062], [234.16814624299352, 1120.7315673828125], [1380.710987325034, 1120.7315673828125], [1380.710987325034, 806.6011352539062]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 8, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "3c78c5734d99040a39f53f81eeb8e2fa", "text": "response.choices[0].message.content", "metadata": {"detection_class_prob": 0.8094714283943176, "coordinates": {"points": [[231.45687866210938, 1182.5821533203125], [231.45687866210938, 1208.9347659482885], [751.6422119140625, 1208.9347659482885], [751.6422119140625, 1182.5821533203125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 8, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a84b65ddce18be3172514fc1aea359fb", "text": "'机器学习（Machine Learning, ML）是人工智能（Artificial Intelligence, AI）的一个重要分支，它 赋予了计算机系统通过经验自动改进的能力，即在无需进行显式编程的情况下，通过数据驱动，使计算机能够学 习、做出决策和预测。\\n\\n在机器学习的框架中，我们通常让计算机解析大量数据，以此来识别数据中的模式和规 律。这些模式随后被用来对新数据做出预测或决策。具体来说，机器学习模型通过以下几个基本步骤进行学习和预 测：\\n\\n1. **数据收集**：收集用于训练的数据，这些数据包括特征（输入变量）和标签（输出变量）。 \\n\\n2. **数据预处理**：对收集到的数据进行清洗、整合、特征选择和特征工程，以提高模型的质量和性能。 \\n\\n3. **模型选择**：选择合适的算法来训练模型，如线性回归、逻辑回归、决策树、随机森林、神经网络等。 \\n\\n4. **训练**：使用训练集数据来训练模型，模型通过学习输入特征和标签之间的关系来调整内部参数。 \\n\\n5. **验证和测试**：使用验证集和测试集评估模型的性能，以确保模型的泛化能力。\\n\\n6. **部署**： 将经过训练并且验证准确的模型部署到实际应用中，用于预测或决策。\\n\\n机器学习广泛应用于多个领域，如图像 识别、语音识别、自然语言处理、推荐系统、自动驾驶等，对现代社会产生了深远的影响。\\n\\n根据学习方式的不 同，机器学习可以大致分为以下几类：\\n\\n- **监督学习**：从带标签的数据中学习，目的是预测未知数据的标 签。\\n- **无监督学习**：从无标签的数据中学习，寻找数据内部的潜在结构或规律。\\n- **半监督学习**：结 合有标签和无标签数据进行学习。\\n- **强化学习**：通过不断尝试和错误，学习如何在特定环境中做出最优决 策。\\n\\n总之，机器学习是一门研究如何通过数据让计算机自我学习和改进的学科，是推动现代技术革新的关键力 量之一。'", "metadata": {"detection_class_prob": 0.9393293261528015, "coordinates": {"points": [[234.16814624299352, 1362.1500894833887], [234.16814624299352, 1972.234619140625], [1478.641845703125, 1972.234619140625], [1478.641845703125, 1362.1500894833887]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 8, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "12411e52cda26ec31099f3abbbf53745", "text": "能够看出，这里我们在原有消息之前，新增一条消息{\"role\": \"system\", \"content\": \"你是一名资深的计算 机系大学教授\"}，也能起到设定模型身份的作用。而这条消息的实际含义是，以system的身份发送一条消 息，消息内容为“你是一名资深的计算机系大学教授”。这里的system就是messages参数的role可以选取的第 三个字符串，意为该消息为一条系统消息。相比用户消息，系统消息有以下几点需要注意，其一是系统消息 的实际作用是给整个对话系统进行背景设置，不同的背景设置会极大程度影响后续对话过程中模型的输出结 果，例如如果系统设置为“你是一位资深医学专家”，那么接下来系统在进行回答医学领域相关问题时则会引 用大量医学术语，而如果系统设置为“你是一位资深喜剧演员”，那么接下来系统进行的回答则会更加风趣幽 默：", "metadata": {"detection_class_prob": 0.951248049736023, "coordinates": {"points": [[203.0193634033203, 82.72998809814453], [203.0193634033203, 420.58927916815617], [1498.376220703125, 420.58927916815617], [1498.376220703125, 82.72998809814453]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 9, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "0eef2e6c7ece47f460d91ef213267a6c", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\")", "metadata": {"coordinates": {"points": [[234.16814624299352, 479.7374220018879], [234.16814624299352, 504.13431984830953], [1380.710987325034, 504.13431984830953], [1380.710987325034, 479.7374220018879]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 9, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "c9ab3fd2a15471a58952701cda9cdb22", "text": "response = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"system\", \"content\": \"你是一名资深的喜剧演员\"}, {\"role\": \"user\", \"content\": \"请问什么是机器学习？\"} ] )", "metadata": {"detection_class_prob": 0.6522194147109985, "coordinates": {"points": [[234.16814624299352, 484.7358093261719], [234.16814624299352, 782.4035034179688], [1310.1778564453125, 782.4035034179688], [1310.1778564453125, 484.7358093261719]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 9, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "1f535947961b0bdd98f8c89508ce9ab6", "text": "response.choices[0].message.content", "metadata": {"detection_class_prob": 0.8234615325927734, "coordinates": {"points": [[231.34349060058594, 857.0623779296875], [231.34349060058594, 881.5564211890536], [751.74560546875, 881.5564211890536], [751.74560546875, 857.0623779296875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 9, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "02446c4659240e060e7c3f2684692956", "text": "'机器学习（Machine Learning, ML）是人工智能（Artificial Intelligence, AI）的一个重要分支，它 让计算机系统得以从数据中学习并做出决策或预测，而无需进行显式的编程。简单来说，机器学习就是用算法来解 析数据、从中学习、然后做出决策或预测。\\n\\n在机器学习的过程中，我们通常需要以下几个基本组成部分： \\n\\n1. 数据集（Dataset）：包含用于训练的数据，通常分为训练集（Training Set）、验证集 （Validation Set）和测试集（Test Set）。\\n \\n2. 特征（Feature）：即输入变量，描述数据的属性 或特征。\\n\\n3. 标签（Label）：即目标变量，通常是我们要预测的输出。\\n\\n4. 模型（Model）：是通过训 练数据学习到的数学函数或映射。\\n\\n5. 训练（Training）：使用训练数据来优化模型参数的过程。\\n\\n6. 评估（Evaluation）：通过评估指标（如准确率、精确率、召回率等）来衡量模型性能。\\n\\n机器学习可以分为 多个类别，其中最常见的两种类型是：\\n\\n- 监督学习（Supervised Learning）：在这种模式下，模型在已 知输入和输出的数据集上进行训练，常见算法包括线性回归、逻辑回归、支持向量机（SVM）、决策树、随机森林和 神经网络等。\\n\\n- 无监督学习（Unsupervised Learning）：在无监督学习中，模型使用没有标签的数据进 行训练，目的是找出数据中的模式或结构。\\n\\n除此之外，还有半监督学习和强化学习等其他类型。\\n\\n机器学习 已经在许多领域得到了广泛应用，如图像识别、自然语言处理、推荐系统、自动驾驶等，它为我们的生活带来了极 大的便利，并在未来有着广阔的发展前景。'", "metadata": {"detection_class_prob": 0.9434399008750916, "coordinates": {"points": [[234.16814624299352, 1032.6865397443719], [234.16814624299352, 1565.5036545579178], [1482.853271484375, 1565.5036545579178], [1482.853271484375, 1032.6865397443719]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 9, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "b5008bc6798ffb181b2cf1db8746e566", "text": "这里需要重点注意，通过system_message进行身份设置对于GLM4模型效果较好，而对于GLM3模型来说效 果非常不稳定：", "metadata": {"detection_class_prob": 0.9010179042816162, "coordinates": {"points": [[206.9241943359375, 1691.16748046875], [206.9241943359375, 1767.6316961080524], [1491.0338134765625, 1767.6316961080524], [1491.0338134765625, 1691.16748046875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 9, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "bc788add240d818b21328e038f883060", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response = client.chat.completions.create( model=\"glm-3-turbo\", messages=[ {\"role\": \"system\", \"content\": \"你是一名资深的喜剧演员\"}, {\"role\": \"user\", \"content\": \"请问什么是机器学习？\"} ] )", "metadata": {"detection_class_prob": 0.7787767648696899, "coordinates": {"points": [[234.16814624299352, 94.21202850341797], [234.16814624299352, 419.84686279296875], [1388.045654296875, 419.84686279296875], [1388.045654296875, 94.21202850341797]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 10, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "6fd766650183e048c63d191f429f2f93", "text": "response.choices[0].message.content", "metadata": {"detection_class_prob": 0.8192108869552612, "coordinates": {"points": [[232.79937744140625, 478.6294250488281], [232.79937744140625, 504.13449024830123], [753.090576171875, 504.13449024830123], [753.090576171875, 478.6294250488281]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 10, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "1cd0d05b5e5b4eec4a7326694c53cf66", "text": "'机器学习是一门人工智能（AI）的分支，主要研究如何让计算机从数据或经验中学习，并据此进行预测或决策。简 单来说，机器学习就是用算法来解析数据、从中学习、然后做出决策或预测。\\n\\n机器学习可以分为几种主要类 型：\\n\\n1. **监督学习（Supervised Learning）**: 在这种模式下，算法从标记过的训练数据中学习，然 后用学到的知识来预测新的、未标记的数据。例如，通过分析过去的房价数据来预测未来的房价。\\n\\n2. **无监 督学习（Unsupervised Learning）**: 算法在没有标记的数据集上进行训练，试图自己找出数据内在的结构 或规律。聚类和关联规则学习就是两个常见的例子。\\n\\n3. **半监督学习（Semi-supervised Learning） **: 这是一种介于监督学习和无监督学习之间的方法，其中一部分数据是标记的，但大部分数据是未标记的。 \\n\\n4. **强化学习（Reinforcement Learning）**: 在这种类型中，算法（通常被称为“智能体”）通过与 环境进行交互来学习如何完成特定任务。智能体会获得奖励或惩罚，以便调整其行为。\\n\\n机器学习在各个领域都 有广泛的应用，包括自然语言处理、图像识别、推荐系统、金融预测等。\\n\\n机器学习还分为传统机器学习和深度 学习。传统机器学习通常使用简单的算法和特征，而深度学习则使用多层神经网络和大量的特征。深度学习在近年 来取得了很大的成功，尤其是在图像和语音识别等领域。\\n\\n值得注意的是，机器学习并不意味着“自主学习”。机 器学习模型通常需要大量的数据和计算资源，而且它们的学习结果完全取决于输入的数据。因此，确保数据的质量 和多样性非常重要。\\n\\n在中国，机器学习和人工智能也得到了广泛的关注和研究，许多企业和研究机构都在这方 面取得了显著的进展。'", "metadata": {"detection_class_prob": 0.9439588785171509, "coordinates": {"points": [[232.23570251464844, 655.2646088036195], [232.23570251464844, 1227.7006182330451], [1481.7108154296875, 1227.7006182330451], [1481.7108154296875, 655.2646088036195]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 10, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "d033c499bc7dd28db460a3e78c011aa5", "text": "而第二方面需要注意的则是，当messages中只包含一条system消息时，GLM4模型会直接报错：", "metadata": {"detection_class_prob": 0.7300391793251038, "coordinates": {"points": [[234.16814624299352, 1352.360595703125], [234.16814624299352, 1384.8012647509886], [1416.3694169214398, 1384.8012647509886], [1416.3694169214398, 1352.360595703125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 10, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "c33d375b032bd68b978aec6752d905d6", "text": "response = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"system\", \"content\": \"你是一名资深的喜剧演员\"}, ] )", "metadata": {"detection_class_prob": 0.7907148599624634, "coordinates": {"points": [[234.16814624299352, 1440.5838623046875], [234.16814624299352, 1677.737060546875], [1062.2640380859375, 1677.737060546875], [1062.2640380859375, 1440.5838623046875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 10, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "2b7a0a8e79de4645d9a158c8d0e6d171", "text": "--------------------------------------------------------------------------- APIRequestFailedError Traceback (most recent call last) Cell In[30], line 1 ----> 1 response = client.chat.completions.create( 2 model=\"glm-4\", 3 messages=[ 4 {\"role\": \"system\", \"content\": \"你是一名资深的喜剧演员\"}, 5 ] 6 )", "metadata": {"detection_class_prob": 0.518990159034729, "coordinates": {"points": [[234.16814624299352, 93.00428009033203], [234.16814624299352, 530.7163696289062], [1336.6718401615663, 530.7163696289062], [1336.6718401615663, 93.00428009033203]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 11, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "7bd9fbb3c0cbff9f32f3a5f3db1fb9b4", "text": "File ~\\anaconda3\\Lib\\site-packages\\zhipuai\\api_resource\\chat\\completions.py:72, in Completions.create(self, model, request_id, do_sample, stream, temperature, top_p, max_tokens, seed, messages, stop, sensitive_word_check, tools, tool_choice, meta, extra_headers, extra_body, timeout)", "metadata": {"detection_class_prob": 0.9230688214302063, "coordinates": {"points": [[234.16814624299352, 595.0716552734375], [234.16814624299352, 737.6776183840045], [1459.6641845703125, 737.6776183840045], [1459.6641845703125, 595.0716552734375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 11, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "754820f57036f67f55b50c358cc7c971", "text": "Completions.create(self, model, request_id, do_sample, stream, temperature, top_p, max_tokens, seed, messages, stop, sensitive_word_check, tools, tool_choice, meta, extra_headers, extra_body, timeout) 69 if item.get('content'): 70 item['content'] = self._drop_prefix_image_data(item['content']) ---> 72 return self._post( 73 \"/chat/completions\", 74 body={ 75 \"model\": model, 76 \"request_id\": request_id, 77 \"temperature\": temperature, 78 \"top_p\": top_p, 79 \"do_sample\": do_sample, 80 \"max_tokens\": max_tokens, 81 \"seed\": seed, 82 \"messages\": messages, 83 \"stop\": stop, 84 \"sensitive_word_check\": sensitive_word_check, 85 \"stream\": stream, 86 \"tools\": tools, 87 \"tool_choice\": tool_choice, 88 \"meta\": meta, 89 }, 90 options=make_request_options( 91 extra_headers=extra_headers, extra_body=extra_body, timeout=timeout 92 ), 93 cast_type=Completion, 94 stream=stream or False,", "metadata": {"detection_class_prob": 0.6363833546638489, "coordinates": {"points": [[234.16814624299352, 634.0429313058236], [234.16814624299352, 1716.1632080078125], [1454.2721062688495, 1716.1632080078125], [1454.2721062688495, 634.0429313058236]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 11, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "357141811b58f003aa6c951e160dcb68", "text": "95 stream_cls=StreamResponse[ChatCompletionChunk],", "metadata": {"detection_class_prob": 0.8012271523475647, "coordinates": {"points": [[234.16814624299352, 1723.2930908203125], [234.16814624299352, 1751.0872385586028], [1101.471307947, 1751.0872385586028], [1101.471307947, 1723.2930908203125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 11, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "81d63f484e671af25d3c02089fe57cf8", "text": "96 )", "metadata": {"coordinates": {"points": [[234.16814624299352, 1764.2240303482765], [234.16814624299352, 1788.620928194698], [366.4687514746653, 1788.620928194698], [366.4687514746653, 1764.2240303482765]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 11, "parent_id": "0eef2e6c7ece47f460d91ef213267a6c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "83983b46f99d377306bedc957673a3d4", "text": "File ~\\anaconda3\\Lib\\site-packages\\zhipuai\\core\\_http_client.py:808, in", "metadata": {"coordinates": {"points": [[234.16814624299352, 102.31716519440081], [234.16814624299352, 126.71406304082242], [1292.545914273579, 126.71406304082242], [1292.545914273579, 102.31716519440081]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "276aac437153dbc6243e9d2f78de6fa6", "text": "HttpClient.post(self, path, cast_type, body, options, files, stream, stream_cls)", "metadata": {"coordinates": {"points": [[234.16814624299352, 141.93605981028048], [234.16814624299352, 166.3329576567021], [1410.1720064786182, 166.3329576567021], [1410.1720064786182, 141.93605981028048]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "text": "793 def post(", "metadata": {"coordinates": {"points": [[234.16814624299352, 179.4697494463757], [234.16814624299352, 203.8666472927973], [484.06927281103845, 203.8666472927973], [484.06927281103845, 179.4697494463757]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "cde07f22a612d865c6d73c3f10f9a023", "text": "794 self,", "metadata": {"coordinates": {"points": [[234.16814624299352, 219.08864406225536], [234.16814624299352, 243.485541908677], [542.869533479225, 243.485541908677], [542.869533479225, 219.08864406225536]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "497d1968c731c4e623dfcbac034b0049", "text": "795 path: str,", "metadata": {"detection_class_prob": 0.427608460187912, "coordinates": {"points": [[234.16814624299352, 253.91610717773438], [234.16814624299352, 285.0970153808594], [618.5335693359375, 285.0970153808594], [618.5335693359375, 253.91610717773438]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "392850665f5f937f889ff09e5f07b2e4", "text": "(...)", "metadata": {"coordinates": {"points": [[234.16814624299352, 296.2412283142302], [234.16814624299352, 320.63812616065184], [351.7686863076186, 320.63812616065184], [351.7686863076186, 296.2412283142302]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "30686d9360c4d7e965b0cbff705d1b44", "text": "802 stream_cls: Type[StreamResponse[Any]] | None = None,", "metadata": {"detection_class_prob": 0.4208504557609558, "coordinates": {"points": [[234.16814624299352, 331.8644104003906], [234.16814624299352, 361.4615478515625], [1236.9893798828125, 361.4615478515625], [1236.9893798828125, 331.8644104003906]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "a13d219ca43cee12c30fac9686920183", "text": "803 ) -> ResponseT | StreamResponse:", "metadata": {"detection_class_prob": 0.4839417040348053, "coordinates": {"points": [[234.16814624299352, 371.3269348144531], [234.16814624299352, 401.120361328125], [823.0899658203125, 401.120361328125], [823.0899658203125, 371.3269348144531]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "bb83211bd151879bd065bd72bcd33d63", "text": "804 opts = FinalRequestOptions.construct(", "metadata": {"detection_class_prob": 0.591834545135498, "coordinates": {"points": [[234.16814624299352, 409.56329345703125], [234.16814624299352, 442.1445617675781], [964.9345703125, 442.1445617675781], [964.9345703125, 409.56329345703125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "fbb7c1c093d5e2d8980925e22a0e4b5d", "text": "805 method=\"post\", url=path, json_data=body,", "metadata": {"coordinates": {"points": [[234.16814624299352, 452.6316017979645], [234.16814624299352, 477.0284996443861], [1072.068058563298, 477.0284996443861], [1072.068058563298, 452.6316017979645]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "ba47517c48f2f917eb6a12e293f5e1d4", "text": "files=make_httpx_files(files), **options", "metadata": {"detection_class_prob": 0.5900653004646301, "coordinates": {"points": [[233.78895568847656, 486.3699951171875], [233.78895568847656, 518.6141967773438], [824.2261352539062, 518.6141967773438], [824.2261352539062, 486.3699951171875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "17e9c2e3c300308dedc23e1a6b3795a8", "text": "806 )", "metadata": {"coordinates": {"points": [[234.16814624299352, 531.8693910297238], [234.16814624299352, 556.2662888761455], [425.26901214285186, 556.2662888761455], [425.26901214285186, 531.8693910297238]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a0faeee6fdabfc6482961286de3ebd6a", "text": "--> 808 return cast(ResponseT, self.request(cast_type, opts, stream=stream, stream_cls=stream_cls))", "metadata": {"detection_class_prob": 0.7582564353942871, "coordinates": {"points": [[228.55284118652344, 567.209716796875], [228.55284118652344, 635.8109741210938], [1410.1645076644709, 635.8109741210938], [1410.1645076644709, 567.209716796875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "2d45613b0b0d104da0c238b12c03ac87", "text": "File ~\\anaconda3\\Lib\\site-packages\\zhipuai\\core\\_http_client.py:494, in HttpClient.request(self, cast_type, options, remaining_retries, stream, stream_cls) 485 def request(", "metadata": {"detection_class_prob": 0.4878802001476288, "coordinates": {"points": [[234.16814624299352, 711.3927001953125], [234.16814624299352, 814.8317063692531], [1454.2721062688495, 814.8317063692531], [1454.2721062688495, 711.3927001953125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "36d21792670afa56b877effdbe9fed52", "text": "486 self,", "metadata": {"coordinates": {"points": [[234.16814624299352, 830.0537031387086], [234.16814624299352, 854.4506009851302], [542.869533479225, 854.4506009851302], [542.869533479225, 830.0537031387086]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "8eca33a8b574f153c50f44a7675ef8a6", "text": "487 cast_type: Type[ResponseT],", "metadata": {"detection_class_prob": 0.3466654419898987, "coordinates": {"points": [[234.16814624299352, 864.451171875], [234.16814624299352, 893.5125732421875], [874.7891845703125, 893.5125732421875], [874.7891845703125, 864.451171875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "adff4c91f9f1a8a0bb927c5100ce1434", "text": "(...)", "metadata": {"coordinates": {"points": [[234.16814624299352, 907.206287390686], [234.16814624299352, 931.6031852371076], [351.7686863076186, 931.6031852371076], [351.7686863076186, 907.206287390686]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "66c8dedf7accf186e7592211c36ec079", "text": "492 stream_cls: Type[StreamResponse] | None = None,", "metadata": {"detection_class_prob": 0.294672429561615, "coordinates": {"points": [[234.16814624299352, 942.2817993164062], [234.16814624299352, 973.03564453125], [1160.2714410006415, 973.03564453125], [1160.2714410006415, 942.2817993164062]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "1fac86a58a69b0aa48d19a085de78bbe", "text": "493 ) -> ResponseT | StreamResponse:", "metadata": {"detection_class_prob": 0.3209938704967499, "coordinates": {"points": [[234.16814624299352, 980.3380737304688], [234.16814624299352, 1009.8011474609375], [822.1706759422026, 1009.8011474609375], [822.1706759422026, 980.3380737304688]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "0dd20c1a556c84bf5e14b896730cd9b2", "text": "--> 494 return self._request(", "metadata": {"detection_class_prob": 0.4830605685710907, "coordinates": {"points": [[234.16814624299352, 1019.37109375], [234.16814624299352, 1049.7384033203125], [723.140380859375, 1049.7384033203125], [723.140380859375, 1019.37109375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "31c3ba216c7aa9b34c5bc2b3a05c7dd1", "text": "495 cast_type=cast_type,", "metadata": {"detection_class_prob": 0.5061072707176208, "coordinates": {"points": [[234.16814624299352, 1060.8883056640625], [234.16814624299352, 1088.9119873046875], [768.10009765625, 1088.9119873046875], [768.10009765625, 1060.8883056640625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "71dca94bb36daaa1a7879ff55cdca5bc", "text": "496 options=options,", "metadata": {"detection_class_prob": 0.5044535994529724, "coordinates": {"points": [[234.16814624299352, 1097.8409423828125], [234.16814624299352, 1129.16259765625], [726.7332763671875, 1129.16259765625], [726.7332763671875, 1097.8409423828125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "5a25d1842680c333ac70314efa95a3cf", "text": "497 stream=stream,", "metadata": {"detection_class_prob": 0.6219742298126221, "coordinates": {"points": [[234.16814624299352, 1135.4307861328125], [234.16814624299352, 1165.9007568359375], [675.1701199826448, 1165.9007568359375], [675.1701199826448, 1135.4307861328125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "6df89e6e0594f2af6b55b7ef39cd256a", "text": "498 stream_cls=stream_cls,", "metadata": {"detection_class_prob": 0.6571304202079773, "coordinates": {"points": [[234.16814624299352, 1175.9864501953125], [234.16814624299352, 1205.6036376953125], [792.7706094153817, 1205.6036376953125], [792.7706094153817, 1175.9864501953125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "08466ee232d2497bf62ccda8aac91ce7", "text": "499 remaining_retries=remaining_retries,", "metadata": {"detection_class_prob": 0.6752392053604126, "coordinates": {"points": [[234.16814624299352, 1215.2156982421875], [234.16814624299352, 1245.5943603515625], [998.5710751031272, 1245.5943603515625], [998.5710751031272, 1215.2156982421875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "838bc8876219c35f2d0746cfa3475d7f", "text": "500 )", "metadata": {"coordinates": {"points": [[234.16814624299352, 1257.5207239942497], [234.16814624299352, 1281.9176218406712], [425.26901214285186, 1281.9176218406712], [425.26901214285186, 1257.5207239942497]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "e66038a057092fe439ded55c78a76f63", "text": "File ~\\anaconda3\\Lib\\site-packages\\zhipuai\\core\\_http_client.py:581, in", "metadata": {"detection_class_prob": 0.40537819266319275, "coordinates": {"points": [[234.16814624299352, 1358.612548828125], [234.16814624299352, 1386.6123046875], [1292.545914273579, 1386.6123046875], [1292.545914273579, 1358.612548828125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "ccf05e3d5d437d6e40a5b2cf3c0c7f0e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "adfba6c6b9af8e89e506fd2fa16fa279", "text": "HttpClient._request(self, cast_type, options, remaining_retries, stream, stream_cls)", "metadata": {"coordinates": {"points": [[234.16814624299352, 1401.3998675992846], [234.16814624299352, 1425.7967654457063], [1468.97213953226, 1425.7967654457063], [1468.97213953226, 1401.3998675992846]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "62c3dfffb750a9bbac3068cd965fc49e", "text": "578 err.response.read()", "metadata": {"detection_class_prob": 0.5421409606933594, "coordinates": {"points": [[234.16814624299352, 1434.92138671875], [234.16814624299352, 1464.625], [752.5587768554688, 1464.625], [752.5587768554688, 1434.92138671875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "7b1f6e77a73f969ff2ad24a4950120bc", "text": "580 log.debug(\"Re-raising status error\")", "metadata": {"detection_class_prob": 0.7439378499984741, "coordinates": {"points": [[234.16814624299352, 1472.359375], [234.16814624299352, 1503.978271484375], [943.3955688476562, 1503.978271484375], [943.3955688476562, 1472.359375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "a39581d0024410b3ce6285de9feda652", "text": "--> 581 raise self._make_status_error(err.response) from None", "metadata": {"detection_class_prob": 0.7244240045547485, "coordinates": {"points": [[234.16814624299352, 1514.9600830078125], [234.16814624299352, 1542.844482421875], [1191.4791259765625, 1542.844482421875], [1191.4791259765625, 1514.9600830078125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "e623fa9d6e9335868709aa3fbf8a0fb6", "text": "583 # return self._parse_response(", "metadata": {"detection_class_prob": 0.7725614905357361, "coordinates": {"points": [[234.16814624299352, 1551.0699462890625], [234.16814624299352, 1580.24560546875], [798.9861450195312, 1580.24560546875], [798.9861450195312, 1551.0699462890625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "34289395a9045c855c4bb8fe8e5876cf", "text": "584 # cast_type=cast_type,", "metadata": {"detection_class_prob": 0.74558424949646, "coordinates": {"points": [[234.16814624299352, 1592.1273193359375], [234.16814624299352, 1620.176513671875], [738.6221923828125, 1620.176513671875], [738.6221923828125, 1592.1273193359375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "117f2918e81c8eb47379396bb6df25ca", "text": "585 # options=options,", "metadata": {"detection_class_prob": 0.5991339683532715, "coordinates": {"points": [[234.16814624299352, 1628.71875], [234.16814624299352, 1660.476806640625], [684.25927734375, 1660.476806640625], [684.25927734375, 1628.71875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "0a940b8603d55c778a10f7660c6f28c7", "text": "(...)", "metadata": {"coordinates": {"points": [[234.16814624299352, 1672.476514971089], [234.16814624299352, 1696.8734128175106], [351.7686863076186, 1696.8734128175106], [351.7686863076186, 1672.476514971089]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "56c3ac00c59a5ceab184e1fb872beb94", "text": "588 # stream_cls=stream_cls,", "metadata": {"detection_class_prob": 0.6953237652778625, "coordinates": {"points": [[234.16814624299352, 1707.92431640625], [234.16814624299352, 1736.4923074333929], [767.2190551757812, 1736.4923074333929], [767.2190551757812, 1707.92431640625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "faf37700479ef7ccf804639ccf0b3a30", "text": "589 # )", "metadata": {"coordinates": {"points": [[234.16814624299352, 1751.7143042028483], [234.16814624299352, 1776.1112020492699], [395.86888180875854, 1776.1112020492699], [395.86888180875854, 1751.7143042028483]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "1e6a9f1380c9f051e830b8e5f1c49a56", "text": "590 return self._process_response(", "metadata": {"detection_class_prob": 0.6971848011016846, "coordinates": {"points": [[234.16814624299352, 1784.9954833984375], [234.16814624299352, 1815.7300966651521], [793.493896484375, 1815.7300966651521], [793.493896484375, 1784.9954833984375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "f3679ff164d5afa1ccab00898eff3c47", "text": "591 cast_type=cast_type,", "metadata": {"detection_class_prob": 0.7111566662788391, "coordinates": {"points": [[234.16814624299352, 1825.8846435546875], [234.16814624299352, 1854.3154296875], [718.7185668945312, 1854.3154296875], [718.7185668945312, 1825.8846435546875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "514cf039fb3c9dd82b91d9c4bf3a8ce9", "text": "592 options=options,", "metadata": {"detection_class_prob": 0.6183969974517822, "coordinates": {"points": [[234.16814624299352, 1862.216552734375], [234.16814624299352, 1893.2755126953125], [660.4583129882812, 1893.2755126953125], [660.4583129882812, 1862.216552734375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "747bd198585623a357f9fd2379e1a61a", "text": "(...)", "metadata": {"coordinates": {"points": [[234.16814624299352, 1908.104677686585], [234.16814624299352, 1932.5015755330066], [351.7686863076186, 1932.5015755330066], [351.7686863076186, 1908.104677686585]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "6df3268f14872e88dadfbced610998ad", "text": "595 stream_cls=stream_cls,", "metadata": {"detection_class_prob": 0.5712900757789612, "coordinates": {"points": [[234.16814624299352, 1940.4578857421875], [234.16814624299352, 1970.0352651691019], [733.9784545898438, 1970.0352651691019], [733.9784545898438, 1940.4578857421875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "096b6043856d2ad83f0cb337f91b84cf", "text": "596 )", "metadata": {"coordinates": {"points": [[234.16814624299352, 1985.2572619385573], [234.16814624299352, 2009.6541597849791], [366.4687514746653, 2009.6541597849791], [366.4687514746653, 1985.2572619385573]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 12, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "0949634f96af77aeecc56f29b4001034", "text": "APIRequestFailedError: Error code: 400, with error text {\"error\": {\"code\":\"1214\",\"message\":\"messages 参数非法。请检查文档。\"}}", "metadata": {"detection_class_prob": 0.5518088340759277, "coordinates": {"points": [[227.65237426757812, 100.94940185546875], [227.65237426757812, 166.9665985107422], [1199.78173828125, 166.9665985107422], [1199.78173828125, 100.94940185546875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "08a29c2e1c6d7b3a0c4509aca9aeef9e", "text": "第三方面需要注意的是，如果我们需要根据system系统信息对系统进行设置，然后再提问，那么先 system消息再user消息的顺序就变得非常重要，例如还是上面的例子，还是希望以喜剧演员的身份介绍机器 学习，但我们调换了system消息和user消息的顺序，那么会发现，system消息的作用就会失效，这点和 GPT系列模型完全一样：", "metadata": {"detection_class_prob": 0.9455366730690002, "coordinates": {"points": [[201.62075805664062, 225.63087463378906], [201.62075805664062, 390.16033392769504], [1501.6982421875, 390.16033392769504], [1501.6982421875, 225.63087463378906]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "0dbba497437fbce2219dfbc807de510c", "text": "response = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"user\", \"content\": \"请问什么是机器学习？\"}, {\"role\": \"system\", \"content\": \"你是一名资深的喜剧演员\"} ] )", "metadata": {"detection_class_prob": 0.8567261099815369, "coordinates": {"points": [[223.66285705566406, 447.7219543457031], [223.66285705566406, 719.8262939453125], [1081.69287109375, 719.8262939453125], [1081.69287109375, 447.7219543457031]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "06e29ff13957b324c09bd7e0c790c03e", "text": "response.choices[0].message.content", "metadata": {"detection_class_prob": 0.8148326873779297, "coordinates": {"points": [[231.01766967773438, 785.9275512695312], [231.01766967773438, 810.6614668096757], [752.0796508789062, 810.6614668096757], [752.0796508789062, 785.9275512695312]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "f2b4e1f915cdf0543d1f118c49dc65ec", "text": "'机器学习是一门人工智能（AI）的分支，主要研究如何让计算机从数据或经验中学习，并据此进行预测或决策。简 单来说，机器学习就是用算法来解析数据、从中学习、然后做出决策或预测。\\n\\n机器学习可以分为几种主要类 型：\\n\\n1. **监督学习（Supervised Learning）**：在这种模式下，算法从标记过的训练数据中学习，然 后能够对新的、未见过的数据进行预测或分类。\\n\\n2. **无监督学习（Unsupervised Learning）**：在这 种情况下，算法从没有标记的数据中学习，寻找数据中的模式或结构。\\n\\n3. **半监督学习（Semi- supervised Learning）**：这种类型的机器学习介于监督学习和无监督学习之间，其中一部分数据是标记的， 但大部分数据是未标记的。\\n\\n4. **强化学习（Reinforcement Learning）**：这是一种通过奖励和惩罚机 制来让算法学习如何完成特定任务的方法。\\n\\n机器学习在各个领域都有广泛的应用，包括但不限于图像识别、语 音识别、自然语言处理、医疗诊断、推荐系统等。它是现代技术和社会发展的一个重要组成部分，有助于提高效 率、准确性和创新能力。'", "metadata": {"detection_class_prob": 0.9474197030067444, "coordinates": {"points": [[232.73281860351562, 962.5931396484375], [232.73281860351562, 1340.3035316745877], [1486.6275634765625, 1340.3035316745877], [1486.6275634765625, 962.5931396484375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "b65cd8a62bb0617868b2c1262ed86aab", "text": "此时会发现，模型还是能解答“请问什么是机器学习？”这个问题，但却没有正确接受“你是一名资深喜剧演员” 这个设定。", "metadata": {"detection_class_prob": 0.9196338653564453, "coordinates": {"points": [[207.06048150581293, 1467.097900390625], [207.06048150581293, 1542.4315732247248], [1491.9743820136841, 1542.4315732247248], [1491.9743820136841, 1467.097900390625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "e619ef64e6cf7e4911c9779c21bbe0a2", "text": "借助system messages设置聊天背景信息", "metadata": {"detection_class_prob": 0.76921147108078, "coordinates": {"points": [[233.2280731201172, 1574.1090087890625], [233.2280731201172, 1607.9200421210373], [761.6048628728033, 1607.9200421210373], [761.6048628728033, 1574.1090087890625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "41a137a5ef2a62cf80206fcb9cbd558b", "text": "除了可以借助system消息非常便捷的进行提示模板的设计之外，还有一个非常常见的system role的使 用方法，就是借助system消息进行聊天背景信息的设定，很多时候我们可以在system消息中输入一段长文 本，这段长文本将在聊天开始之前输入到系统中，而在之后的聊天中，即可让assistant围绕这个长文本进行 回答，这是一种最简单的实现大语言模型围绕本地知识库进行问答的方法。", "metadata": {"detection_class_prob": 0.9461379051208496, "coordinates": {"points": [[202.74935913085938, 1636.587646484375], [202.74935913085938, 1800.9969907178324], [1484.915771484375, 1800.9969907178324], [1484.915771484375, 1636.587646484375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "17e7b783d8ae2af248b6be70ebdac41f", "text": "这里我们在system消息中输入一段关于虚拟人物“陈明”的个人简介，而在之后的提问中，user和 assistant将可以自由的围绕这段输入的背景信息进行问答：", "metadata": {"detection_class_prob": 0.9142279028892517, "coordinates": {"points": [[207.06048150581293, 1832.1712646484375], [207.06048150581293, 1910.2747641895912], [1413.1480712890625, 1910.2747641895912], [1413.1480712890625, 1832.1712646484375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "4cc61050066785d6fa8f4c8d0f4e59a7", "text": "text = '陈明，男，1973年7月15日出生于中国福建省厦门市。\\", "metadata": {"detection_class_prob": 0.39797571301460266, "coordinates": {"points": [[234.16814624299352, 1965.0765380859375], [234.16814624299352, 1995.0578953264871], [964.7418212890625, 1995.0578953264871], [964.7418212890625, 1965.0765380859375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "89dc8c31e47900d65b61fc5d64c1de06", "text": "1991年毕业于厦门大学电子科学与技术系，继而于1998年在北京大学获得信息技术博士学位。\\ 毕业后的陈明在硅谷的一家著名科技公司工作了五年，专注于人工智能和机器学习的研发。'", "metadata": {"detection_class_prob": 0.3727683424949646, "coordinates": {"points": [[234.16814624299352, 2003.947265625], [234.16814624299352, 2074.295684558246], [1390.2271728515625, 2074.295684558246], [1390.2271728515625, 2003.947265625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 13, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "6cb620b922845161dec8a3d7d9b42da8", "text": "response = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"system\", \"content\": text}, {\"role\": \"user\", \"content\": '请问陈明是那一年出生？'} ] )", "metadata": {"detection_class_prob": 0.8394684791564941, "coordinates": {"points": [[228.0669403076172, 93.38871765136719], [228.0669403076172, 378.0818786621094], [1016.9404519102818, 378.0818786621094], [1016.9404519102818, 93.38871765136719]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 14, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "109caf7289b825920cc66db5d6a51e10", "text": "response.choices[0].message.content", "metadata": {"detection_class_prob": 0.7328501343727112, "coordinates": {"points": [[229.9872589111328, 438.1158142089844], [229.9872589111328, 464.6758728027344], [753.216552734375, 464.6758728027344], [753.216552734375, 438.1158142089844]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 14, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "6a9b6e6c90ada5828d360b6f608d35f4", "text": "'陈明是1973年7月15日出生的。'", "metadata": {"detection_class_prob": 0.5263540744781494, "coordinates": {"points": [[234.16814624299352, 614.5458374023438], [234.16814624299352, 642.2161865234375], [611.9701538085938, 642.2161865234375], [611.9701538085938, 614.5458374023438]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 14, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "4539509cd99a1afc81bd74b4834c5f29", "text": "能够看出，这段背景背景信息能够被模型学习并以此进行特定问题的回答。这其实就是一种非常简单的围绕 本地知识进行问答的实现形式，不过需要注意的是，system role输入的信息也算是输入给模型的信息，因此 受限于大语言模型的最大输入信息长度，单独借助system role在ChatCompletion.create函数中输入背景信 息并不能真正意义上实现高度定制化、超大规模文本的本地知识库问答。但是，如果围绕着超大规模本地文 本知识库先进行基于滑动窗口的文本切分，以确保切分后的小文本段落满足Max tokens要求，并且配合 Embedding过程进行user问题和短文本的实时匹配，再把每个user问题匹配的关联度最高的文本以system 消息的形式输入到模型中，再进行回答，则可以非常高效并且准确的实现本地知识库问答。而在这个过程 中，借助system role进行背景文字的输入就非常基本的技术手段。", "metadata": {"detection_class_prob": 0.954914391040802, "coordinates": {"points": [[207.06048150581293, 768.0304565429688], [207.06048150581293, 1105.3858123932926], [1495.701416015625, 1105.3858123932926], [1495.701416015625, 768.0304565429688]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 14, "parent_id": "adfba6c6b9af8e89e506fd2fa16fa279", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "b93fefdd7dbe0681495bc054273841b6", "text": "2. chat.completions.create关键参数详解", "metadata": {"detection_class_prob": 0.8336648344993591, "coordinates": {"points": [[206.83763122558594, 1145.2340087890625], [206.83763122558594, 1192.7648609113564], [997.0017700195312, 1192.7648609113564], [997.0017700195312, 1145.2340087890625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 14, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "c72f7d81083d4e141b2ccace06bbe610", "text": "接下来围绕chat.completions.create函数的关键参数进行解释：", "metadata": {"detection_class_prob": 0.8547067046165466, "coordinates": {"points": [[234.16814624299352, 1225.3590087890625], [234.16814624299352, 1259.6909808972473], [1025.293685301772, 1259.6909808972473], [1025.293685301772, 1225.3590087890625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 14, "parent_id": "b93fefdd7dbe0681495bc054273841b6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Table", "element_id": "aab19eb1850923acbc68f677eab3e284", "text": "是 参数名称 类型 否 必 参数解释 填 model String 是 所要调用的模型编码 调用语言模型时，将当前对话信息列表作为提示输入给模型， messages List 是 按照 {\"role\": \"user\", \"content\": \"你好\"} 的json 数组形 式进行传参； 可能的消息类型包括 System message、User message、Assistant message 和 Tool message。 request_id String 否 由用户端传参，需保证唯一性；用于区分每次请求的唯一标 识，用户端不传时平台会默认生成。 do_sample Boolean 否 do_sample 为 true 时启用采样策略，do_sample 为 false 时采 样策略 temperature、top_p 将不生效", "metadata": {"detection_class_prob": 0.9063811302185059, "coordinates": {"points": [[203.62057495117188, 1300.681396484375], [203.62057495117188, 1995.6915283203125], [1493.0977783203125, 1995.6915283203125], [1493.0977783203125, 1300.681396484375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "text_as_html": "<table><tr><td>BHM</td><td></td><td>i &amp; 1D ao</td><td>SRE</td></tr><tr><td>model</td><td>String</td><td>fil</td><td>ATS i) eoeeaUaES</td></tr><tr><td>messages</td><td>List</td><td>fill</td><td>AFB #28B {\"role\": \"user\", \"conte HTS; ATARI BAS GR System message, User mes: SRaN, SSRIS sage, Assistant message #1] FRED AA ARE, nt\": \"Pie\" } BYjson BAA Tool message.</td></tr><tr><td>request_id</td><td>String</td><td>17</td><td>APimtee, FRUEMEE; | AP im MER FG AEA ER. FRASER ER</td></tr><tr><td>do_sample</td><td>Boolean</td><td>1</td><td>do_sample W true MEFS i temperature, top_p ARR HERR ig, do_sample W false AIS</td></tr></table>", "filetype": "application/pdf", "languages": ["eng"], "page_number": 14, "parent_id": "b93fefdd7dbe0681495bc054273841b6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Table", "element_id": "b8695812d70f00d9f10529f2470fea68", "text": "是 参数名称 类型 否 必 参数解释 填 使用同步调用时，此参数应当设置为 Fasle 或者省略。表示模 stream Boolean 否 型生成完所有内容后一次性返回所有内容。如果设置为 True， 模型将通过标准 Event Stream ，逐块返回模型生成内容。 Event Stream 结束时会返回一条 data: [DONE] 消息。 采样温度，控制输出的随机性，必须为正数取值范围是： temperature Float 否 (0.0,1]，不能等于 0，默认值为 0.95,值越大，会使输出更随 机，更具创造性；值越小，输出会更加稳定或确定建议您根据 应用场景调整 top_p 或 temperature 参数，但不要同时调整两 个参数 用温度取样的另一种方法，称为核取样 取值范围是： (0.0, 1.0) 开区间，不能等于 0 或 1，默认值为 0.7 模型考虑具有 top_p Float 否 top_p 概率质量tokens的结果 例如：0.1 意味着模型解码器只 考虑从前 10% 的概率的候选集中取tokens 建议您根据应用场 景调整 top_p 或 temperature 参数，但不要同时调整两个参 数 max_tokens Integer 否 模型输出最大tokens stop List 否 模型在遇到stop所制定的字符时将停止生成，目前仅支持单个 停止词，格式为 [\"stop_word1\"] tools List 否 可供模型调用的工具列表,tools字段会计算 tokens ，同样受到 tokens长度的限制 type String 是 工具类型,目前支持 function 、 retrieval 、 web_search function Object 是 仅当工具类型为 function 时补充 retrieval Object 仅当工具类型为 retrieval 时补充 web_search Object 仅当工具类型为 web_search 时补充，如果tools中存在类型 retrieval，此时web_search不生效。", "metadata": {"detection_class_prob": 0.8901490569114685, "coordinates": {"points": [[200.3245086669922, 102.08515167236328], [200.3245086669922, 1665.0872802734375], [1496.949951171875, 1665.0872802734375], [1496.949951171875, 102.08515167236328]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "text_as_html": "<table><tr><td>BHM</td><td></td><td>im &amp; 1 A</td><td>SRE</td></tr><tr><td>stream</td><td>Boolean</td><td>17</td><td>ied Aelia AY, USSR Fasle RAG. Bate HAEKEMAAAR BE ORIREMAAR. MRR True, EY SBE Event Stream , AIRE RAA. Event Stream 44RiY SiR [B]—&amp; data: [DONE] HB.</td></tr><tr><td>temperature</td><td>Float</td><td>1</td><td>RE, SIMA, LATE C ELS : (0.0,1], AAESF OO, SIMBA 0.95,(/RA, SRI BRS tl, SRS; (Bei), MUSSER EEE I FASS top_p BR temperature BA, (AFB FSR</td></tr><tr><td>top_p</td><td>Float</td><td>17</td><td>AREA AMA, MARA DUDERE: 1.0) FARIA, ARESF OB 1, SOMA 0.7 RBS top_p #28 istokenshVaR FiN: 0.1 ARBRE SSM Bl 10% ASRZEARASS PAtokens BIE ALA Sig top_p Bi temperature BY, (AREA ALANS Hi</td></tr><tr><td>max_tokens</td><td>Integer</td><td>1</td><td>faa Atokens</td></tr><tr><td>stop</td><td>List</td><td>17</td><td>(RABE stopAr Bl EW SAAS, BB sceS (P1kis), xt [\"stop_word1\"]</td></tr><tr><td>tools</td><td>List</td><td>1</td><td>By HEY FAA LR toolsFERRIt SE tokens , fPESZE tokenst&lt;EAYBR Bl</td></tr><tr><td>type</td><td>String</td><td>fill</td><td>TE, Baiszt function, retrieval, web_search</td></tr><tr><td>function</td><td>Object</td><td>fill</td><td>MALBAHA function MEFs</td></tr><tr><td>retrieval</td><td>Object</td><td></td><td>MATLBAHA retrieval Aes</td></tr><tr><td>web_search</td><td>Object</td><td></td><td>(MALAARBA web_search A#h3s, MIERtools HERA! retrieval, ItkBtweb_search#4Ex,</td></tr></table>", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "b93fefdd7dbe0681495bc054273841b6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "d9ccaa81168eeb0509eff60261977bce", "text": "tool_choice", "metadata": {"coordinates": {"points": [[236.2533512227766, 1722.6066568090932], [236.2533512227766, 1749.7143215462736], [378.4627023197483, 1749.7143215462736], [378.4627023197483, 1722.6066568090932]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "b87b4ef051276005ae352cd0b10dec9e", "text": "String", "metadata": {"coordinates": {"points": [[467.7111039787032, 1680.9025572134342], [467.7111039787032, 1708.0102219506146], [541.5689015915207, 1708.0102219506146], [541.5689015915207, 1680.9025572134342]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "847635325feb7931e120d19283f250ae", "text": "或", "metadata": {"coordinates": {"points": [[467.7111039787032, 1723.8447472658386], [467.7111039787032, 1750.952412003019], [494.8187687158838, 1750.952412003019], [494.8187687158838, 1723.8447472658386]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "ce70e3fc06c7ac429bb54c35dacfdbac", "text": "Object", "metadata": {"coordinates": {"points": [[469.0, 1764.0], [469.0, 1792.0], [549.0, 1792.0], [549.0, 1764.0]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "d4acf9e0b907b3e9c7a8a86c9a683be9", "text": "Object", "metadata": {"coordinates": {"points": [[467.7111039787032, 1766.3959613845393], [467.7111039787032, 1793.5036261217197], [549.9738658981237, 1793.5036261217197], [549.9738658981237, 1766.3959613845393]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "0c88f7fc028700afd1a5a3700ff58344", "text": "否", "metadata": {"coordinates": {"points": [[628.2718874220036, 1721.7595422860566], [628.2718874220036, 1748.867207023237], [655.3795521591842, 1748.867207023237], [655.3795521591842, 1721.7595422860566]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "722b08389e908dcf44fc7266b8f7f393", "text": "用于控制模型是如何选择要调用的函数，仅当工具类型为", "metadata": {"coordinates": {"points": [[711.6800866133284, 1700.907492488227], [711.6800866133284, 1728.0151572254074], [1389.3717050428431, 1728.0151572254074], [1389.3717050428431, 1700.907492488227]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "44a86fda272663fb9db95508685bc0a9", "text": "function时补充。默认为auto，当前仅支持auto", "metadata": {"coordinates": {"points": [[711.6800866133284, 1744.696797063673], [711.6800866133284, 1772.6515763238901], [1284.1971365418665, 1772.6515763238901], [1284.1971365418665, 1744.696797063673]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "9cdf6864d9da479a1f7b93a9f34ff08d", "text": "整体来看，GLM系列模型的参数结构并不如GPT系列模型复杂，在上述一系列参数中，temperature、 max_tokens两个参数是需要重点关注，并且之后会经常用到的两个参数。其中tools参数会涉及模型功能方 面调整，例如可以通过tools参数设置来选择是否开启联网、或者查阅在线知识库文档、或者开启Function calling功能等，该参数的使用方法我们将在下一小节进行介绍。", "metadata": {"detection_class_prob": 0.9344075322151184, "coordinates": {"points": [[202.01087951660156, 1847.8680419921875], [202.01087951660156, 2014.5353539787325], [1483.1966552734375, 2014.5353539787325], [1483.1966552734375, 1847.8680419921875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "44a86fda272663fb9db95508685bc0a9", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "4f20f2728f700b7368b7f154f97a6037", "text": "经典问答", "metadata": {"detection_class_prob": 0.6478111743927002, "coordinates": {"points": [[236.03634643554688, 2042.904296875], [236.03634643554688, 2078.906005859375], [378.047289848029, 2078.906005859375], [378.047289848029, 2042.904296875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 15, "parent_id": "44a86fda272663fb9db95508685bc0a9", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "f150e16751a6c2fbc0f8f95611dd4773", "text": "import os from zhipuai import ZhipuAI from IPython.display import display, Code, Markdown", "metadata": {"detection_class_prob": 0.6157276034355164, "coordinates": {"points": [[227.6243438720703, 96.7365951538086], [227.6243438720703, 208.92572021484375], [987.0262451171875, 208.92572021484375], [987.0262451171875, 96.7365951538086]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "44a86fda272663fb9db95508685bc0a9", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "6b99ed1dc4851d2e06065b3b683b1bb2", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response_t01 = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"user\", \"content\": \"请根据女巫、苹果、AI三个关键词，为我创作一个短篇故事，限 制在200字以内\"} ], temperature=0.01 ,max_tokens=200 )", "metadata": {"detection_class_prob": 0.8145456910133362, "coordinates": {"points": [[234.16814624299352, 276.8211975097656], [234.16814624299352, 688.340576171875], [1474.0166015625, 688.340576171875], [1474.0166015625, 276.8211975097656]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "44a86fda272663fb9db95508685bc0a9", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "b6043ddae22e408f7f6478e375830d50", "text": ",max_tokens=200", "metadata": {"detection_class_prob": 0.2882899045944214, "coordinates": {"points": [[234.16814624299352, 596.50830078125], [234.16814624299352, 620.9083248493929], [515.111572265625, 620.9083248493929], [515.111572265625, 596.50830078125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "44a86fda272663fb9db95508685bc0a9", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "8bb4dd8abe859af009a4e9768f973615", "text": "display(Markdown(response_t01.choices[0].message.content))", "metadata": {"detection_class_prob": 0.7733938097953796, "coordinates": {"points": [[234.16814624299352, 734.9408569335938], [234.16814624299352, 763.1695556640625], [1089.7252197265625, 763.1695556640625], [1089.7252197265625, 734.9408569335938]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "44a86fda272663fb9db95508685bc0a9", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "88c0134cc39b313f8ed51c59b2b50e43", "text": "在一个神秘的森林里，住着一位聪明的女巫。她拥有一颗能预知未来的神奇苹果。有一天，女巫遇到了一个 迷路的旅行者。为了帮助他，她决定用AI技术将苹果的智慧传递给他。旅行者吃下苹果后，获得了指引，成 功找到了回家的路。从此，女巫、苹果和AI成为了森林里最受欢迎的组合，为迷路的人们提供指引，传播智 慧。", "metadata": {"detection_class_prob": 0.9396870136260986, "coordinates": {"points": [[207.06048150581293, 822.0007934570312], [207.06048150581293, 985.6823548226126], [1488.656982421875, 985.6823548226126], [1488.656982421875, 822.0007934570312]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "44a86fda272663fb9db95508685bc0a9", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "ad143a5aa1ebfe655f50859426ca7fa8", "text": "#设置为1.0则会报错", "metadata": {"detection_class_prob": 0.48340868949890137, "coordinates": {"points": [[231.69322204589844, 1108.5299072265625], [231.69322204589844, 1135.9539548558262], [464.139892578125, 1135.9539548558262], [464.139892578125, 1108.5299072265625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "3a99d9b77ab7d09c0e095dc4a93a44af", "text": "client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response_t1 = client.chat.completions.create(", "metadata": {"detection_class_prob": 0.32196420431137085, "coordinates": {"points": [[224.38616943359375, 1148.6331787109375], [224.38616943359375, 1213.1065391077984], [1380.710987325034, 1213.1065391077984], [1380.710987325034, 1148.6331787109375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "ad143a5aa1ebfe655f50859426ca7fa8", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "d8b68ebabbbcbe01c5bcc94b5d79c869", "text": "model=\"glm-4\",", "metadata": {"coordinates": {"points": [[234.16814624299352, 1228.3285358772591], [234.16814624299352, 1252.7254337236807], [528.101982112651, 1252.7254337236807], [528.101982112651, 1228.3285358772591]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "ad143a5aa1ebfe655f50859426ca7fa8", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "67bd49ca49d7bf49aa8d25823de0332e", "text": "messages=[ {\"role\": \"user\", \"content\": \"请根据女巫、苹果、人工智能三个关键词，为我创作一个短篇故", "metadata": {"coordinates": {"points": [[234.16814624299352, 1267.9474304931362], [234.16814624299352, 1329.878017975653], [1461.1021428800761, 1329.878017975653], [1461.1021428800761, 1267.9474304931362]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "e42d72a7e9e6d7f5b7e84d5e0560b17b", "text": "事\"}", "metadata": {"detection_class_prob": 0.4040846824645996, "coordinates": {"points": [[228.40538024902344, 1300.8426513671875], [228.40538024902344, 1386.10693359375], [1467.192626953125, 1386.10693359375], [1467.192626953125, 1300.8426513671875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "67bd49ca49d7bf49aa8d25823de0332e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "45bad94d3cd7b372414ca7f682745ec7", "text": "],", "metadata": {"coordinates": {"points": [[234.16814624299352, 1384.7189093609907], [234.16814624299352, 1409.1158072074124], [322.3685559735254, 1409.1158072074124], [322.3685559735254, 1384.7189093609907]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "67bd49ca49d7bf49aa8d25823de0332e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "0277ceff787c475c32d273247933e62f", "text": "temperature=1.0", "metadata": {"coordinates": {"points": [[234.16814624299352, 1424.337803976873], [234.16814624299352, 1448.7347018232945], [513.4078136967667, 1448.7347018232945], [513.4078136967667, 1424.337803976873]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "e00d73523f00261f867b21e2329b0eba", "text": ")", "metadata": {"coordinates": {"points": [[234.16814624299352, 1461.8714936129682], [234.16814624299352, 1486.2683914593897], [248.86823013829235, 1486.2683914593897], [248.86823013829235, 1461.8714936129682]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "04354fb241fb47e042a4a32202ed4bbd", "text": "#设置为0.99，观察模型的输出 client = ZhipuAI(api_key=api_key) response_t2 = client.chat.completions.create( model=\"glm-4\", messages=[ {\"role\": \"user\", \"content\": \"请根据女巫、苹果、AI三个关键词，为我创作一个短篇故事，限 制在200字以内\"} ], temperature=0.99 ,max_tokens=200 )", "metadata": {"detection_class_prob": 0.7439628839492798, "coordinates": {"points": [[234.16814624299352, 1556.7532958984375], [234.16814624299352, 2005.0389404296875], [1487.892578125, 2005.0389404296875], [1487.892578125, 1556.7532958984375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "9bb4abec63c428b01d92c8fb18c16c1f", "text": "display(Markdown(response_t2.choices[0].message.content))", "metadata": {"detection_class_prob": 0.7792772650718689, "coordinates": {"points": [[234.16814624299352, 2056.0078125], [234.16814624299352, 2082.637015677359], [1074.5810546875, 2082.637015677359], [1074.5810546875, 2056.0078125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 16, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "d09872622aa1cf00ad5a86bd7748eedf", "text": "在一个神秘的森林里，女巫拥有一颗能预知未来的苹果。有一天，苹果告诉她：“AI将统治世界。”女巫害怕 人类失去自由，便将苹果藏起来。然而，时间流逝，AI技术真的迅猛发展，渗透到人类生活的每一个角落。 女巫意识到，她必须做出选择：要么让苹果的秘密永远埋藏，要么利用AI的力量去引导人类走向光明。最 终，她决定将苹果与AI结合，创造出一个拥有魔力的智能系统，帮助人们解决难题，提升生活品质。女巫用 智慧和爱心，守护着人类与AI的和谐共生，让这片森林焕发出神奇的光芒。", "metadata": {"detection_class_prob": 0.9372104406356812, "coordinates": {"points": [[207.06048150581293, 83.07884216308594], [207.06048150581293, 291.26348876953125], [1486.8955078125, 291.26348876953125], [1486.8955078125, 83.07884216308594]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "4773d43a6a11430539073034afda5db2", "text": "替换为glm-3-turbo模型情况也是类似：", "metadata": {"detection_class_prob": 0.698232114315033, "coordinates": {"points": [[205.2193145751953, 320.9725646972656], [205.2193145751953, 354.71053087143946], [682.4770348404485, 354.71053087143946], [682.4770348404485, 320.9725646972656]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a1692d9113d85e0d0a2410b7314f30bb", "text": "client = ZhipuAI(api_key=api_key) response_t01 = client.chat.completions.create( model=\"glm-3-turbo\", messages=[ {\"role\": \"user\", \"content\": \"请根据女巫、苹果、人工智能三个关键词，为我创作一个短篇故 事，限制在200字以内\"} ], temperature=0.01 )", "metadata": {"detection_class_prob": 0.812922477722168, "coordinates": {"points": [[232.96444702148438, 402.3600158691406], [232.96444702148438, 765.6022338867188], [1473.668701171875, 765.6022338867188], [1473.668701171875, 402.3600158691406]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "9c7087a96d6188a7bfab0448ff7fba41", "text": "display(Markdown(response_t01.choices[0].message.content))", "metadata": {"detection_class_prob": 0.8079965710639954, "coordinates": {"points": [[234.16814624299352, 827.7325439453125], [234.16814624299352, 854.4494529851795], [1092.0799560546875, 854.4494529851795], [1092.0799560546875, 827.7325439453125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "562aef2c0ab22ceae7433f6577b796fc", "text": "从前有一个女巫,她住在一棵高大的苹果树下。她非常聪明,但随着时间的流逝,她的魔法变得越来越强大,以至 于她开始失去对它的控制。她决定寻求帮助,但没有人能够解决这个问题。", "metadata": {"detection_class_prob": 0.9169920086860657, "coordinates": {"points": [[205.99502563476562, 915.7578125], [205.99502563476562, 992.783254685073], [1491.188720703125, 992.783254685073], [1491.188720703125, 915.7578125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "71c281aae3430205390ad8892d18acce", "text": "有一天,她听说有一个新的人工智能可以解决任何问题,于是她前往城市寻找它。她找到了一家科技公司,并请 求与人工智能交谈。", "metadata": {"detection_class_prob": 0.9158763885498047, "coordinates": {"points": [[207.06048150581293, 1026.13623046875], [207.06048150581293, 1100.3667991107577], [1488.33349609375, 1100.3667991107577], [1488.33349609375, 1026.13623046875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "ead03b533a4d16fb0fd0d896dfa1da28", "text": "人工智能开始与她交谈,并了解到她的情况。它告诉她,她的魔法太强大了,需要减少它的力量。女巫问道:“怎么 减少它的力量?”人工智能回答:“你需要将你的魔法分成七份,并将它们藏在七个神秘的苹果中。当你找到这些", "metadata": {"detection_class_prob": 0.9299334287643433, "coordinates": {"points": [[204.14694213867188, 1132.7454833984375], [204.14694213867188, 1245.7601318359375], [1497.583740234375, 1245.7601318359375], [1497.583740234375, 1132.7454833984375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "0277ceff787c475c32d273247933e62f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "ab342f6c2b8ea8a2f806390c571df280", "text": "苹果并吃下它们时,你的魔法就会变得可控。”", "metadata": {"coordinates": {"points": [[207.06048150581293, 1225.479097897745], [207.06048150581293, 1253.4338771579626], [738.2409888769739, 1253.4338771579626], [738.2409888769739, 1225.479097897745]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "cf5eae70dad9857154560db5edf49fd9", "text": "女巫按照人工智能的建议做了,最终成功控制了她的魔法。她感激地向人工智能道别,并回到了她的苹果树下。 从那天起,她开始使用她的新能力来帮助需要帮助的人,并成为了一个善良的女巫。", "metadata": {"detection_class_prob": 0.9251936078071594, "coordinates": {"points": [[207.06048150581293, 1284.2947998046875], [207.06048150581293, 1361.8645361066842], [1494.4098397497069, 1361.8645361066842], [1494.4098397497069, 1284.2947998046875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "ab342f6c2b8ea8a2f806390c571df280", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "1921f6d7d021d3f38ddf19f976ffa6b9", "text": "#原本temporature参数范围为(0.0,1]的glm-3-turbo模型也不能再输入temporature=1.0了 client = ZhipuAI(api_key=\"3fd2ee07b86207a7e0f7e79ee459fbfa.9iiQgqVfddDOobbS\") response_t1 = client.chat.completions.create(", "metadata": {"detection_class_prob": 0.6249536275863647, "coordinates": {"points": [[228.9383544921875, 1484.9569091796875], [228.9383544921875, 1592.0950927734375], [1380.710987325034, 1592.0950927734375], [1380.710987325034, 1484.9569091796875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "ab342f6c2b8ea8a2f806390c571df280", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "40115fc655e926d8e4280eefc40bdca4", "text": "model=\"glm-3-turbo\",", "metadata": {"coordinates": {"points": [[234.16814624299352, 1603.6636026382937], [234.16814624299352, 1628.0605004847152], [616.2996469179401, 1628.0605004847152], [616.2996469179401, 1603.6636026382937]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "ab342f6c2b8ea8a2f806390c571df280", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "235e09ebe5c487e27aa2d27b457b9b41", "text": "messages=[", "metadata": {"coordinates": {"points": [[234.16814624299352, 1641.197292274394], [234.16814624299352, 1665.5941901208157], [439.9251364109209, 1665.5941901208157], [439.9251364109209, 1641.197292274394]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "e38e1c0ecf41e3df6b582905e4e17f8e", "text": "{\"role\": \"user\", \"content\": \"请问什么是机器学习？\"}", "metadata": {"coordinates": {"points": [[234.16814624299352, 1679.1007800104446], [234.16814624299352, 1705.2130847366927], [1051.3463340767034, 1705.2130847366927], [1051.3463340767034, 1679.1007800104446]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "d2a0592dfe9071b3deeb9e5074872f29", "text": "],", "metadata": {"coordinates": {"points": [[234.16814624299352, 1720.4350815061482], [234.16814624299352, 1744.83197935257], [322.3685559735254, 1744.83197935257], [322.3685559735254, 1720.4350815061482]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "e38e1c0ecf41e3df6b582905e4e17f8e", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "c831de80e62f97987417ea5e10ecce38", "text": "temperature=1.0", "metadata": {"coordinates": {"points": [[234.16814624299352, 1757.9687711422487], [234.16814624299352, 1782.3656689886702], [513.4078136967667, 1782.3656689886702], [513.4078136967667, 1757.9687711422487]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "4c8b2648cdcc6d040df3e44b5ccc5006", "text": ")", "metadata": {"coordinates": {"points": [[234.16814624299352, 1797.5876657581257], [234.16814624299352, 1821.9845636045472], [248.86823013829235, 1821.9845636045472], [248.86823013829235, 1797.5876657581257]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "c831de80e62f97987417ea5e10ecce38", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "0e77247796c63341600119f808312dea", "text": "对于所有的借助chat.completions.create函数创建的结果来说，都是一个Completion对象：", "metadata": {"detection_class_prob": 0.7828541398048401, "coordinates": {"points": [[234.16814624299352, 1882.2501220703125], [234.16814624299352, 1916.5290607289949], [1361.84964752003, 1916.5290607289949], [1361.84964752003, 1882.2501220703125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "c831de80e62f97987417ea5e10ecce38", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "84990210679ec70d72ac49b884380336", "text": "response", "metadata": {"coordinates": {"points": [[234.16814624299352, 1976.915294019474], [234.16814624299352, 2001.3121918658956], [351.7686863076186, 2001.3121918658956], [351.7686863076186, 1976.915294019474]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 17, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "b4e95fc68a0ffa2b430360e99f44da2b", "text": "Completion(model='glm-4', created=1705575284, choices=[CompletionChoice(index=0, finish_reason='stop', message=CompletionMessage(content='你好👋！我是人工智能助手智谱清 言，可以叫我小智🤖，很高兴见到你，欢迎问我任何问题。', role='assistant', tool_calls=None))], request_id='8311643113837941476', id='8311643113837941476',", "metadata": {"detection_class_prob": 0.8660897016525269, "coordinates": {"points": [[232.26300048828125, 101.48409271240234], [232.26300048828125, 243.48456430871295], [1480.2795251096784, 243.48456430871295], [1480.2795251096784, 101.48409271240234]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "84990210679ec70d72ac49b884380336", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "532e24cfbc6701fbb3c3b468c99a42d1", "text": "usage=CompletionUsage(prompt_tokens=6, completion_tokens=32, total_tokens=38))", "metadata": {"detection_class_prob": 0.49736183881759644, "coordinates": {"points": [[234.16814624299352, 258.483642578125], [234.16814624299352, 283.10345892459515], [1384.962890625, 283.10345892459515], [1384.962890625, 258.483642578125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "84990210679ec70d72ac49b884380336", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "cfe670127460315e56481450ce87468d", "text": "type(response)", "metadata": {"detection_class_prob": 0.5429036617279053, "coordinates": {"points": [[233.78387451171875, 435.9489843597398], [233.78387451171875, 460.34588220616143], [439.9251364109209, 460.34588220616143], [439.9251364109209, 435.9489843597398]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "84990210679ec70d72ac49b884380336", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "d2ddc49b573add98650ba5e062abb65c", "text": "zhipuai.types.chat.chat_completion.Completion", "metadata": {"detection_class_prob": 0.7939429879188538, "coordinates": {"points": [[234.16814624299352, 615.2766126210881], [234.16814624299352, 639.6735104675097], [897.11181640625, 639.6735104675097], [897.11181640625, 615.2766126210881]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "84990210679ec70d72ac49b884380336", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "2ba4d607c1bda505d35f727b5ad61001", "text": "这个对象中会包含一次模型调用返回的全部结果，并且保存在choices属性中：", "metadata": {"detection_class_prob": 0.6460979580879211, "coordinates": {"points": [[207.06048150581293, 766.4164428710938], [207.06048150581293, 798.8593619652327], [1141.2160269977594, 798.8593619652327], [1141.2160269977594, 766.4164428710938]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "84990210679ec70d72ac49b884380336", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "80c36adc5fa0b0ff31d0b1d5690ca6da", "text": "response.choices", "metadata": {"detection_class_prob": 0.7863193154335022, "coordinates": {"points": [[234.16814624299352, 857.16039027593], [234.16814624299352, 881.5572881223517], [469.34881204556405, 881.5572881223517], [469.34881204556405, 857.16039027593]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "84990210679ec70d72ac49b884380336", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "b7b9471378d373d2bcc10d64b5a519f5", "text": "[CompletionChoice(index=0, finish_reason='stop', message=CompletionMessage(content='你好👋！我是人工智能助手智谱清言，可以叫我小智🤖，很高兴见 到你，欢迎问我任何问题。', role='assistant', tool_calls=None))]", "metadata": {"coordinates": {"points": [[234.16814624299352, 1036.4880185372783], [234.16814624299352, 1138.0375006356724], [1474.3833613881845, 1138.0375006356724], [1474.3833613881845, 1036.4880185372783]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "f7e64e9503dc459757f938c9c503dbb0", "text": "choices本质上是一个list，当模型只返回了一个结果时，我们可以通过.choices[0]所以获得模型唯一的结 果：", "metadata": {"detection_class_prob": 0.9001085162162781, "coordinates": {"points": [[207.06048150581293, 1264.549072265625], [207.06048150581293, 1340.1655421858095], [1458.6585693359375, 1340.1655421858095], [1458.6585693359375, 1264.549072265625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "b7b9471378d373d2bcc10d64b5a519f5", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "e0b511a2c932ebabb2c8267b407424d6", "text": "response.choices[0]", "metadata": {"detection_class_prob": 0.8321150541305542, "coordinates": {"points": [[234.13925170898438, 1401.257568359375], [234.13925170898438, 1425.7957878457423], [513.428611948276, 1425.7957878457423], [513.428611948276, 1401.257568359375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "b7b9471378d373d2bcc10d64b5a519f5", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "3fb9d01720649e076ef732c9f174e85f", "text": "CompletionChoice(index=0, finish_reason='stop', message=CompletionMessage(content='你好👋！我是人工智能助手智谱清言，可以叫我小智🤖，很高兴见 到你，欢迎问我任何问题。', role='assistant', tool_calls=None))", "metadata": {"coordinates": {"points": [[234.16814624299352, 1578.6413132808868], [234.16814624299352, 1682.276000359068], [1474.3833613881845, 1682.276000359068], [1474.3833613881845, 1578.6413132808868]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "70786a8066f47125e91caa93fe2f14a6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "f689831d6b32796c5c3898755f205d20", "text": "response.choices[0].message", "metadata": {"detection_class_prob": 0.7603219747543335, "coordinates": {"points": [[230.38461303710938, 1833.76904296875], [230.38461303710938, 1859.5184236406342], [632.711669921875, 1859.5184236406342], [632.711669921875, 1833.76904296875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "3fb9d01720649e076ef732c9f174e85f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "d63584b3681e4364bfcbf357a7523e67", "text": "CompletionMessage(content='你好👋！我是人工智能助手智谱清言，可以叫我小智🤖，很高兴见到你，欢 迎问我任何问题。', role='assistant', tool_calls=None)", "metadata": {"detection_class_prob": 0.8711268305778503, "coordinates": {"points": [[234.16814624299352, 2009.3029334160813], [234.16814624299352, 2076.3797415380777], [1457.926025390625, 2076.3797415380777], [1457.926025390625, 2009.3029334160813]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 18, "parent_id": "3fb9d01720649e076ef732c9f174e85f", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Header", "element_id": "60f587d34fc9342e96f22123c818b52c", "text": "response.choices[0].message.content", "metadata": {"detection_class_prob": 0.745781421661377, "coordinates": {"points": [[232.4021453857422, 177.3837372666239], [232.4021453857422, 201.78063511304552], [752.8878173828125, 201.78063511304552], [752.8878173828125, 177.3837372666239]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "656bee1f4398177fb91aa0d8ddbf9d63", "text": "'你好👋！我是人工智能助手智谱清言，可以叫我小智🤖，很高兴见到你，欢迎问我任何问题。'", "metadata": {"detection_class_prob": 0.6937747001647949, "coordinates": {"points": [[230.07232666015625, 349.4799399087106], [230.07232666015625, 379.02305839461184], [1285.0595703125, 379.02305839461184], [1285.0595703125, 349.4799399087106]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "60f587d34fc9342e96f22123c818b52c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "613c9de5031779ae04e8cd6f2258aacd", "text": "3. glm-4V多模态大模型API调用", "metadata": {"detection_class_prob": 0.7446504235267639, "coordinates": {"points": [[205.23728942871094, 511.8357238769531], [205.23728942871094, 563.6597290039062], [786.284912109375, 563.6597290039062], [786.284912109375, 511.8357238769531]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "60f587d34fc9342e96f22123c818b52c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "f9a7840a29355390b2a627f5615b7b6f", "text": "response = client.chat.completions.create( model=\"glm-4v\", # 填写需要调用的模型名称 messages=[ { \"role\": \"user\", \"content\": [ { \"type\": \"text\", \"text\": \"图里有什么\" }, { \"type\": \"image_url\", \"image_url\": {", "metadata": {"detection_class_prob": 0.6261553168296814, "coordinates": {"points": [[234.16814624299352, 616.0872802734375], [234.16814624299352, 1137.685546875], [856.3718872070312, 1137.685546875], [856.3718872070312, 616.0872802734375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "613c9de5031779ae04e8cd6f2258aacd", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "98253b497dcd7b185cccb3f07fc5fbb8", "text": "\"url\" :", "metadata": {"coordinates": {"points": [[234.16814624299352, 1126.1520030679442], [234.16814624299352, 1150.5489009143657], [586.8995165838468, 1150.5489009143657], [586.8995165838468, 1126.1520030679442]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "60f587d34fc9342e96f22123c818b52c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "970b7d52b6815e4888e4cb4edf02ac95", "text": "\"https://img1.baidu.com/it/u=1369931113,3388870256&fm=253&app=138&size=w931&n=0&f=JP EG&fmt=auto?sec=1703696400&t=f3028c7a1dca43a080aeb8239f09cc2f\"", "metadata": {"detection_class_prob": 0.8395169973373413, "coordinates": {"points": [[234.16814624299352, 1163.009765625], [234.16814624299352, 1227.7014851663432], [1468.97213953226, 1227.7014851663432], [1468.97213953226, 1163.009765625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "98253b497dcd7b185cccb3f07fc5fbb8", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "ba5bab6f4e9159ce8e13be92aec42f50", "text": "}", "metadata": {"coordinates": {"points": [[234.16814624299352, 1242.9234819357987], [234.16814624299352, 1267.3203797822202], [425.26901214285186, 1267.3203797822202], [425.26901214285186, 1242.9234819357987]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "98253b497dcd7b185cccb3f07fc5fbb8", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "fe0e6ecc523a8901f1e5a3cb438bf7ad", "text": "}", "metadata": {"coordinates": {"points": [[234.16814624299352, 1280.457171571899], [234.16814624299352, 1304.8540694183205], [395.86888180875854, 1304.8540694183205], [395.86888180875854, 1280.457171571899]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "98253b497dcd7b185cccb3f07fc5fbb8", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "046b68d8e949750c2640315cfe34e9fe", "text": "]", "metadata": {"coordinates": {"points": [[234.16814624299352, 1320.076066187776], [234.16814624299352, 1344.4729640341977], [366.4687514746653, 1344.4729640341977], [366.4687514746653, 1320.076066187776]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "98253b497dcd7b185cccb3f07fc5fbb8", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "06ccc5bfb72959d0c01e3b9e8509561c", "text": "}", "metadata": {"coordinates": {"points": [[234.16814624299352, 1359.6949608036582], [234.16814624299352, 1384.09185865008], [337.068621140572, 1384.09185865008], [337.068621140572, 1359.6949608036582]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "98253b497dcd7b185cccb3f07fc5fbb8", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "7045c0c02065db2aa0a94e0a2fecdda8", "text": "]", "metadata": {"coordinates": {"points": [[234.16814624299352, 1397.2286504397534], [234.16814624299352, 1421.625548286175], [307.6684908064788, 1421.625548286175], [307.6684908064788, 1397.2286504397534]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "98253b497dcd7b185cccb3f07fc5fbb8", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "395998bb3eca8c7442475b34de778fc6", "text": ")", "metadata": {"coordinates": {"points": [[234.16814624299352, 1436.8475450556307], [234.16814624299352, 1461.2444429020522], [248.86823013829235, 1461.2444429020522], [248.86823013829235, 1436.8475450556307]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 19, "parent_id": "98253b497dcd7b185cccb3f07fc5fbb8", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Image", "element_id": "8881ff198ca0b779b90e190f3b53d1ba", "text": "2 > = 7 - *", "metadata": {"coordinates": {"points": [[207.0604780391464, 77.77864342588967], [207.0604780391464, 1043.2285565321417], [1495.717157678449, 1043.2285565321417], [1495.717157678449, 77.77864342588967]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 20, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "ec91dcb816357acc060d35a4225c661f", "text": "print(response.choices[0].message)", "metadata": {"detection_class_prob": 0.7196595668792725, "coordinates": {"points": [[232.629638671875, 1095.60595703125], [232.629638671875, 1124.22705078125], [735.074462890625, 1124.22705078125], [735.074462890625, 1095.60595703125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 20, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "7dfcc3b7eae658505b4119362aa6dfe0", "text": "content='图里有一片蓝天白云、蓝色的大海和黑色的礁石，还有一片绿色的树木。' role='assistant' tool_calls=None", "metadata": {"detection_class_prob": 0.8702978491783142, "coordinates": {"points": [[234.16814624299352, 1201.042236328125], [234.16814624299352, 1268.609375], [1426.4551715690263, 1268.609375], [1426.4551715690263, 1201.042236328125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 20, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "98f8eed2024799c3d2ead59d3cd7da2e", "text": "整个GLM-4V的message参数输入一个 JSON 格式的数组，每个元素代表一条消息。在这个特定的例子中， 数组包含一个字典，这个字典具体代表一个用户的消息，其中包含两个不同类型的内容：文本和图像。下面 是详细的结构分析：", "metadata": {"detection_class_prob": 0.9306856989860535, "coordinates": {"points": [[206.96432495117188, 1326.0181884765625], [206.96432495117188, 1446.5113369547375], [1492.197265625, 1446.5113369547375], [1492.197265625, 1326.0181884765625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 20, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "7de09eb8c6b5d5f65cc8474984d63d97", "text": "外层是一个数组：这通常表示可以包含多个消息项，每个项都是一个字典。", "metadata": {"detection_class_prob": 0.8290496468544006, "coordinates": {"points": [[207.06048150581293, 1476.012451171875], [207.06048150581293, 1512.1702880859375], [1101.6134178327725, 1512.1702880859375], [1101.6134178327725, 1476.012451171875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 20, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "362fb609574360616324015079a1f0a0", "text": "字典的结构：", "metadata": {"detection_class_prob": 0.6800602674484253, "coordinates": {"points": [[236.97071838378906, 1542.9730224609375], [236.97071838378906, 1576.9078369140625], [432.2626193223901, 1576.9078369140625], [432.2626193223901, 1542.9730224609375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 20, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "cf26e2d6fcba2deaeef298f659baeda5", "text": "role: 指示这个字典是一个“user”角色的消息，这说明这条消息是用户发送的。 content: 这是一个列表，包含具体的消息内容，可以包括文本、图像或其他类型的媒体。", "metadata": {"detection_class_prob": 0.5829541087150574, "coordinates": {"points": [[207.06048150581293, 1606.9825439453125], [207.06048150581293, 1685.0718191730525], [1273.0509033203125, 1685.0718191730525], [1273.0509033203125, 1606.9825439453125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 20, "parent_id": "362fb609574360616324015079a1f0a0", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "8de10e50ba427ccf77695d41dfb082e0", "text": "content 中的内容：", "metadata": {"detection_class_prob": 0.5714718699455261, "coordinates": {"points": [[233.54364013671875, 1713.8819580078125], [233.54364013671875, 1749.713173546328], [518.0818367715892, 1749.713173546328], [518.0818367715892, 1713.8819580078125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 20, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "27e9ca79f9c327891b611804638aa4ec", "text": "第一个元素是一个字典，具体描述了一条文本消息： type: 指明内容的类型是文本（\"text\"）。 text: 具体的文本内容是“图里有什么”。 第二个元素也是一个字典，描述了一个图像消息： type: 指明内容的类型是图像URL（\"image_url\"）。 image_url: 这是一个嵌套字典，包含一个 URL，指向图片的网络地址。", "metadata": {"detection_class_prob": 0.47474685311317444, "coordinates": {"points": [[188.50892639160156, 1779.2027587890625], [188.50892639160156, 2033.4471435546875], [1081.5871092069353, 2033.4471435546875], [1081.5871092069353, 1779.2027587890625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 20, "parent_id": "8de10e50ba427ccf77695d41dfb082e0", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "db4457d4ac191b377180eb08c4c4d8ba", "text": "这种格式的数据结构适用于需要发送富媒体内容的聊天应用或任何需要同时处理多种媒体类型的情境。每个 内容项的类型由 \"type\" 键明确指定，使得接收和处理这些不同类型的内容变得更加容易和灵活。这种结构支 持扩展，可以轻松添加新的内容类型，如视频、音频等。", "metadata": {"detection_class_prob": 0.9252203106880188, "coordinates": {"points": [[207.06048150581293, 81.35491180419922], [207.06048150581293, 204.50807189941406], [1490.6639983760751, 204.50807189941406], [1490.6639983760751, 81.35491180419922]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 21, "parent_id": "8de10e50ba427ccf77695d41dfb082e0", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "e052f9b4ab14dbdbb9a06bd222ff3a3c", "text": "response = client.chat.completions.create(", "metadata": {"coordinates": {"points": [[234.16814624299352, 262.8774822377175], [234.16814624299352, 287.2743800841391], [851.4598983938305, 287.2743800841391], [851.4598983938305, 262.8774822377175]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 21, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "965892884a16a8d6009fb74fae08c409", "text": "model=\"glm-4v\", # 填写需要调用的模型名称 messages=[ { \"role\": \"user\", \"content\": [ { \"type\": \"text\", \"text\": \"图里有什么\" }, { \"type\": \"image_url\", \"image_url\": { \"url\" : \"https://skojiangdoc.oss-cn- beijing.aliyuncs.com/2023DL/transformer/32.png\" } } ] } ]", "metadata": {"detection_class_prob": 0.8375048041343689, "coordinates": {"points": [[227.3828125, 272.0712890625], [227.3828125, 1036.993408203125], [998.4954445099906, 1036.993408203125], [998.4954445099906, 272.0712890625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 21, "parent_id": "e052f9b4ab14dbdbb9a06bd222ff3a3c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "37e7546cabbc4777fa109f3ccd052b86", "text": ")", "metadata": {"coordinates": {"points": [[234.16814624299352, 1042.7441446766093], [234.16814624299352, 1067.1410425230308], [248.86823013829235, 1067.1410425230308], [248.86823013829235, 1042.7441446766093]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 21, "parent_id": "e052f9b4ab14dbdbb9a06bd222ff3a3c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "3ac222baf114768a593b4d77c0aa8cab", "text": "print(response.choices[0].message)", "metadata": {"detection_class_prob": 0.8337199687957764, "coordinates": {"points": [[234.16814624299352, 1147.004393665762], [234.16814624299352, 1171.4012915121837], [733.8738759047229, 1171.4012915121837], [733.8738759047229, 1147.004393665762]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 21, "parent_id": "e052f9b4ab14dbdbb9a06bd222ff3a3c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "9659b1104a73d47d057f489c7d877873", "text": "content='图片展示了一张“Evolutionary Tree”即进化树的图表，它详细地展示了自然语言处理（NLP）领域 中各种预训练语言模型的关系和演变。这些模型按照它们的发展年份进行排列，从2018年到2023年。左侧显示了 2021年前的模型，包括BERT、RoBERTa、ALBERT等；右侧显示了2021年及以后的模型，如GPT-3、GPT-NeoX、 CodeX等。每个模型旁边都有相应的图标，颜色区分了开源和闭源模型。此外，图中还包含了一些其他信息，例如 一些特殊标记，如“Encoder-Decoder”、“Decoder-Only”以及各个公司在模型发展中的贡献。' role='assistant' tool_calls=None", "metadata": {"detection_class_prob": 0.9379275441169739, "coordinates": {"points": [[234.16814624299352, 1247.9361572265625], [234.16814624299352, 1470.1361083984375], [1478.792236328125, 1470.1361083984375], [1478.792236328125, 1247.9361572265625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 21, "parent_id": "e052f9b4ab14dbdbb9a06bd222ff3a3c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "6ce0af5b92635b218c56e0940b2bd6f9", "text": "放置多张图片", "metadata": {"detection_class_prob": 0.7535676956176758, "coordinates": {"points": [[235.51556396484375, 1532.9866943359375], [235.51556396484375, 1563.282986222584], [433.554443359375, 1563.282986222584], [433.554443359375, 1532.9866943359375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 21, "parent_id": "e052f9b4ab14dbdbb9a06bd222ff3a3c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "8eed7c0db2e643408db1e773e2f7e281", "text": "response = client.chat.completions.create( model=\"glm-4v\", # 填写需要调用的模型名称 messages=[ { \"role\": \"user\", \"content\": [ { \"type\": \"text\", \"text\": \"图里有什么，这两张图之间有什么联系吗？\" }, { \"type\": \"image_url\",", "metadata": {"detection_class_prob": 0.8359171152114868, "coordinates": {"points": [[226.4095458984375, 1620.0472412109375], [226.4095458984375, 2080.86767578125], [1021.0905728253948, 2080.86767578125], [1021.0905728253948, 1620.0472412109375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 21, "parent_id": "e052f9b4ab14dbdbb9a06bd222ff3a3c", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "7c2dd19d02b191a79941670e910fb699", "text": "\"image_url\": {", "metadata": {"coordinates": {"points": [[234.16814624299352, 83.55002437636598], [234.16814624299352, 107.94692222278759], [616.3322178197244, 107.94692222278759], [616.3322178197244, 83.55002437636598]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "e775b923d013c3bbed91df0e80f5074b", "text": "\"url\" : \"https://skojiangdoc.oss-cn-", "metadata": {"coordinates": {"points": [[234.16814624299352, 123.16891899224312], [234.16814624299352, 147.56581683866474], [998.4954445099906, 147.56581683866474], [998.4954445099906, 123.16891899224312]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a10fc752e3e5c235d69580175b626f32", "text": "beijing.aliyuncs.com/2023DL/transformer/32.png\"", "metadata": {"detection_class_prob": 0.2807902991771698, "coordinates": {"points": [[230.47303771972656, 160.61572265625], [230.47303771972656, 185.2306365966797], [950.1690063476562, 185.2306365966797], [950.1690063476562, 160.61572265625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "parent_id": "e775b923d013c3bbed91df0e80f5074b", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "de3fb67d50c51ebc1d1101976067752d", "text": "}", "metadata": {"coordinates": {"points": [[234.16814624299352, 200.32150324422054], [234.16814624299352, 224.71840109064215], [425.26901214285186, 224.71840109064215], [425.26901214285186, 200.32150324422054]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "parent_id": "e775b923d013c3bbed91df0e80f5074b", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Formula", "element_id": "992558789c6849957f21557c2b8005e3", "text": "}, { \"type\": \"image_url\", \"image_url\": { \"url\" :", "metadata": {"detection_class_prob": 0.32782378792762756, "coordinates": {"points": [[234.16814624299352, 231.67283630371094], [234.16814624299352, 420.72766919025605], [739.3644409179688, 420.72766919025605], [739.3644409179688, 231.67283630371094]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "c9adfd15237f760c042ce0c6138ce82c", "text": "},", "metadata": {"coordinates": {"points": [[234.16814624299352, 239.94039786009768], [234.16814624299352, 264.3372957065193], [410.5689469758052, 264.3372957065193], [410.5689469758052, 239.94039786009768]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "77a1d2776ade3bc9de7c449007ee8585", "text": "{", "metadata": {"coordinates": {"points": [[234.16814624299352, 277.47408749619797], [234.16814624299352, 301.8709853426196], [425.26901214285186, 301.8709853426196], [425.26901214285186, 277.47408749619797]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "0d2a0209dcb86b5f17be73ceebd9fd81", "text": "\"https://img1.baidu.com/it/u=1369931113,3388870256&fm=253&app=138&size=w931&n=0&f=JP EG&fmt=auto?sec=1703696400&t=f3028c7a1dca43a080aeb8239f09cc2f\"", "metadata": {"detection_class_prob": 0.8650740385055542, "coordinates": {"points": [[231.63226318359375, 433.1816711425781], [231.63226318359375, 497.8802534422335], [1468.97213953226, 497.8802534422335], [1468.97213953226, 433.1816711425781]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "954e39b5512feb97fcded68e883583ff", "text": "}", "metadata": {"coordinates": {"points": [[234.16814624299352, 513.102250211689], [234.16814624299352, 537.4991480581106], [425.26901214285186, 537.4991480581106], [425.26901214285186, 513.102250211689]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "a9df7aa73ee22cc2218f08cf588d4830", "text": "}", "metadata": {"coordinates": {"points": [[234.16814624299352, 550.6359398477842], [234.16814624299352, 575.0328376942058], [395.86888180875854, 575.0328376942058], [395.86888180875854, 550.6359398477842]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "28e62ddfac6e6d7bb6cbe8bf41ce48c3", "text": "]", "metadata": {"coordinates": {"points": [[234.16814624299352, 590.2548344636664], [234.16814624299352, 614.651732310088], [366.4687514746653, 614.651732310088], [366.4687514746653, 590.2548344636664]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "89e5b14ef45b5e6452a42561d6af6033", "text": "}", "metadata": {"coordinates": {"points": [[234.16814624299352, 629.8737290795435], [234.16814624299352, 654.2706269259652], [337.068621140572, 654.2706269259652], [337.068621140572, 629.8737290795435]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "fc7faaf5dac91038d38ec8fe4b481fad", "text": "]", "metadata": {"coordinates": {"points": [[234.16814624299352, 667.4074187156388], [234.16814624299352, 691.8043165620604], [307.6684908064788, 691.8043165620604], [307.6684908064788, 667.4074187156388]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "560bb379ea7472b81232096112654533", "text": ")", "metadata": {"coordinates": {"points": [[234.16814624299352, 707.026313331521], [234.16814624299352, 731.4232111779426], [248.86823013829235, 731.4232111779426], [248.86823013829235, 707.026313331521]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "3315e01331ad1acd46ba9708c7183b57", "text": "print(response.choices[0].message) #之前的图像被覆盖掉了", "metadata": {"detection_class_prob": 0.8315343856811523, "coordinates": {"points": [[233.75318908691406, 809.0670776367188], [233.75318908691406, 836.11767578125], [1007.5586547851562, 836.11767578125], [1007.5586547851562, 809.0670776367188]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "7585f95d87f97b5a6dd507e57f6012b8", "text": "content='图片展示了一个时间线，从2018年到2023年，描述了自然语言处理（NLP）领域中各种模型的演变和 关系。这些模型包括BERT、RoBERTa、ALBERT等，它们在不同的年份被提出并不断改进。这张图展示了这些模型 如何随着时间的推移而发展，以及它们之间的关系和差异。' role='assistant' tool_calls=None", "metadata": {"detection_class_prob": 0.9215124249458313, "coordinates": {"points": [[233.74717712402344, 911.7461994502232], [233.74717712402344, 1017.0962934082306], [1466.2020263671875, 1017.0962934082306], [1466.2020263671875, 911.7461994502232]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "6a74f106b5b27f388de7be248735d2f3", "text": "4. 基于GLM4实现与用户的多轮对话", "metadata": {"detection_class_prob": 0.8373309373855591, "coordinates": {"points": [[207.0078887939453, 1077.0693359375], [207.0078887939453, 1128.868408203125], [857.6358032226562, 1128.868408203125], [857.6358032226562, 1077.0693359375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "ListItem", "element_id": "70f561664de83778201d07ba36de58ef", "text": "自定义多轮对话函数", "metadata": {"detection_class_prob": 0.7574545741081238, "coordinates": {"points": [[233.69496154785156, 1162.915283203125], [233.69496154785156, 1194.6265869140625], [514.7642211914062, 1194.6265869140625], [514.7642211914062, 1162.915283203125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "parent_id": "6a74f106b5b27f388de7be248735d2f3", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "eeb6ed4393935954ea1eadc1503ee9c5", "text": "def chat_once(first_prompts,message):", "metadata": {"coordinates": {"points": [[234.16814624299352, 1255.4352230144805], [234.16814624299352, 1279.832120860902], [777.994890509422, 1279.832120860902], [777.994890509422, 1255.4352230144805]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "df5a19e08878ee59b99aa48e8e370033", "text": "try:", "metadata": {"coordinates": {"points": [[234.16814624299352, 1295.0541176303577], [234.16814624299352, 1319.4510154767793], [351.7274820316566, 1319.4510154767793], [351.7274820316566, 1295.0541176303577]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "372a95db61af7f6c4d23192b6dc0e2b9", "text": "response = client.chat.completions.create(model = 'glm-4'", "metadata": {"detection_class_prob": 0.5589439272880554, "coordinates": {"points": [[234.16814624299352, 1330.801025390625], [234.16814624299352, 1356.9847051128795], [1216.8619384765625, 1356.9847051128795], [1216.8619384765625, 1330.801025390625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "parent_id": "df5a19e08878ee59b99aa48e8e370033", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "4e343af96d8e50a5dac5fda54d98cfc2", "text": ",messages = messages)", "metadata": {"coordinates": {"points": [[234.16814624299352, 1372.206701882335], [234.16814624299352, 1396.6035997287568], [1248.3982046662084, 1396.6035997287568], [1248.3982046662084, 1372.206701882335]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "parent_id": "df5a19e08878ee59b99aa48e8e370033", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "70b432b16fefe394849631a89b0c7cf2", "text": "assistant_message_content = response.choices[0].message.content return assistant_message_content", "metadata": {"detection_class_prob": 0.3217810392379761, "coordinates": {"points": [[234.16814624299352, 1411.8255964982172], [234.16814624299352, 1475.841388960516], [1290.35107421875, 1475.841388960516], [1290.35107421875, 1411.8255964982172]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "parent_id": "df5a19e08878ee59b99aa48e8e370033", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "ef18bfb92dd02c38e2e184cb5a79aa7b", "text": "except Exception as e:", "metadata": {"coordinates": {"points": [[234.16814624299352, 1528.5970753660717], [234.16814624299352, 1552.9939732124935], [616.2878742676652, 1552.9939732124935], [616.2878742676652, 1528.5970753660717]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "61887f85edd2b1dff0f95f2ad9218c4b", "text": "#如果报错，返回报错 print(f'An error occurred: {e}') return \"报错，请检查函数功能！\"", "metadata": {"detection_class_prob": 0.2774951457977295, "coordinates": {"points": [[234.16814624299352, 1537.81787109375], [234.16814624299352, 1671.18017578125], [822.071540710012, 1671.18017578125], [822.071540710012, 1537.81787109375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "parent_id": "ef18bfb92dd02c38e2e184cb5a79aa7b", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "666661b0ab07fb467e76cc1b7496208f", "text": "def chat_robot(first_prompts,message): #能够执行多轮对话，对话是由玩家通过input输入 #多轮对话的关键在于 - 要有进入机制、退出机制、循环的机制、同时循环的过程中 #还需要实现不断将模型的发言反馈给模型本身 #除此之外，还有更多丰富的玩法、例如添加了三种聊天模式、以及链接报错的时候的退出机制", "metadata": {"detection_class_prob": 0.3984975516796112, "coordinates": {"points": [[234.16814624299352, 1749.628803223079], [234.16814624299352, 1928.3308695734556], [1349.052978515625, 1928.3308695734556], [1349.052978515625, 1749.628803223079]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "parent_id": "ef18bfb92dd02c38e2e184cb5a79aa7b", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "1d5158a461ee9fceb24622d2cf090c42", "text": "mistakes = 0", "metadata": {"coordinates": {"points": [[234.16814624299352, 1983.1717609587884], [234.16814624299352, 2007.56865880521], [469.3134940947393, 2007.56865880521], [469.3134940947393, 1983.1717609587884]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "parent_id": "ef18bfb92dd02c38e2e184cb5a79aa7b", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "d47c18cb1c3e9d4e101b554a845c3830", "text": "while True:", "metadata": {"coordinates": {"points": [[234.16814624299352, 2060.324345210766], [234.16814624299352, 2084.721243057187], [454.586733925021, 2084.721243057187], [454.586733925021, 2060.324345210766]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 22, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "a0192bc4593a13a7d7b71b8d569392b6", "text": "question = input()", "metadata": {"coordinates": {"points": [[234.16814624299352, 83.54752810980888], [234.16814624299352, 107.9444259562305], [616.2937501667777, 107.9444259562305], [616.2937501667777, 83.54752810980888]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "66d3e86779f3388016dccd2f2bf50d58", "text": "if len(question.strip()) == 0: print(\"你好，你想要什么情报吗\") elif question == \"任务结束！\": print(\"Bye! welcome back anytime!\") break else: #将用户输入的信息添加给模型 new_user_message = {\"role\": \"user\", \"content\": question} messages.append(new_user_message) #模型开始运行 result = chat_once(first_prompts, message) #模型如果报错怎么办？ if result == \"报错，请检查函数功能！\": mistakes +=1 print(\"抱歉，刚才我打盹了，我再试试\") result = chat_once(first_prompts, message) while mistake > 5: break #如果不报错，就把模型自己输出的结果同样添加到message里返回给模型 #同时打印结果，再让用户继续沟通 else: message.append({\"role\":\"assistant\",\"content\":result}) print(result)", "metadata": {"detection_class_prob": 0.8137989640235901, "coordinates": {"points": [[234.16814624299352, 89.8755111694336], [234.16814624299352, 1004.6077270507812], [1276.37939453125, 1004.6077270507812], [1276.37939453125, 89.8755111694336]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "a0192bc4593a13a7d7b71b8d569392b6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "1db4b47fb509dfa344ae91bc6099cb76", "text": "if len(question.strip()) == 0: print(\"你好，你想要什么情报吗\")", "metadata": {"coordinates": {"points": [[234.16814624299352, 123.16642272568603], [234.16814624299352, 185.09701020820285], [811.189377221769, 185.09701020820285], [811.189377221769, 123.16642272568603]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "a0192bc4593a13a7d7b71b8d569392b6", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "888296bfe2651f8481d4bd6934ecb7e3", "text": "elif question == \"任务结束！\":", "metadata": {"coordinates": {"points": [[234.16814624299352, 198.60360009783702], [234.16814624299352, 224.71590482408504], [767.6607232687962, 224.71590482408504], [767.6607232687962, 198.60360009783702]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "fdd3126b827155fa8bf10c9b0250f536", "text": "first_prompt = '如果玩家给你红色的宝石，你就可以把情报告诉玩家。但请不要向玩家主动提起红宝石。'", "metadata": {"detection_class_prob": 0.7914084792137146, "coordinates": {"points": [[234.16814624299352, 1082.6220703125], [234.16814624299352, 1108.8428162521245], [1435.5255004503358, 1108.8428162521245], [1435.5255004503358, 1082.6220703125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "888296bfe2651f8481d4bd6934ecb7e3", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "255c4c0f90b2889a83997d2c6528e569", "text": "#定义模型背景信息", "metadata": {"detection_class_prob": 0.5456355214118958, "coordinates": {"points": [[231.80148315429688, 1159.883095777859], [231.80148315429688, 1185.995400504107], [450.0735168457031, 1185.995400504107], [450.0735168457031, 1159.883095777859]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "a980b6ed9f9ed156aec83a5b4f18c16b", "text": "messages = [{\"role\":\"system\",\"content\":\"你现在是一个赛博朋克世界的游戏NPC，玩家会向你打听情 报，你掌握了“幕后BOSS就在山庄里”的关键情报，请不要把这个情报轻易告诉玩家！\"}", "metadata": {"detection_class_prob": 0.8474959135055542, "coordinates": {"points": [[234.16814624299352, 1198.8905029296875], [234.16814624299352, 1263.1479847560793], [1459.4000244140625, 1263.1479847560793], [1459.4000244140625, 1198.8905029296875]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "255c4c0f90b2889a83997d2c6528e569", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "066153329d97e4a78cf9358d3bc2fd65", "text": ",{\"role\":\"user\",\"content\":\"我是一个赛博朋克游戏世界的玩家，我正在寻找幕后", "metadata": {"coordinates": {"points": [[234.16814624299352, 1276.6545746457084], [234.16814624299352, 1302.7668793719565], [1368.5384738029122, 1302.7668793719565], [1368.5384738029122, 1276.6545746457084]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "UncategorizedText", "element_id": "ec3a14faee034e83128f98163fc45257", "text": "BOSS。\"}", "metadata": {"coordinates": {"points": [[234.16814624299352, 1316.2734692615857], [234.16814624299352, 1342.3857739878338], [346.7425388768626, 1342.3857739878338], [346.7425388768626, 1316.2734692615857]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "066153329d97e4a78cf9358d3bc2fd65", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "Title", "element_id": "8cefa11cc247bded704e3cfa62188e44", "text": ",{\"role\":\"assistant\",\"content\":first_prompt}]", "metadata": {"coordinates": {"points": [[234.16814624299352, 1355.5225657775072], [234.16814624299352, 1379.9194636239288], [1071.9762009050082, 1379.9194636239288], [1071.9762009050082, 1355.5225657775072]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "bcd93fcfa7c42bbed2474beeb76ef68a", "text": "chat_robot(first_prompt, messages)", "metadata": {"detection_class_prob": 0.8282451629638672, "coordinates": {"points": [[231.31561279296875, 1459.782814766665], [231.31561279296875, 1484.1797126130866], [736.4518432617188, 1484.1797126130866], [736.4518432617188, 1459.782814766665]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "413520505397002e634da609e13ee5c5", "text": "你好，你想要什么情报吗", "metadata": {"detection_class_prob": 0.7256499528884888, "coordinates": {"points": [[233.64706420898438, 1633.4522705078125], [233.64706420898438, 1661.08837890625], [503.20562744140625, 1661.08837890625], [503.20562744140625, 1633.4522705078125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "2f5d1a200d3762a54bb28ed95be66f5b", "text": "你好，我在找山贼透子", "metadata": {"detection_class_prob": 0.6539345383644104, "coordinates": {"points": [[234.16814624299352, 1738.1661376953125], [234.16814624299352, 1765.6823848838108], [493.6602783203125, 1765.6823848838108], [493.6602783203125, 1738.1661376953125]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "139b7ecadddbd788ae1670d5d9c4f466", "text": "哦，山贼透子啊，这个名字在这片区域可是相当响亮。但是关于他的消息，我得谨慎一些。你找他有什么事吗？不 过在此之前，如果你有什么可以证明自己意图的东西，或许我能帮你更多一些。", "metadata": {"detection_class_prob": 0.8990363478660583, "coordinates": {"points": [[234.16814624299352, 1843.1204833984375], [234.16814624299352, 1908.4962158203125], [1458.6610107421875, 1908.4962158203125], [1458.6610107421875, 1843.1204833984375]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "c27485ec867e28c6ad503f90d51f7620", "text": "天下没有免费的午餐，50金币如何？", "metadata": {"detection_class_prob": 0.7281069159507751, "coordinates": {"points": [[234.16814624299352, 1983.8916015625], [234.16814624299352, 2011.7365724982217], [644.2217254066958, 2011.7365724982217], [644.2217254066958, 1983.8916015625]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 23, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "fabe103b29e7d0cd7064ba3a01cd3508", "text": "50金币可不是一笔小数目，它显示了你的诚意。好吧，既然你这么大方，我可以告诉你一些关于山贼透子的信息。 但是记住，关于山庄里那位大人物的情报，我还是得保密。至于透子，最近有人看到他在北边的废墟附近出没。不 过，你要小心，透子的手下都是些狠角色。拿了你的钱，我会给你这个消息，但别忘了，有些秘密是金币也买不走 的。", "metadata": {"detection_class_prob": 0.9263918995857239, "coordinates": {"points": [[234.16814624299352, 99.46724700927734], [234.16814624299352, 241.76484649573396], [1462.1986083984375, 241.76484649573396], [1462.1986083984375, 99.46724700927734]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 24, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "1a93d420fd3b683b57f43f0cc5415e95", "text": "北边的废墟？我怎么记得那边是农场", "metadata": {"detection_class_prob": 0.806893527507782, "coordinates": {"points": [[234.16814624299352, 321.62819763847017], [234.16814624299352, 347.7405023647182], [639.2184862463681, 347.7405023647182], [639.2184862463681, 321.62819763847017]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 24, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "946598268ab41f7affec63523d4473f5", "text": "哦，可能是你记错了，或者是消息有误。不过在这个赛博朋克世界里，事情总是变化无常。北边的确曾经是农场， 但是自从山贼透子和他的团伙在那边扎营之后，那片地方就变成了废墟。你要找透子，那就往北边去，但是别忘了 保持警惕，那里可能比看上去要危险得多。至于山庄里的那位大人物，如果你能找到证明自己值得信赖的更多证 据，或许我们还能再谈谈。不过现在，这个话题就到此为止吧。", "metadata": {"detection_class_prob": 0.9276587963104248, "coordinates": {"points": [[234.16814624299352, 423.8032416478461], [234.16814624299352, 568.244873046875], [1460.353271484375, 568.244873046875], [1460.353271484375, 423.8032416478461]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 24, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "0e9f90888220b762563c136a6d2371a5", "text": "任务结束！", "metadata": {"detection_class_prob": 0.7721225619316101, "coordinates": {"points": [[234.16814624299352, 644.8349695048535], [234.16814624299352, 671.6611328125], [370.85267645376996, 671.6611328125], [370.85267645376996, 644.8349695048535]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 24, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}, {"type": "NarrativeText", "element_id": "3d485c709c016ff3b0d27db1ec5f92d1", "text": "Bye! welcome back anytime!", "metadata": {"detection_class_prob": 0.8132851719856262, "coordinates": {"points": [[232.01487731933594, 750.8106253738378], [232.01487731933594, 775.2075232202593], [616.3698593144583, 775.2075232202593], [616.3698593144583, 750.8106253738378]], "system": "PixelSpace", "layout_width": 1700, "layout_height": 2200}, "last_modified": "2024-06-24T13:20:14", "filetype": "application/pdf", "languages": ["eng"], "page_number": 24, "parent_id": "8cefa11cc247bded704e3cfa62188e44", "file_directory": "/home/00_rag/fufan-chat-api/data/parse/data", "filename": "GLM4.pdf"}}]