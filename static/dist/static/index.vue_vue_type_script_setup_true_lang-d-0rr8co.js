var fc=Object.defineProperty;var hc=(e,t,n)=>t in e?fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>(hc(e,typeof t!="symbol"?t+"":t,n),n),rs=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var b=(e,t,n)=>(rs(e,t,"read from private field"),n?n.call(e):t.get(e)),U=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},z=(e,t,n,r)=>(rs(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Du=(e,t,n,r)=>({set _(u){z(e,t,u,n)},get _(){return b(e,t,r)}}),F=(e,t,n)=>(rs(e,t,"access private method"),n);import{f as un,g as Xs,F as Ys,n as ur,m as Cn}from"./element-DGJpsW9c.js";import{d as iu,r as $u,h as zt,o as $r,c as Qs,J as dc,A as Ba,V as tn,B as Le,F as Ma,H as Wt,k as vn,i as vt,Y as za,n as Hr,s as Xu,u as ju,ai as wo,O as Co,P as pc,a8 as gc}from"./vue-39WfQX0x.js";import{_ as Pa}from"./index-BmLxQ8AD.js";import{e as mc}from"./chatHistory-Ci_UoPxq.js";var O=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(O||{});class wt{constructor(t,n,r={}){this.attrName=t,this.keyName=n;const u=O.TYPE&O.ATTRIBUTE;this.scope=r.scope!=null?r.scope&O.LEVEL|u:O.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map(n=>n.name)}add(t,n){return this.canAdd(t,n)?(t.setAttribute(this.keyName,n),!0):!1}canAdd(t,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const n=t.getAttribute(this.keyName);return this.canAdd(t,n)&&n?n:""}}class ir extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const $a=class As{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,n=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(n){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,n)}return null}create(t,n,r){const u=this.query(n);if(u==null)throw new ir(`Unable to create ${n} blot`);const i=u,s=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:i.create(r),o=new i(t,s,r);return As.blots.set(o.domNode,o),o}find(t,n=!1){return As.find(t,n)}query(t,n=O.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&O.LEVEL&O.BLOCK?r=this.types.block:t&O.LEVEL&O.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(u=>(r=this.classes[u],!!r)),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&n&O.LEVEL&r.scope&&n&O.TYPE&r.scope?r:null}register(...t){return t.map(n=>{const r="blotName"in n,u="attrName"in n;if(!r&&!u)throw new ir("Invalid definition");if(r&&n.blotName==="abstract")throw new ir("Cannot register abstract class");const i=r?n.blotName:u?n.attrName:void 0;return this.types[i]=n,u?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(s=>s.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(s=>{(this.tags[s]==null||n.className==null)&&(this.tags[s]=n)}))),n})}};$a.blots=new WeakMap;let pr=$a;function To(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${t}-`)===0)}class bc extends wt{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(t,n){return this.canAdd(t,n)?(this.remove(t),t.classList.add(`${this.keyName}-${n}`),!0):!1}remove(t){To(t,this.keyName).forEach(n=>{t.classList.remove(n)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const n=(To(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,n)?n:""}}const $t=bc;function us(e){const t=e.split("-"),n=t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return t[0]+n}class yc extends wt{static keys(t){return(t.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(t,n){return this.canAdd(t,n)?(t.style[us(this.keyName)]=n,!0):!1}remove(t){t.style[us(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const n=t.style[us(this.keyName)];return this.canAdd(t,n)?n:""}}const ln=yc;class xc{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,n){n?t.add(this.domNode,n)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=pr.find(this.domNode);if(t==null)return;const n=wt.keys(this.domNode),r=$t.keys(this.domNode),u=ln.keys(this.domNode);n.concat(r).concat(u).forEach(i=>{const s=t.scroll.query(i,O.ATTRIBUTE);s instanceof wt&&(this.attributes[s.attrName]=s)})}copy(t){Object.keys(this.attributes).forEach(n=>{const r=this.attributes[n].value(this.domNode);t.format(n,r)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,n)=>(t[n]=this.attributes[n].value(this.domNode),t),{})}}const oi=xc,ja=class{constructor(t,n){this.scroll=t,this.domNode=n,pr.blots.set(n,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new ir("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof t=="string"?(r=t.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof t=="number"&&(r=t),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),pr.blots.delete(this.domNode)}deleteAt(t,n){this.isolate(t,n).remove()}formatAt(t,n,r,u){const i=this.isolate(t,n);if(this.scroll.query(r,O.BLOT)!=null&&u)i.wrap(r,u);else if(this.scroll.query(r,O.ATTRIBUTE)!=null){const s=this.scroll.create(this.statics.scope);i.wrap(s),s.format(r,u)}}insertAt(t,n,r){const u=r==null?this.scroll.create("text",n):this.scroll.create(n,r),i=this.split(t);this.parent.insertBefore(u,i||void 0)}isolate(t,n){const r=this.split(t);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,n){return t===0?this:this.next}update(t,n){}wrap(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new ir(`Cannot wrap ${t}`);return r.appendChild(this),r}};ja.blotName="abstract";let Ua=ja;const Ha=class extends Ua{static value(t){return!0}index(t,n){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(t,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Ha.scope=O.INLINE_BLOT;let vc=Ha;const Ce=vc;class _c{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const n=t.slice(1);this.append(...n)}}at(t){const n=this.iterator();let r=n();for(;r&&t>0;)t-=1,r=n();return r}contains(t){const n=this.iterator();let r=n();for(;r;){if(r===t)return!0;r=n()}return!1}indexOf(t){const n=this.iterator();let r=n(),u=0;for(;r;){if(r===t)return u;u+=1,r=n()}return-1}insertBefore(t,n){t!=null&&(this.remove(t),t.next=n,n!=null?(t.prev=n.prev,n.prev!=null&&(n.prev.next=t),n.prev=t,n===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let n=0,r=this.head;for(;r!=null;){if(r===t)return n;n+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const n=t;return t!=null&&(t=t.next),n}}find(t,n=!1){const r=this.iterator();let u=r();for(;u;){const i=u.length();if(t<i||n&&t===i&&(u.next==null||u.next.length()!==0))return[u,t];t-=i,u=r()}return[null,0]}forEach(t){const n=this.iterator();let r=n();for(;r;)t(r),r=n()}forEachAt(t,n,r){if(n<=0)return;const[u,i]=this.find(t);let s=t-i;const o=this.iterator(u);let a=o();for(;a&&s<t+n;){const l=a.length();t>s?r(a,t-s,Math.min(n,s+l-t)):r(a,0,Math.min(l,t+n-s)),s+=l,a=o()}}map(t){return this.reduce((n,r)=>(n.push(t(r)),n),[])}reduce(t,n){const r=this.iterator();let u=r();for(;u;)n=t(n,u),u=r();return n}}function So(e,t){const n=t.find(e);if(n)return n;try{return t.create(e)}catch{const r=t.create(O.INLINE);return Array.from(e.childNodes).forEach(u=>{r.domNode.appendChild(u)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const Va=class Zt extends Ua{constructor(t,n){super(t,n),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Zt.uiClass&&this.uiNode.classList.add(Zt.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new _c,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const n=So(t,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof ir)return;throw n}})}deleteAt(t,n){if(t===0&&n===this.length())return this.remove();this.children.forEachAt(t,n,(r,u,i)=>{r.deleteAt(u,i)})}descendant(t,n=0){const[r,u]=this.children.find(n);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,u]:r instanceof Zt?r.descendant(t,u):[null,-1]}descendants(t,n=0,r=Number.MAX_VALUE){let u=[],i=r;return this.children.forEachAt(n,r,(s,o,a)=>{(t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t)&&u.push(s),s instanceof Zt&&(u=u.concat(s.descendants(t,o,i))),i-=a}),u}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(n=>{t||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===O.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof Zt?n.unwrap():n.remove())})}formatAt(t,n,r,u){this.children.forEachAt(t,n,(i,s,o)=>{i.formatAt(s,o,r,u)})}insertAt(t,n,r){const[u,i]=this.children.find(t);if(u)u.insertAt(i,n,r);else{const s=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(s)}}insertBefore(t,n){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,n||null),t.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,n)=>t+n.length(),0)}moveChildren(t,n){this.children.forEach(r=>{t.insertBefore(r,n)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(t,n=!1){const[r,u]=this.children.find(t,n),i=[[this,t]];return r instanceof Zt?i.concat(r.path(u,n)):(r!=null&&i.push([r,u]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;return r instanceof Zt&&this.moveChildren(r),super.replaceWith(r)}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(u,i,s)=>{const o=u.split(i,n);o!=null&&r.appendChild(o)}),r}splitAfter(t){const n=this.clone();for(;t.next!=null;)n.appendChild(t.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,n){const r=[],u=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(r.push(...i.addedNodes),u.push(...i.removedNodes))}),u.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const s=this.scroll.find(i);s!=null&&(s.domNode.parentNode==null||s.domNode.parentNode===this.domNode)&&s.detach()}),r.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,s)=>i===s?0:i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let s=null;i.nextSibling!=null&&(s=this.scroll.find(i.nextSibling));const o=So(i,this.scroll);(o.next!==s||o.next==null)&&(o.parent!=null&&o.parent.removeChild(this),this.insertBefore(o,s||void 0))}),this.enforceAllowedChildren()}};Va.uiClass="";let Ac=Va;const lt=Ac;function Ec(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}const Yn=class Qn extends lt{static create(t){return super.create(t)}static formats(t,n){const r=n.query(Qn.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new oi(this.domNode)}format(t,n){if(t===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof Qn||(r=r.wrap(Qn.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(t,O.INLINE);if(r==null)return;r instanceof wt?this.attributes.attribute(r,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,u){this.formats()[r]!=null||this.scroll.query(r,O.ATTRIBUTE)?this.isolate(t,n).format(r,u):super.formatAt(t,n,r,u)}optimize(t){super.optimize(t);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof Qn&&r.prev===this&&Ec(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(t,n){const r=super.wrap(t,n);return r instanceof Qn&&this.attributes.move(r),r}};Yn.allowedChildren=[Yn,Ce],Yn.blotName="inline",Yn.scope=O.INLINE_BLOT,Yn.tagName="SPAN";let kc=Yn;const Js=kc,Jn=class Es extends lt{static create(t){return super.create(t)}static formats(t,n){const r=n.query(Es.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new oi(this.domNode)}format(t,n){const r=this.scroll.query(t,O.BLOCK);r!=null&&(r instanceof wt?this.attributes.attribute(r,n):t===this.statics.blotName&&!n?this.replaceWith(Es.blotName):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n))}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,u){this.scroll.query(r,O.BLOCK)!=null?this.format(r,u):super.formatAt(t,n,r,u)}insertAt(t,n,r){if(r==null||this.scroll.query(n,O.INLINE)!=null)super.insertAt(t,n,r);else{const u=this.split(t);if(u!=null){const i=this.scroll.create(n,r);u.parent.insertBefore(i,u)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};Jn.blotName="block",Jn.scope=O.BLOCK_BLOT,Jn.tagName="P",Jn.allowedChildren=[Js,Jn,Ce];let wc=Jn;const Vr=wc,ks=class extends lt{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,n){super.deleteAt(t,n),this.enforceAllowedChildren()}formatAt(t,n,r,u){super.formatAt(t,n,r,u),this.enforceAllowedChildren()}insertAt(t,n,r){super.insertAt(t,n,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};ks.blotName="container",ks.scope=O.BLOCK_BLOT;let Cc=ks;const ai=Cc;class Tc extends Ce{static formats(t,n){}format(t,n){super.formatAt(0,this.length(),t,n)}formatAt(t,n,r,u){t===0&&n===this.length()?this.format(r,u):super.formatAt(t,n,r,u)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Ke=Tc,Sc={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Dc=100,er=class extends lt{constructor(t,n){super(null,n),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,Sc),this.attach()}create(t,n){return this.registry.create(this,t,n)}find(t,n=!1){const r=this.registry.find(t,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,n=O.ANY){return this.registry.query(t,n)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,n){this.update(),t===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(t,n)}formatAt(t,n,r,u){this.update(),super.formatAt(t,n,r,u)}insertAt(t,n,r){this.update(),super.insertAt(t,n,r)}optimize(t=[],n={}){super.optimize(n);const r=n.mutationsMap||new WeakMap;let u=Array.from(this.observer.takeRecords());for(;u.length>0;)t.push(u.pop());const i=(a,l=!0)=>{a==null||a===this||a.domNode.parentNode!=null&&(r.has(a.domNode)||r.set(a.domNode,[]),l&&i(a.parent))},s=a=>{r.has(a.domNode)&&(a instanceof lt&&a.children.forEach(s),r.delete(a.domNode),a.optimize(n))};let o=t;for(let a=0;o.length>0;a+=1){if(a>=Dc)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach(l=>{const f=this.find(l.target,!0);f!=null&&(f.domNode===l.target&&(l.type==="childList"?(i(this.find(l.previousSibling,!1)),Array.from(l.addedNodes).forEach(h=>{const p=this.find(h,!1);i(p,!1),p instanceof lt&&p.children.forEach(m=>{i(m,!1)})})):l.type==="attributes"&&i(f.prev)),i(f))}),this.children.forEach(s),o=Array.from(this.observer.takeRecords()),u=o.slice();u.length>0;)t.push(u.pop())}}update(t,n={}){t=t||this.observer.takeRecords();const r=new WeakMap;t.map(u=>{const i=this.find(u.target,!0);return i==null?null:r.has(i.domNode)?(r.get(i.domNode).push(u),null):(r.set(i.domNode,[u]),i)}).forEach(u=>{u!=null&&u!==this&&r.has(u.domNode)&&u.update(r.get(u.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(t,n)}};er.blotName="scroll",er.defaultChild=Vr,er.allowedChildren=[Vr,ai],er.scope=O.BLOCK_BLOT,er.tagName="DIV";let Nc=er;const eo=Nc,ws=class Ga extends Ce{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,n){super(t,n),this.text=this.statics.value(this.domNode)}deleteAt(t,n){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+n)}index(t,n){return this.domNode===t?n:-1}insertAt(t,n,r){r==null?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,n,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Ga&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,n=!1){return[this.domNode,t]}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,n){t.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};ws.blotName="text",ws.scope=O.INLINE_BLOT;let Lc=ws;const Yu=Lc,Fc=Object.freeze(Object.defineProperty({__proto__:null,Attributor:wt,AttributorStore:oi,BlockBlot:Vr,ClassAttributor:$t,ContainerBlot:ai,EmbedBlot:Ke,InlineBlot:Js,LeafBlot:Ce,ParentBlot:lt,Registry:pr,Scope:O,ScrollBlot:eo,StyleAttributor:ln,TextBlot:Yu},Symbol.toStringTag,{value:"Module"}));var Cs={exports:{}},$e=-1,Fe=1,pe=0;function Gr(e,t,n,r,u){if(e===t)return e?[[pe,e]]:[];if(n!=null){var i=$c(e,t,n);if(i)return i}var s=to(e,t),o=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=li(e,t);var a=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var l=Ic(e,t);return o&&l.unshift([pe,o]),a&&l.push([pe,a]),no(l,u),r&&Rc(l),l}function Ic(e,t){var n;if(!e)return[[Fe,t]];if(!t)return[[$e,e]];var r=e.length>t.length?e:t,u=e.length>t.length?t:e,i=r.indexOf(u);if(i!==-1)return n=[[Fe,r.substring(0,i)],[pe,u],[Fe,r.substring(i+u.length)]],e.length>t.length&&(n[0][0]=n[2][0]=$e),n;if(u.length===1)return[[$e,e],[Fe,t]];var s=qc(e,t);if(s){var o=s[0],a=s[1],l=s[2],f=s[3],h=s[4],p=Gr(o,l),m=Gr(a,f);return p.concat([[pe,h]],m)}return Oc(e,t)}function Oc(e,t){for(var n=e.length,r=t.length,u=Math.ceil((n+r)/2),i=u,s=2*u,o=new Array(s),a=new Array(s),l=0;l<s;l++)o[l]=-1,a[l]=-1;o[i+1]=0,a[i+1]=0;for(var f=n-r,h=f%2!==0,p=0,m=0,d=0,v=0,y=0;y<u;y++){for(var x=-y+p;x<=y-m;x+=2){var A=i+x,E;x===-y||x!==y&&o[A-1]<o[A+1]?E=o[A+1]:E=o[A-1]+1;for(var k=E-x;E<n&&k<r&&e.charAt(E)===t.charAt(k);)E++,k++;if(o[A]=E,E>n)m+=2;else if(k>r)p+=2;else if(h){var C=i+f-x;if(C>=0&&C<s&&a[C]!==-1){var S=n-a[C];if(E>=S)return Do(e,t,E,k)}}}for(var D=-y+d;D<=y-v;D+=2){var C=i+D,S;D===-y||D!==y&&a[C-1]<a[C+1]?S=a[C+1]:S=a[C-1]+1;for(var w=S-D;S<n&&w<r&&e.charAt(n-S-1)===t.charAt(r-w-1);)S++,w++;if(a[C]=S,S>n)v+=2;else if(w>r)d+=2;else if(!h){var A=i+f-D;if(A>=0&&A<s&&o[A]!==-1){var E=o[A],k=i+E-A;if(S=n-S,E>=S)return Do(e,t,E,k)}}}}return[[$e,e],[Fe,t]]}function Do(e,t,n,r){var u=e.substring(0,n),i=t.substring(0,r),s=e.substring(n),o=t.substring(r),a=Gr(u,i),l=Gr(s,o);return a.concat(l)}function to(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),u=r,i=0;n<u;)e.substring(i,u)==t.substring(i,u)?(n=u,i=n):r=u,u=Math.floor((r-n)/2+n);return Wa(e.charCodeAt(u-1))&&u--,u}function No(e,t){var n=e.length,r=t.length;if(n==0||r==0)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var u=Math.min(n,r);if(e==t)return u;for(var i=0,s=1;;){var o=e.substring(u-s),a=t.indexOf(o);if(a==-1)return i;s+=a,(a==0||e.substring(u-s)==t.substring(0,s))&&(i=s,s++)}}function li(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),u=r,i=0;n<u;)e.substring(e.length-u,e.length-i)==t.substring(t.length-u,t.length-i)?(n=u,i=n):r=u,u=Math.floor((r-n)/2+n);return Za(e.charCodeAt(e.length-u))&&u--,u}function qc(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||r.length*2<n.length)return null;function u(m,d,v){for(var y=m.substring(v,v+Math.floor(m.length/4)),x=-1,A="",E,k,C,S;(x=d.indexOf(y,x+1))!==-1;){var D=to(m.substring(v),d.substring(x)),w=li(m.substring(0,v),d.substring(0,x));A.length<w+D&&(A=d.substring(x-w,x)+d.substring(x,x+D),E=m.substring(0,v-w),k=m.substring(v+D),C=d.substring(0,x-w),S=d.substring(x+D))}return A.length*2>=m.length?[E,k,C,S,A]:null}var i=u(n,r,Math.ceil(n.length/4)),s=u(n,r,Math.ceil(n.length/2)),o;if(!i&&!s)return null;s?i?o=i[4].length>s[4].length?i:s:o=s:o=i;var a,l,f,h;e.length>t.length?(a=o[0],l=o[1],f=o[2],h=o[3]):(f=o[0],h=o[1],a=o[2],l=o[3]);var p=o[4];return[a,l,f,h,p]}function Rc(e){for(var t=!1,n=[],r=0,u=null,i=0,s=0,o=0,a=0,l=0;i<e.length;)e[i][0]==pe?(n[r++]=i,s=a,o=l,a=0,l=0,u=e[i][1]):(e[i][0]==Fe?a+=e[i][1].length:l+=e[i][1].length,u&&u.length<=Math.max(s,o)&&u.length<=Math.max(a,l)&&(e.splice(n[r-1],0,[$e,u]),e[n[r-1]+1][0]=Fe,r--,r--,i=r>0?n[r-1]:-1,s=0,o=0,a=0,l=0,u=null,t=!0)),i++;for(t&&no(e),zc(e),i=1;i<e.length;){if(e[i-1][0]==$e&&e[i][0]==Fe){var f=e[i-1][1],h=e[i][1],p=No(f,h),m=No(h,f);p>=m?(p>=f.length/2||p>=h.length/2)&&(e.splice(i,0,[pe,h.substring(0,p)]),e[i-1][1]=f.substring(0,f.length-p),e[i+1][1]=h.substring(p),i++):(m>=f.length/2||m>=h.length/2)&&(e.splice(i,0,[pe,f.substring(0,m)]),e[i-1][0]=Fe,e[i-1][1]=h.substring(0,h.length-m),e[i+1][0]=$e,e[i+1][1]=f.substring(m),i++),i++}i++}}var Lo=/[^a-zA-Z0-9]/,Fo=/\s/,Io=/[\r\n]/,Bc=/\n\r?\n$/,Mc=/^\r?\n\r?\n/;function zc(e){function t(m,d){if(!m||!d)return 6;var v=m.charAt(m.length-1),y=d.charAt(0),x=v.match(Lo),A=y.match(Lo),E=x&&v.match(Fo),k=A&&y.match(Fo),C=E&&v.match(Io),S=k&&y.match(Io),D=C&&m.match(Bc),w=S&&d.match(Mc);return D||w?5:C||S?4:x&&!E&&k?3:E||k?2:x||A?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==pe&&e[n+1][0]==pe){var r=e[n-1][1],u=e[n][1],i=e[n+1][1],s=li(r,u);if(s){var o=u.substring(u.length-s);r=r.substring(0,r.length-s),u=o+u.substring(0,u.length-s),i=o+i}for(var a=r,l=u,f=i,h=t(r,u)+t(u,i);u.charAt(0)===i.charAt(0);){r+=u.charAt(0),u=u.substring(1)+i.charAt(0),i=i.substring(1);var p=t(r,u)+t(u,i);p>=h&&(h=p,a=r,l=u,f=i)}e[n-1][1]!=a&&(a?e[n-1][1]=a:(e.splice(n-1,1),n--),e[n][1]=l,f?e[n+1][1]=f:(e.splice(n+1,1),n--))}n++}}function no(e,t){e.push([pe,""]);for(var n=0,r=0,u=0,i="",s="",o;n<e.length;){if(n<e.length-1&&!e[n][1]){e.splice(n,1);continue}switch(e[n][0]){case Fe:u++,s+=e[n][1],n++;break;case $e:r++,i+=e[n][1],n++;break;case pe:var a=n-u-r-1;if(t){if(a>=0&&Xa(e[a][1])){var l=e[a][1].slice(-1);if(e[a][1]=e[a][1].slice(0,-1),i=l+i,s=l+s,!e[a][1]){e.splice(a,1),n--;var f=a-1;e[f]&&e[f][0]===Fe&&(u++,s=e[f][1]+s,f--),e[f]&&e[f][0]===$e&&(r++,i=e[f][1]+i,f--),a=f}}if(Ka(e[n][1])){var l=e[n][1].charAt(0);e[n][1]=e[n][1].slice(1),i+=l,s+=l}}if(n<e.length-1&&!e[n][1]){e.splice(n,1);break}if(i.length>0||s.length>0){i.length>0&&s.length>0&&(o=to(s,i),o!==0&&(a>=0?e[a][1]+=s.substring(0,o):(e.splice(0,0,[pe,s.substring(0,o)]),n++),s=s.substring(o),i=i.substring(o)),o=li(s,i),o!==0&&(e[n][1]=s.substring(s.length-o)+e[n][1],s=s.substring(0,s.length-o),i=i.substring(0,i.length-o)));var h=u+r;i.length===0&&s.length===0?(e.splice(n-h,h),n=n-h):i.length===0?(e.splice(n-h,h,[Fe,s]),n=n-h+1):s.length===0?(e.splice(n-h,h,[$e,i]),n=n-h+1):(e.splice(n-h,h,[$e,i],[Fe,s]),n=n-h+2)}n!==0&&e[n-1][0]===pe?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,u=0,r=0,i="",s="";break}}e[e.length-1][1]===""&&e.pop();var p=!1;for(n=1;n<e.length-1;)e[n-1][0]===pe&&e[n+1][0]===pe&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)===e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),p=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),p=!0)),n++;p&&no(e,t)}function Wa(e){return e>=55296&&e<=56319}function Za(e){return e>=56320&&e<=57343}function Ka(e){return Za(e.charCodeAt(0))}function Xa(e){return Wa(e.charCodeAt(e.length-1))}function Pc(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}function is(e,t,n,r){return Xa(e)||Ka(r)?null:Pc([[pe,e],[$e,t],[Fe,n],[pe,r]])}function $c(e,t,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,u=typeof n=="number"?null:n.newRange,i=e.length,s=t.length;if(r.length===0&&(u===null||u.length===0)){var o=r.index,a=e.slice(0,o),l=e.slice(o),f=u?u.index:null;e:{var h=o+s-i;if(f!==null&&f!==h||h<0||h>s)break e;var p=t.slice(0,h),m=t.slice(h);if(m!==l)break e;var d=Math.min(o,h),v=a.slice(0,d),y=p.slice(0,d);if(v!==y)break e;var x=a.slice(d),A=p.slice(d);return is(v,x,A,l)}e:{if(f!==null&&f!==o)break e;var E=o,p=t.slice(0,E),m=t.slice(E);if(p!==a)break e;var k=Math.min(i-E,s-E),C=l.slice(l.length-k),S=m.slice(m.length-k);if(C!==S)break e;var x=l.slice(0,l.length-k),A=m.slice(0,m.length-k);return is(a,x,A,C)}}if(r.length>0&&u&&u.length===0)e:{var v=e.slice(0,r.index),C=e.slice(r.index+r.length),d=v.length,k=C.length;if(s<d+k)break e;var y=t.slice(0,d),S=t.slice(s-k);if(v!==y||C!==S)break e;var x=e.slice(d,i-k),A=t.slice(d,s-k);return is(v,x,A,C)}return null}function ci(e,t,n,r){return Gr(e,t,n,r,!0)}ci.INSERT=Fe;ci.DELETE=$e;ci.EQUAL=pe;var jc=ci,Qu={exports:{}};Qu.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",u=9007199254740991,i="[object Arguments]",s="[object Array]",o="[object Boolean]",a="[object Date]",l="[object Error]",f="[object Function]",h="[object GeneratorFunction]",p="[object Map]",m="[object Number]",d="[object Object]",v="[object Promise]",y="[object RegExp]",x="[object Set]",A="[object String]",E="[object Symbol]",k="[object WeakMap]",C="[object ArrayBuffer]",S="[object DataView]",D="[object Float32Array]",w="[object Float64Array]",$="[object Int8Array]",j="[object Int16Array]",W="[object Int32Array]",B="[object Uint8Array]",P="[object Uint8ClampedArray]",K="[object Uint16Array]",X="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,ae=/\w*$/,se=/^\[object .+?Constructor\]$/,fe=/^(?:0|[1-9]\d*)$/,Z={};Z[i]=Z[s]=Z[C]=Z[S]=Z[o]=Z[a]=Z[D]=Z[w]=Z[$]=Z[j]=Z[W]=Z[p]=Z[m]=Z[d]=Z[y]=Z[x]=Z[A]=Z[E]=Z[B]=Z[P]=Z[K]=Z[X]=!0,Z[l]=Z[f]=Z[k]=!1;var ft=typeof un=="object"&&un&&un.Object===Object&&un,cn=typeof self=="object"&&self&&self.Object===Object&&self,Te=ft||cn||Function("return this")(),Nn=t&&!t.nodeType&&t,Y=Nn&&!0&&e&&!e.nodeType&&e,Ln=Y&&Y.exports===Nn;function _r(c,g){return c.set(g[0],g[1]),c}function _e(c,g){return c.add(g),c}function Fn(c,g){for(var _=-1,T=c?c.length:0;++_<T&&g(c[_],_,c)!==!1;);return c}function In(c,g){for(var _=-1,T=g.length,G=c.length;++_<T;)c[G+_]=g[_];return c}function Nt(c,g,_,T){for(var G=-1,R=c?c.length:0;++G<R;)_=g(_,c[G],G,c);return _}function Lt(c,g){for(var _=-1,T=Array(c);++_<c;)T[_]=g(_);return T}function On(c,g){return c==null?void 0:c[g]}function fn(c){var g=!1;if(c!=null&&typeof c.toString!="function")try{g=!!(c+"")}catch{}return g}function Ht(c){var g=-1,_=Array(c.size);return c.forEach(function(T,G){_[++g]=[G,T]}),_}function hn(c,g){return function(_){return c(g(_))}}function qn(c){var g=-1,_=Array(c.size);return c.forEach(function(T){_[++g]=T}),_}var Rn=Array.prototype,bi=Function.prototype,Bn=Object.prototype,Ar=Te["__core-js_shared__"],fu=function(){var c=/[^.]+$/.exec(Ar&&Ar.keys&&Ar.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),hu=bi.toString,ht=Bn.hasOwnProperty,Mn=Bn.toString,yi=RegExp("^"+hu.call(ht).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dn=Ln?Te.Buffer:void 0,zn=Te.Symbol,Er=Te.Uint8Array,Ue=hn(Object.getPrototypeOf,Object),du=Object.create,pu=Bn.propertyIsEnumerable,xi=Rn.splice,kr=Object.getOwnPropertySymbols,Pn=dn?dn.isBuffer:void 0,gu=hn(Object.keys,Object),$n=Ye(Te,"DataView"),pn=Ye(Te,"Map"),Xe=Ye(Te,"Promise"),jn=Ye(Te,"Set"),wr=Ye(Te,"WeakMap"),gn=Ye(Object,"create"),Cr=Se($n),mn=Se(pn),Tr=Se(Xe),Sr=Se(jn),Dr=Se(wr),Vt=zn?zn.prototype:void 0,mu=Vt?Vt.valueOf:void 0;function Ft(c){var g=-1,_=c?c.length:0;for(this.clear();++g<_;){var T=c[g];this.set(T[0],T[1])}}function vi(){this.__data__=gn?gn(null):{}}function _i(c){return this.has(c)&&delete this.__data__[c]}function Ai(c){var g=this.__data__;if(gn){var _=g[c];return _===r?void 0:_}return ht.call(g,c)?g[c]:void 0}function bu(c){var g=this.__data__;return gn?g[c]!==void 0:ht.call(g,c)}function Nr(c,g){var _=this.__data__;return _[c]=gn&&g===void 0?r:g,this}Ft.prototype.clear=vi,Ft.prototype.delete=_i,Ft.prototype.get=Ai,Ft.prototype.has=bu,Ft.prototype.set=Nr;function xe(c){var g=-1,_=c?c.length:0;for(this.clear();++g<_;){var T=c[g];this.set(T[0],T[1])}}function Ei(){this.__data__=[]}function ki(c){var g=this.__data__,_=Hn(g,c);if(_<0)return!1;var T=g.length-1;return _==T?g.pop():xi.call(g,_,1),!0}function wi(c){var g=this.__data__,_=Hn(g,c);return _<0?void 0:g[_][1]}function Ci(c){return Hn(this.__data__,c)>-1}function Ti(c,g){var _=this.__data__,T=Hn(_,c);return T<0?_.push([c,g]):_[T][1]=g,this}xe.prototype.clear=Ei,xe.prototype.delete=ki,xe.prototype.get=wi,xe.prototype.has=Ci,xe.prototype.set=Ti;function Ae(c){var g=-1,_=c?c.length:0;for(this.clear();++g<_;){var T=c[g];this.set(T[0],T[1])}}function Si(){this.__data__={hash:new Ft,map:new(pn||xe),string:new Ft}}function Di(c){return yn(this,c).delete(c)}function Ni(c){return yn(this,c).get(c)}function Li(c){return yn(this,c).has(c)}function Fi(c,g){return yn(this,c).set(c,g),this}Ae.prototype.clear=Si,Ae.prototype.delete=Di,Ae.prototype.get=Ni,Ae.prototype.has=Li,Ae.prototype.set=Fi;function Ie(c){this.__data__=new xe(c)}function Ii(){this.__data__=new xe}function Oi(c){return this.__data__.delete(c)}function qi(c){return this.__data__.get(c)}function Ri(c){return this.__data__.has(c)}function Bi(c,g){var _=this.__data__;if(_ instanceof xe){var T=_.__data__;if(!pn||T.length<n-1)return T.push([c,g]),this;_=this.__data__=new Ae(T)}return _.set(c,g),this}Ie.prototype.clear=Ii,Ie.prototype.delete=Oi,Ie.prototype.get=qi,Ie.prototype.has=Ri,Ie.prototype.set=Bi;function Un(c,g){var _=Or(c)||Gn(c)?Lt(c.length,String):[],T=_.length,G=!!T;for(var R in c)ht.call(c,R)&&!(G&&(R=="length"||Yi(R,T)))&&_.push(R);return _}function yu(c,g,_){var T=c[g];(!(ht.call(c,g)&&Eu(T,_))||_===void 0&&!(g in c))&&(c[g]=_)}function Hn(c,g){for(var _=c.length;_--;)if(Eu(c[_][0],g))return _;return-1}function dt(c,g){return c&&Ir(g,Rr(g),c)}function Lr(c,g,_,T,G,R,J){var Q;if(T&&(Q=R?T(c,G,R,J):T(c)),Q!==void 0)return Q;if(!gt(c))return c;var le=Or(c);if(le){if(Q=Ki(c),!g)return Gi(c,Q)}else{var ee=Ot(c),Ee=ee==f||ee==h;if(ku(c))return Vn(c,g);if(ee==d||ee==i||Ee&&!R){if(fn(c))return R?c:{};if(Q=pt(Ee?{}:c),!g)return Wi(c,dt(Q,c))}else{if(!Z[ee])return R?c:{};Q=Xi(c,ee,Lr,g)}}J||(J=new Ie);var Oe=J.get(c);if(Oe)return Oe;if(J.set(c,Q),!le)var he=_?Zi(c):Rr(c);return Fn(he||c,function(ke,ve){he&&(ve=ke,ke=c[ve]),yu(Q,ve,Lr(ke,g,_,T,ve,c,J))}),Q}function Mi(c){return gt(c)?du(c):{}}function zi(c,g,_){var T=g(c);return Or(c)?T:In(T,_(c))}function Pi(c){return Mn.call(c)}function $i(c){if(!gt(c)||Ji(c))return!1;var g=qr(c)||fn(c)?yi:se;return g.test(Se(c))}function ji(c){if(!_u(c))return gu(c);var g=[];for(var _ in Object(c))ht.call(c,_)&&_!="constructor"&&g.push(_);return g}function Vn(c,g){if(g)return c.slice();var _=new c.constructor(c.length);return c.copy(_),_}function Fr(c){var g=new c.constructor(c.byteLength);return new Er(g).set(new Er(c)),g}function bn(c,g){var _=g?Fr(c.buffer):c.buffer;return new c.constructor(_,c.byteOffset,c.byteLength)}function xu(c,g,_){var T=g?_(Ht(c),!0):Ht(c);return Nt(T,_r,new c.constructor)}function vu(c){var g=new c.constructor(c.source,ae.exec(c));return g.lastIndex=c.lastIndex,g}function Ui(c,g,_){var T=g?_(qn(c),!0):qn(c);return Nt(T,_e,new c.constructor)}function Hi(c){return mu?Object(mu.call(c)):{}}function Vi(c,g){var _=g?Fr(c.buffer):c.buffer;return new c.constructor(_,c.byteOffset,c.length)}function Gi(c,g){var _=-1,T=c.length;for(g||(g=Array(T));++_<T;)g[_]=c[_];return g}function Ir(c,g,_,T){_||(_={});for(var G=-1,R=g.length;++G<R;){var J=g[G],Q=void 0;yu(_,J,Q===void 0?c[J]:Q)}return _}function Wi(c,g){return Ir(c,It(c),g)}function Zi(c){return zi(c,Rr,It)}function yn(c,g){var _=c.__data__;return Qi(g)?_[typeof g=="string"?"string":"hash"]:_.map}function Ye(c,g){var _=On(c,g);return $i(_)?_:void 0}var It=kr?hn(kr,Object):ts,Ot=Pi;($n&&Ot(new $n(new ArrayBuffer(1)))!=S||pn&&Ot(new pn)!=p||Xe&&Ot(Xe.resolve())!=v||jn&&Ot(new jn)!=x||wr&&Ot(new wr)!=k)&&(Ot=function(c){var g=Mn.call(c),_=g==d?c.constructor:void 0,T=_?Se(_):void 0;if(T)switch(T){case Cr:return S;case mn:return p;case Tr:return v;case Sr:return x;case Dr:return k}return g});function Ki(c){var g=c.length,_=c.constructor(g);return g&&typeof c[0]=="string"&&ht.call(c,"index")&&(_.index=c.index,_.input=c.input),_}function pt(c){return typeof c.constructor=="function"&&!_u(c)?Mi(Ue(c)):{}}function Xi(c,g,_,T){var G=c.constructor;switch(g){case C:return Fr(c);case o:case a:return new G(+c);case S:return bn(c,T);case D:case w:case $:case j:case W:case B:case P:case K:case X:return Vi(c,T);case p:return xu(c,T,_);case m:case A:return new G(c);case y:return vu(c);case x:return Ui(c,T,_);case E:return Hi(c)}}function Yi(c,g){return g=g??u,!!g&&(typeof c=="number"||fe.test(c))&&c>-1&&c%1==0&&c<g}function Qi(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function Ji(c){return!!fu&&fu in c}function _u(c){var g=c&&c.constructor,_=typeof g=="function"&&g.prototype||Bn;return c===_}function Se(c){if(c!=null){try{return hu.call(c)}catch{}try{return c+""}catch{}}return""}function Au(c){return Lr(c,!0,!0)}function Eu(c,g){return c===g||c!==c&&g!==g}function Gn(c){return es(c)&&ht.call(c,"callee")&&(!pu.call(c,"callee")||Mn.call(c)==i)}var Or=Array.isArray;function Wn(c){return c!=null&&wu(c.length)&&!qr(c)}function es(c){return Cu(c)&&Wn(c)}var ku=Pn||ns;function qr(c){var g=gt(c)?Mn.call(c):"";return g==f||g==h}function wu(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=u}function gt(c){var g=typeof c;return!!c&&(g=="object"||g=="function")}function Cu(c){return!!c&&typeof c=="object"}function Rr(c){return Wn(c)?Un(c):ji(c)}function ts(){return[]}function ns(){return!1}e.exports=Au})(Qu,Qu.exports);var Ya=Qu.exports,Ju={exports:{}};Ju.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",u=1,i=2,s=9007199254740991,o="[object Arguments]",a="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Function]",d="[object GeneratorFunction]",v="[object Map]",y="[object Number]",x="[object Null]",A="[object Object]",E="[object Promise]",k="[object Proxy]",C="[object RegExp]",S="[object Set]",D="[object String]",w="[object Symbol]",$="[object Undefined]",j="[object WeakMap]",W="[object ArrayBuffer]",B="[object DataView]",P="[object Float32Array]",K="[object Float64Array]",X="[object Int8Array]",V="[object Int16Array]",ae="[object Int32Array]",se="[object Uint8Array]",fe="[object Uint8ClampedArray]",Z="[object Uint16Array]",ft="[object Uint32Array]",cn=/[\\^$.*+?()[\]{}|]/g,Te=/^\[object .+?Constructor\]$/,Nn=/^(?:0|[1-9]\d*)$/,Y={};Y[P]=Y[K]=Y[X]=Y[V]=Y[ae]=Y[se]=Y[fe]=Y[Z]=Y[ft]=!0,Y[o]=Y[a]=Y[W]=Y[f]=Y[B]=Y[h]=Y[p]=Y[m]=Y[v]=Y[y]=Y[A]=Y[C]=Y[S]=Y[D]=Y[j]=!1;var Ln=typeof un=="object"&&un&&un.Object===Object&&un,_r=typeof self=="object"&&self&&self.Object===Object&&self,_e=Ln||_r||Function("return this")(),Fn=t&&!t.nodeType&&t,In=Fn&&!0&&e&&!e.nodeType&&e,Nt=In&&In.exports===Fn,Lt=Nt&&Ln.process,On=function(){try{return Lt&&Lt.binding&&Lt.binding("util")}catch{}}(),fn=On&&On.isTypedArray;function Ht(c,g){for(var _=-1,T=c==null?0:c.length,G=0,R=[];++_<T;){var J=c[_];g(J,_,c)&&(R[G++]=J)}return R}function hn(c,g){for(var _=-1,T=g.length,G=c.length;++_<T;)c[G+_]=g[_];return c}function qn(c,g){for(var _=-1,T=c==null?0:c.length;++_<T;)if(g(c[_],_,c))return!0;return!1}function Rn(c,g){for(var _=-1,T=Array(c);++_<c;)T[_]=g(_);return T}function bi(c){return function(g){return c(g)}}function Bn(c,g){return c.has(g)}function Ar(c,g){return c==null?void 0:c[g]}function fu(c){var g=-1,_=Array(c.size);return c.forEach(function(T,G){_[++g]=[G,T]}),_}function hu(c,g){return function(_){return c(g(_))}}function ht(c){var g=-1,_=Array(c.size);return c.forEach(function(T){_[++g]=T}),_}var Mn=Array.prototype,yi=Function.prototype,dn=Object.prototype,zn=_e["__core-js_shared__"],Er=yi.toString,Ue=dn.hasOwnProperty,du=function(){var c=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),pu=dn.toString,xi=RegExp("^"+Er.call(Ue).replace(cn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kr=Nt?_e.Buffer:void 0,Pn=_e.Symbol,gu=_e.Uint8Array,$n=dn.propertyIsEnumerable,pn=Mn.splice,Xe=Pn?Pn.toStringTag:void 0,jn=Object.getOwnPropertySymbols,wr=kr?kr.isBuffer:void 0,gn=hu(Object.keys,Object),Cr=It(_e,"DataView"),mn=It(_e,"Map"),Tr=It(_e,"Promise"),Sr=It(_e,"Set"),Dr=It(_e,"WeakMap"),Vt=It(Object,"create"),mu=Se(Cr),Ft=Se(mn),vi=Se(Tr),_i=Se(Sr),Ai=Se(Dr),bu=Pn?Pn.prototype:void 0,Nr=bu?bu.valueOf:void 0;function xe(c){var g=-1,_=c==null?0:c.length;for(this.clear();++g<_;){var T=c[g];this.set(T[0],T[1])}}function Ei(){this.__data__=Vt?Vt(null):{},this.size=0}function ki(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g}function wi(c){var g=this.__data__;if(Vt){var _=g[c];return _===r?void 0:_}return Ue.call(g,c)?g[c]:void 0}function Ci(c){var g=this.__data__;return Vt?g[c]!==void 0:Ue.call(g,c)}function Ti(c,g){var _=this.__data__;return this.size+=this.has(c)?0:1,_[c]=Vt&&g===void 0?r:g,this}xe.prototype.clear=Ei,xe.prototype.delete=ki,xe.prototype.get=wi,xe.prototype.has=Ci,xe.prototype.set=Ti;function Ae(c){var g=-1,_=c==null?0:c.length;for(this.clear();++g<_;){var T=c[g];this.set(T[0],T[1])}}function Si(){this.__data__=[],this.size=0}function Di(c){var g=this.__data__,_=Vn(g,c);if(_<0)return!1;var T=g.length-1;return _==T?g.pop():pn.call(g,_,1),--this.size,!0}function Ni(c){var g=this.__data__,_=Vn(g,c);return _<0?void 0:g[_][1]}function Li(c){return Vn(this.__data__,c)>-1}function Fi(c,g){var _=this.__data__,T=Vn(_,c);return T<0?(++this.size,_.push([c,g])):_[T][1]=g,this}Ae.prototype.clear=Si,Ae.prototype.delete=Di,Ae.prototype.get=Ni,Ae.prototype.has=Li,Ae.prototype.set=Fi;function Ie(c){var g=-1,_=c==null?0:c.length;for(this.clear();++g<_;){var T=c[g];this.set(T[0],T[1])}}function Ii(){this.size=0,this.__data__={hash:new xe,map:new(mn||Ae),string:new xe}}function Oi(c){var g=Ye(this,c).delete(c);return this.size-=g?1:0,g}function qi(c){return Ye(this,c).get(c)}function Ri(c){return Ye(this,c).has(c)}function Bi(c,g){var _=Ye(this,c),T=_.size;return _.set(c,g),this.size+=_.size==T?0:1,this}Ie.prototype.clear=Ii,Ie.prototype.delete=Oi,Ie.prototype.get=qi,Ie.prototype.has=Ri,Ie.prototype.set=Bi;function Un(c){var g=-1,_=c==null?0:c.length;for(this.__data__=new Ie;++g<_;)this.add(c[g])}function yu(c){return this.__data__.set(c,r),this}function Hn(c){return this.__data__.has(c)}Un.prototype.add=Un.prototype.push=yu,Un.prototype.has=Hn;function dt(c){var g=this.__data__=new Ae(c);this.size=g.size}function Lr(){this.__data__=new Ae,this.size=0}function Mi(c){var g=this.__data__,_=g.delete(c);return this.size=g.size,_}function zi(c){return this.__data__.get(c)}function Pi(c){return this.__data__.has(c)}function $i(c,g){var _=this.__data__;if(_ instanceof Ae){var T=_.__data__;if(!mn||T.length<n-1)return T.push([c,g]),this.size=++_.size,this;_=this.__data__=new Ie(T)}return _.set(c,g),this.size=_.size,this}dt.prototype.clear=Lr,dt.prototype.delete=Mi,dt.prototype.get=zi,dt.prototype.has=Pi,dt.prototype.set=$i;function ji(c,g){var _=Gn(c),T=!_&&Eu(c),G=!_&&!T&&Wn(c),R=!_&&!T&&!G&&Cu(c),J=_||T||G||R,Q=J?Rn(c.length,String):[],le=Q.length;for(var ee in c)Ue.call(c,ee)&&!(J&&(ee=="length"||G&&(ee=="offset"||ee=="parent")||R&&(ee=="buffer"||ee=="byteLength"||ee=="byteOffset")||Xi(ee,le)))&&Q.push(ee);return Q}function Vn(c,g){for(var _=c.length;_--;)if(Au(c[_][0],g))return _;return-1}function Fr(c,g,_){var T=g(c);return Gn(c)?T:hn(T,_(c))}function bn(c){return c==null?c===void 0?$:x:Xe&&Xe in Object(c)?Ot(c):_u(c)}function xu(c){return gt(c)&&bn(c)==o}function vu(c,g,_,T,G){return c===g?!0:c==null||g==null||!gt(c)&&!gt(g)?c!==c&&g!==g:Ui(c,g,_,T,vu,G)}function Ui(c,g,_,T,G,R){var J=Gn(c),Q=Gn(g),le=J?a:pt(c),ee=Q?a:pt(g);le=le==o?A:le,ee=ee==o?A:ee;var Ee=le==A,Oe=ee==A,he=le==ee;if(he&&Wn(c)){if(!Wn(g))return!1;J=!0,Ee=!1}if(he&&!Ee)return R||(R=new dt),J||Cu(c)?Ir(c,g,_,T,G,R):Wi(c,g,le,_,T,G,R);if(!(_&u)){var ke=Ee&&Ue.call(c,"__wrapped__"),ve=Oe&&Ue.call(g,"__wrapped__");if(ke||ve){var Gt=ke?c.value():c,qt=ve?g.value():g;return R||(R=new dt),G(Gt,qt,_,T,R)}}return he?(R||(R=new dt),Zi(c,g,_,T,G,R)):!1}function Hi(c){if(!wu(c)||Qi(c))return!1;var g=ku(c)?xi:Te;return g.test(Se(c))}function Vi(c){return gt(c)&&qr(c.length)&&!!Y[bn(c)]}function Gi(c){if(!Ji(c))return gn(c);var g=[];for(var _ in Object(c))Ue.call(c,_)&&_!="constructor"&&g.push(_);return g}function Ir(c,g,_,T,G,R){var J=_&u,Q=c.length,le=g.length;if(Q!=le&&!(J&&le>Q))return!1;var ee=R.get(c);if(ee&&R.get(g))return ee==g;var Ee=-1,Oe=!0,he=_&i?new Un:void 0;for(R.set(c,g),R.set(g,c);++Ee<Q;){var ke=c[Ee],ve=g[Ee];if(T)var Gt=J?T(ve,ke,Ee,g,c,R):T(ke,ve,Ee,c,g,R);if(Gt!==void 0){if(Gt)continue;Oe=!1;break}if(he){if(!qn(g,function(qt,xn){if(!Bn(he,xn)&&(ke===qt||G(ke,qt,_,T,R)))return he.push(xn)})){Oe=!1;break}}else if(!(ke===ve||G(ke,ve,_,T,R))){Oe=!1;break}}return R.delete(c),R.delete(g),Oe}function Wi(c,g,_,T,G,R,J){switch(_){case B:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case W:return!(c.byteLength!=g.byteLength||!R(new gu(c),new gu(g)));case f:case h:case y:return Au(+c,+g);case p:return c.name==g.name&&c.message==g.message;case C:case D:return c==g+"";case v:var Q=fu;case S:var le=T&u;if(Q||(Q=ht),c.size!=g.size&&!le)return!1;var ee=J.get(c);if(ee)return ee==g;T|=i,J.set(c,g);var Ee=Ir(Q(c),Q(g),T,G,R,J);return J.delete(c),Ee;case w:if(Nr)return Nr.call(c)==Nr.call(g)}return!1}function Zi(c,g,_,T,G,R){var J=_&u,Q=yn(c),le=Q.length,ee=yn(g),Ee=ee.length;if(le!=Ee&&!J)return!1;for(var Oe=le;Oe--;){var he=Q[Oe];if(!(J?he in g:Ue.call(g,he)))return!1}var ke=R.get(c);if(ke&&R.get(g))return ke==g;var ve=!0;R.set(c,g),R.set(g,c);for(var Gt=J;++Oe<le;){he=Q[Oe];var qt=c[he],xn=g[he];if(T)var ko=J?T(xn,qt,he,g,c,R):T(qt,xn,he,c,g,R);if(!(ko===void 0?qt===xn||G(qt,xn,_,T,R):ko)){ve=!1;break}Gt||(Gt=he=="constructor")}if(ve&&!Gt){var Tu=c.constructor,Su=g.constructor;Tu!=Su&&"constructor"in c&&"constructor"in g&&!(typeof Tu=="function"&&Tu instanceof Tu&&typeof Su=="function"&&Su instanceof Su)&&(ve=!1)}return R.delete(c),R.delete(g),ve}function yn(c){return Fr(c,Rr,Ki)}function Ye(c,g){var _=c.__data__;return Yi(g)?_[typeof g=="string"?"string":"hash"]:_.map}function It(c,g){var _=Ar(c,g);return Hi(_)?_:void 0}function Ot(c){var g=Ue.call(c,Xe),_=c[Xe];try{c[Xe]=void 0;var T=!0}catch{}var G=pu.call(c);return T&&(g?c[Xe]=_:delete c[Xe]),G}var Ki=jn?function(c){return c==null?[]:(c=Object(c),Ht(jn(c),function(g){return $n.call(c,g)}))}:ts,pt=bn;(Cr&&pt(new Cr(new ArrayBuffer(1)))!=B||mn&&pt(new mn)!=v||Tr&&pt(Tr.resolve())!=E||Sr&&pt(new Sr)!=S||Dr&&pt(new Dr)!=j)&&(pt=function(c){var g=bn(c),_=g==A?c.constructor:void 0,T=_?Se(_):"";if(T)switch(T){case mu:return B;case Ft:return v;case vi:return E;case _i:return S;case Ai:return j}return g});function Xi(c,g){return g=g??s,!!g&&(typeof c=="number"||Nn.test(c))&&c>-1&&c%1==0&&c<g}function Yi(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function Qi(c){return!!du&&du in c}function Ji(c){var g=c&&c.constructor,_=typeof g=="function"&&g.prototype||dn;return c===_}function _u(c){return pu.call(c)}function Se(c){if(c!=null){try{return Er.call(c)}catch{}try{return c+""}catch{}}return""}function Au(c,g){return c===g||c!==c&&g!==g}var Eu=xu(function(){return arguments}())?xu:function(c){return gt(c)&&Ue.call(c,"callee")&&!$n.call(c,"callee")},Gn=Array.isArray;function Or(c){return c!=null&&qr(c.length)&&!ku(c)}var Wn=wr||ns;function es(c,g){return vu(c,g)}function ku(c){if(!wu(c))return!1;var g=bn(c);return g==m||g==d||g==l||g==k}function qr(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=s}function wu(c){var g=typeof c;return c!=null&&(g=="object"||g=="function")}function gt(c){return c!=null&&typeof c=="object"}var Cu=fn?bi(fn):Vi;function Rr(c){return Or(c)?ji(c):Gi(c)}function ts(){return[]}function ns(){return!1}e.exports=es})(Ju,Ju.exports);var Qa=Ju.exports,ro={};Object.defineProperty(ro,"__esModule",{value:!0});const Uc=Ya,Hc=Qa;var Ts;(function(e){function t(i={},s={},o=!1){typeof i!="object"&&(i={}),typeof s!="object"&&(s={});let a=Uc(s);o||(a=Object.keys(a).reduce((l,f)=>(a[f]!=null&&(l[f]=a[f]),l),{}));for(const l in i)i[l]!==void 0&&s[l]===void 0&&(a[l]=i[l]);return Object.keys(a).length>0?a:void 0}e.compose=t;function n(i={},s={}){typeof i!="object"&&(i={}),typeof s!="object"&&(s={});const o=Object.keys(i).concat(Object.keys(s)).reduce((a,l)=>(Hc(i[l],s[l])||(a[l]=s[l]===void 0?null:s[l]),a),{});return Object.keys(o).length>0?o:void 0}e.diff=n;function r(i={},s={}){i=i||{};const o=Object.keys(s).reduce((a,l)=>(s[l]!==i[l]&&i[l]!==void 0&&(a[l]=s[l]),a),{});return Object.keys(i).reduce((a,l)=>(i[l]!==s[l]&&s[l]===void 0&&(a[l]=null),a),o)}e.invert=r;function u(i,s,o=!1){if(typeof i!="object")return s;if(typeof s!="object")return;if(!o)return s;const a=Object.keys(s).reduce((l,f)=>(i[f]===void 0&&(l[f]=s[f]),l),{});return Object.keys(a).length>0?a:void 0}e.transform=u})(Ts||(Ts={}));ro.default=Ts;var fi={};Object.defineProperty(fi,"__esModule",{value:!0});var Ss;(function(e){function t(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}e.length=t})(Ss||(Ss={}));fi.default=Ss;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});const Oo=fi;class Vc{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const n=this.ops[this.index];if(n){const r=this.offset,u=Oo.default.length(n);if(t>=u-r?(t=u-r,this.index+=1,this.offset=0):this.offset+=t,typeof n.delete=="number")return{delete:t};{const i={};return n.attributes&&(i.attributes=n.attributes),typeof n.retain=="number"?i.retain=t:typeof n.retain=="object"&&n.retain!==null?i.retain=n.retain:typeof n.insert=="string"?i.insert=n.insert.substr(r,t):i.insert=n.insert,i}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Oo.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,n=this.index,r=this.next(),u=this.ops.slice(this.index);return this.offset=t,this.index=n,[r].concat(u)}}else return[]}}uo.default=Vc;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const n=jc,r=Ya,u=Qa,i=ro;t.AttributeMap=i.default;const s=fi;t.Op=s.default;const o=uo;t.OpIterator=o.default;const a="\0",l=(h,p)=>{if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const m=Object.keys(h)[0];if(!m||m!==Object.keys(p)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(p)[0]}`);return[m,h[m],p[m]]};class f{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,m){this.handlers[p]=m}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const m=this.handlers[p];if(!m)throw new Error(`no handlers for embed type "${p}"`);return m}insert(p,m){const d={};return typeof p=="string"&&p.length===0?this:(d.insert=p,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(d.attributes=m),this.push(d))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,m){if(typeof p=="number"&&p<=0)return this;const d={retain:p};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(d.attributes=m),this.push(d)}push(p){let m=this.ops.length,d=this.ops[m-1];if(p=r(p),typeof d=="object"){if(typeof p.delete=="number"&&typeof d.delete=="number")return this.ops[m-1]={delete:d.delete+p.delete},this;if(typeof d.delete=="number"&&p.insert!=null&&(m-=1,d=this.ops[m-1],typeof d!="object"))return this.ops.unshift(p),this;if(u(p.attributes,d.attributes)){if(typeof p.insert=="string"&&typeof d.insert=="string")return this.ops[m-1]={insert:d.insert+p.insert},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof d.retain=="number")return this.ops[m-1]={retain:d.retain+p.retain},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this}}return m===this.ops.length?this.ops.push(p):this.ops.splice(m,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const m=[],d=[];return this.forEach(v=>{(p(v)?m:d).push(v)}),[m,d]}reduce(p,m){return this.ops.reduce(p,m)}changeLength(){return this.reduce((p,m)=>m.insert?p+s.default.length(m):m.delete?p-m.delete:p,0)}length(){return this.reduce((p,m)=>p+s.default.length(m),0)}slice(p=0,m=1/0){const d=[],v=new o.default(this.ops);let y=0;for(;y<m&&v.hasNext();){let x;y<p?x=v.next(p-y):(x=v.next(m-y),d.push(x)),y+=s.default.length(x)}return new f(d)}compose(p){const m=new o.default(this.ops),d=new o.default(p.ops),v=[],y=d.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){let A=y.retain;for(;m.peekType()==="insert"&&m.peekLength()<=A;)A-=m.peekLength(),v.push(m.next());y.retain-A>0&&d.next(y.retain-A)}const x=new f(v);for(;m.hasNext()||d.hasNext();)if(d.peekType()==="insert")x.push(d.next());else if(m.peekType()==="delete")x.push(m.next());else{const A=Math.min(m.peekLength(),d.peekLength()),E=m.next(A),k=d.next(A);if(k.retain){const C={};if(typeof E.retain=="number")C.retain=typeof k.retain=="number"?A:k.retain;else if(typeof k.retain=="number")E.retain==null?C.insert=E.insert:C.retain=E.retain;else{const D=E.retain==null?"insert":"retain",[w,$,j]=l(E[D],k.retain),W=f.getHandler(w);C[D]={[w]:W.compose($,j,D==="retain")}}const S=i.default.compose(E.attributes,k.attributes,typeof E.retain=="number");if(S&&(C.attributes=S),x.push(C),!d.hasNext()&&u(x.ops[x.ops.length-1],C)){const D=new f(m.rest());return x.concat(D).chop()}}else typeof k.delete=="number"&&(typeof E.retain=="number"||typeof E.retain=="object"&&E.retain!==null)&&x.push(k)}return x.chop()}concat(p){const m=new f(this.ops.slice());return p.ops.length>0&&(m.push(p.ops[0]),m.ops=m.ops.concat(p.ops.slice(1))),m}diff(p,m){if(this.ops===p.ops)return new f;const d=[this,p].map(E=>E.map(k=>{if(k.insert!=null)return typeof k.insert=="string"?k.insert:a;const C=E===p?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")),v=new f,y=n(d[0],d[1],m,!0),x=new o.default(this.ops),A=new o.default(p.ops);return y.forEach(E=>{let k=E[1].length;for(;k>0;){let C=0;switch(E[0]){case n.INSERT:C=Math.min(A.peekLength(),k),v.push(A.next(C));break;case n.DELETE:C=Math.min(k,x.peekLength()),x.next(C),v.delete(C);break;case n.EQUAL:C=Math.min(x.peekLength(),A.peekLength(),k);const S=x.next(C),D=A.next(C);u(S.insert,D.insert)?v.retain(C,i.default.diff(S.attributes,D.attributes)):v.push(D).delete(C);break}k-=C}}),v.chop()}eachLine(p,m=`
`){const d=new o.default(this.ops);let v=new f,y=0;for(;d.hasNext();){if(d.peekType()!=="insert")return;const x=d.peek(),A=s.default.length(x)-d.peekLength(),E=typeof x.insert=="string"?x.insert.indexOf(m,A)-A:-1;if(E<0)v.push(d.next());else if(E>0)v.push(d.next(E));else{if(p(v,d.next(1).attributes||{},y)===!1)return;y+=1,v=new f}}v.length()>0&&p(v,{},y)}invert(p){const m=new f;return this.reduce((d,v)=>{if(v.insert)m.delete(s.default.length(v));else{if(typeof v.retain=="number"&&v.attributes==null)return m.retain(v.retain),d+v.retain;if(v.delete||typeof v.retain=="number"){const y=v.delete||v.retain;return p.slice(d,d+y).forEach(A=>{v.delete?m.push(A):v.retain&&v.attributes&&m.retain(s.default.length(A),i.default.invert(v.attributes,A.attributes))}),d+y}else if(typeof v.retain=="object"&&v.retain!==null){const y=p.slice(d,d+1),x=new o.default(y.ops).next(),[A,E,k]=l(v.retain,x.insert),C=f.getHandler(A);return m.retain({[A]:C.invert(E,k)},i.default.invert(v.attributes,x.attributes)),d+1}}return d},0),m.chop()}transform(p,m=!1){if(m=!!m,typeof p=="number")return this.transformPosition(p,m);const d=p,v=new o.default(this.ops),y=new o.default(d.ops),x=new f;for(;v.hasNext()||y.hasNext();)if(v.peekType()==="insert"&&(m||y.peekType()!=="insert"))x.retain(s.default.length(v.next()));else if(y.peekType()==="insert")x.push(y.next());else{const A=Math.min(v.peekLength(),y.peekLength()),E=v.next(A),k=y.next(A);if(E.delete)continue;if(k.delete)x.push(k);else{const C=E.retain,S=k.retain;let D=typeof S=="object"&&S!==null?S:A;if(typeof C=="object"&&C!==null&&typeof S=="object"&&S!==null){const w=Object.keys(C)[0];if(w===Object.keys(S)[0]){const $=f.getHandler(w);$&&(D={[w]:$.transform(C[w],S[w],m)})}}x.retain(D,i.default.transform(E.attributes,k.attributes,m))}}return x.chop()}transformPosition(p,m=!1){m=!!m;const d=new o.default(this.ops);let v=0;for(;d.hasNext()&&v<=p;){const y=d.peekLength(),x=d.peekType();if(d.next(),x==="delete"){p-=Math.min(y,p-v);continue}else x==="insert"&&(v<p||!m)&&(p+=y);v+=y}return p}}f.Op=s.default,f.OpIterator=o.default,f.AttributeMap=i.default,f.handlers={},t.default=f,e.exports=f,e.exports.default=f})(Cs,Cs.exports);var We=Cs.exports;const q=Xs(We);class Tt extends Ke{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Tt.blotName="break";Tt.tagName="BR";let Ct=class extends Yu{};function Ja(e){return e.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}const mt=class mt extends Js{static compare(t,n){const r=mt.order.indexOf(t),u=mt.order.indexOf(n);return r>=0||u>=0?r-u:t===n?0:t<n?-1:1}formatAt(t,n,r,u){if(mt.compare(this.statics.blotName,r)<0&&this.scroll.query(r,O.BLOT)){const i=this.isolate(t,n);u&&i.wrap(r,u)}else super.formatAt(t,n,r,u)}optimize(t){if(super.optimize(t),this.parent instanceof mt&&mt.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};L(mt,"allowedChildren",[mt,Tt,Ke,Ct]),L(mt,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Tn=mt;const qo=1;class qe extends Vr{constructor(){super(...arguments);L(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Gc(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,u,i){r<=0||(this.scroll.query(u,O.BLOCK)?n+r===this.length()&&this.format(u,i):super.formatAt(n,Math.min(r,this.length()-n-1),u,i),this.cache={})}insertAt(n,r,u){if(u!=null){super.insertAt(n,r,u),this.cache={};return}if(r.length===0)return;const i=r.split(`
`),s=i.shift();s.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let o=this;i.reduce((a,l)=>(o=o.split(a,!0),o.insertAt(0,l),l.length),n+s.length)}insertBefore(n,r){const{head:u}=this.children;super.insertBefore(n,r),u instanceof Tt&&u.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+qo),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-qo)){const i=this.clone();return n===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const u=super.split(n,r);return this.cache={},u}}qe.blotName="block";qe.tagName="P";qe.defaultChild=Tt;qe.allowedChildren=[Tt,Tn,Ke,Ct];class at extends Ke{attach(){super.attach(),this.attributes=new oi(this.domNode)}delta(){return new q().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,n){const r=this.scroll.query(t,O.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(t,n,r,u){this.format(r,u)}insertAt(t,n,r){if(r!=null){super.insertAt(t,n,r);return}const u=n.split(`
`),i=u.pop(),s=u.map(a=>{const l=this.scroll.create(qe.blotName);return l.insertAt(0,a),l}),o=this.split(t);s.forEach(a=>{this.parent.insertBefore(a,o)}),i&&this.parent.insertBefore(this.scroll.create("text",i),o)}}at.scope=O.BLOCK_BLOT;function Gc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Ce).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),Ge(r,{},t)),new q).insert(`
`,Ge(e))}function Ge(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},n&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:Ge(e.parent,t,n)}const He=class He extends Ke{static value(){}constructor(t,n,r){super(t,n),this.selection=r,this.textNode=document.createTextNode(He.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,n){if(this.savedLength!==0){super.format(t,n);return}let r=this,u=0;for(;r!=null&&r.statics.scope!==O.BLOCK_BLOT;)u+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=He.CONTENTS.length,r.optimize(),r.formatAt(u,He.CONTENTS.length,t,n),this.savedLength=0)}index(t,n){return t===this.textNode?0:super.index(t,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof Ct?this.prev:null,r=n?n.length():0,u=this.next instanceof Ct?this.next:null,i=u?u.text:"",{textNode:s}=this,o=s.data.split(He.CONTENTS).join("");s.data=He.CONTENTS;let a;if(n)a=n,(o||u)&&(n.insertAt(n.length(),o+i),u&&u.remove());else if(u)a=u,u.insertAt(0,o);else{const l=document.createTextNode(o);a=this.scroll.create(l),this.parent.insertBefore(a,this)}if(this.remove(),t){const l=(p,m)=>n&&p===n.domNode?m:p===s?r+m-1:u&&p===u.domNode?r+o.length+m:null,f=l(t.start.node,t.start.offset),h=l(t.end.node,t.end.offset);if(f!==null&&h!==null)return{startNode:a.domNode,startOffset:f,endNode:a.domNode,endOffset:h}}return null}update(t,n){if(t.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(n.range=r)}}optimize(t){super.optimize(t);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=He.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};L(He,"blotName","cursor"),L(He,"className","ql-cursor"),L(He,"tagName","span"),L(He,"CONTENTS","\uFEFF");let Wr=He;var el={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function u(a,l,f){this.fn=a,this.context=l,this.once=f||!1}function i(a,l,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new u(f,h||a,p),d=n?n+l:l;return a._events[d]?a._events[d].fn?a._events[d]=[a._events[d],m]:a._events[d].push(m):(a._events[d]=m,a._eventsCount++),a}function s(a,l){--a._eventsCount===0?a._events=new r:delete a._events[l]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],f,h;if(this._eventsCount===0)return l;for(h in f=this._events)t.call(f,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},o.prototype.listeners=function(l){var f=n?n+l:l,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,d=new Array(m);p<m;p++)d[p]=h[p].fn;return d},o.prototype.listenerCount=function(l){var f=n?n+l:l,h=this._events[f];return h?h.fn?1:h.length:0},o.prototype.emit=function(l,f,h,p,m,d){var v=n?n+l:l;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,A,E;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,p),!0;case 5:return y.fn.call(y.context,f,h,p,m),!0;case 6:return y.fn.call(y.context,f,h,p,m,d),!0}for(E=1,A=new Array(x-1);E<x;E++)A[E-1]=arguments[E];y.fn.apply(y.context,A)}else{var k=y.length,C;for(E=0;E<k;E++)switch(y[E].once&&this.removeListener(l,y[E].fn,void 0,!0),x){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,f);break;case 3:y[E].fn.call(y[E].context,f,h);break;case 4:y[E].fn.call(y[E].context,f,h,p);break;default:if(!A)for(C=1,A=new Array(x-1);C<x;C++)A[C-1]=arguments[C];y[E].fn.apply(y[E].context,A)}}return!0},o.prototype.on=function(l,f,h){return i(this,l,f,h,!1)},o.prototype.once=function(l,f,h){return i(this,l,f,h,!0)},o.prototype.removeListener=function(l,f,h,p){var m=n?n+l:l;if(!this._events[m])return this;if(!f)return s(this,m),this;var d=this._events[m];if(d.fn)d.fn===f&&(!p||d.once)&&(!h||d.context===h)&&s(this,m);else{for(var v=0,y=[],x=d.length;v<x;v++)(d[v].fn!==f||p&&!d[v].once||h&&d[v].context!==h)&&y.push(d[v]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(l){var f;return l?(f=n?n+l:l,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(el);var Wc=el.exports;const Zc=Xs(Wc),Ds=new WeakMap,Ns=["error","warn","log","info"];let Ls="warn";function tl(e){if(Ls&&Ns.indexOf(e)<=Ns.indexOf(Ls)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e](...n)}}function jt(e){return Ns.reduce((t,n)=>(t[n]=tl.bind(console,n,e),t),{})}jt.level=e=>{Ls=e};tl.level=jt.level;const ss=jt("quill:events"),Kc=["selectionchange","mousedown","mouseup","click"];Kc.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(u=>{const i=Ds.get(u);i&&i.emitter&&i.emitter.handleDOM(...n)})})});class I extends Zc{constructor(){super(),this.domListeners={},this.on("error",ss.error)}emit(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ss.log.call(ss,...n),super.emit(...n)}handleDOM(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];(this.domListeners[t.type]||[]).forEach(i=>{let{node:s,handler:o}=i;(t.target===s||s.contains(t.target))&&o(t,...r)})}listenDOM(t,n,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:n,handler:r})}}L(I,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),L(I,"sources",{API:"api",SILENT:"silent",USER:"user"});const os=jt("quill:selection");class gr{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=n}}class Xc{constructor(t,n){this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new gr(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,I.sources.USER),1)}),this.emitter.on(I.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(I.events.SCROLL_UPDATE,(u,i)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const s=i.some(o=>o.type==="characterData"||o.type==="childList"||o.type==="attributes"&&o.target===this.root);this.update(s?I.sources.SILENT:u)}catch{}})}),this.emitter.on(I.events.SCROLL_OPTIMIZE,(r,u)=>{if(u.range){const{startNode:i,startOffset:s,endNode:o,endOffset:a}=u.range;this.setNativeRange(i,s,o,a),this.update(I.sources.SILENT)}}),this.update(I.sources.SILENT)}handleComposition(){this.emitter.on(I.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(I.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(I.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,n){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(t,O.BLOCK))){if(r.start.node!==this.cursor.textNode){const u=this.scroll.find(r.start.node,!1);if(u==null)return;if(u instanceof Ce){const i=u.split(r.start.offset);u.parent.insertBefore(this.cursor,i)}else u.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();t=Math.min(t,r-1),n=Math.min(t+n,r-1)-t;let u,[i,s]=this.scroll.leaf(t);if(i==null)return null;if(n>0&&s===i.length()){const[f]=this.scroll.leaf(t+1);if(f){const[h]=this.scroll.line(t),[p]=this.scroll.line(t+1);h===p&&(i=f,s=0)}}[u,s]=i.position(s,!0);const o=document.createRange();if(n>0)return o.setStart(u,s),[i,s]=this.scroll.leaf(t+n),i==null?null:([u,s]=i.position(s,!0),o.setEnd(u,s),o.getBoundingClientRect());let a="left",l;if(u instanceof Text){if(!u.data.length)return null;s<u.data.length?(o.setStart(u,s),o.setEnd(u,s+1)):(o.setStart(u,s-1),o.setEnd(u,s),a="right"),l=o.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;l=i.domNode.getBoundingClientRect(),s>0&&(a="right")}return{bottom:l.top+l.height,height:l.height,left:l[a],right:l[a],top:l.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const n=t.getRangeAt(0);if(n==null)return null;const r=this.normalizeNative(n);return os.info("getNativeRange",r),r}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&as(this.root,document.activeElement)}normalizedToRange(t){const n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);const r=n.map(s=>{const[o,a]=s,l=this.scroll.find(o,!0),f=l.offset(this.scroll);return a===0?f:l instanceof Ce?f+l.index(o,a):f+l.length()}),u=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(u,...r);return new gr(i,u-i)}normalizeNative(t){if(!as(this.root,t.startContainer)||!t.collapsed&&!as(this.root,t.endContainer))return null;const n={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[n.start,n.end].forEach(r=>{let{node:u,offset:i}=r;for(;!(u instanceof Text)&&u.childNodes.length>0;)if(u.childNodes.length>i)u=u.childNodes[i],i=0;else if(u.childNodes.length===i)u=u.lastChild,u instanceof Text?i=u.data.length:u.childNodes.length>0?i=u.childNodes.length:i=u.childNodes.length+1;else break;r.node=u,r.offset=i}),n}rangeToNative(t){const n=this.scroll.length(),r=(u,i)=>{u=Math.min(n-1,u);const[s,o]=this.scroll.leaf(u);return s?s.position(o,i):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(os.info("setNativeRange",t,n,r,u),t!=null&&(this.root.parentNode==null||t.parentNode==null||r.parentNode==null))return;const s=document.getSelection();if(s!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(o==null||i||t!==o.startContainer||n!==o.startOffset||r!==o.endContainer||u!==o.endOffset){t instanceof Element&&t.tagName==="BR"&&(n=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&r.tagName==="BR"&&(u=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const a=document.createRange();a.setStart(t,n),a.setEnd(r,u),s.removeAllRanges(),s.addRange(a)}}else s.removeAllRanges(),this.root.blur()}setRange(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I.sources.API;if(typeof n=="string"&&(r=n,n=!1),os.info("setRange",t),t!=null){const u=this.rangeToNative(t);this.setNativeRange(...u,n)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I.sources.USER;const n=this.lastRange,[r,u]=this.getRange();if(this.lastRange=r,this.lastNative=u,this.lastRange!=null&&(this.savedRange=this.lastRange),!Ys(n,this.lastRange)){if(!this.composing&&u!=null&&u.native.collapsed&&u.start.node!==this.cursor.textNode){const s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}const i=[I.events.SELECTION_CHANGE,ur(this.lastRange),ur(n),t];this.emitter.emit(I.events.EDITOR_CHANGE,...i),t!==I.sources.SILENT&&this.emitter.emit(...i)}}}function as(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const Yc=/^[ -~]*$/;class Qc{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const r=Ro(t),u=new q;return e0(r.ops.slice()).reduce((s,o)=>{const a=We.Op.length(o);let l=o.attributes||{},f=!1,h=!1;if(o.insert!=null){if(u.retain(a),typeof o.insert=="string"){const d=o.insert;h=!d.endsWith(`
`)&&(n<=s||!!this.scroll.descendant(at,s)[0]),this.scroll.insertAt(s,d);const[v,y]=this.scroll.line(s);let x=Cn({},Ge(v));if(v instanceof qe){const[A]=v.descendant(Ce,y);A&&(x=Cn(x,Ge(A)))}l=We.AttributeMap.diff(x,l)||{}}else if(typeof o.insert=="object"){const d=Object.keys(o.insert)[0];if(d==null)return s;const v=this.scroll.query(d,O.INLINE)!=null;if(v)(n<=s||this.scroll.descendant(at,s)[0])&&(h=!0);else if(s>0){const[y,x]=this.scroll.descendant(Ce,s-1);y instanceof Ct?y.value()[x]!==`
`&&(f=!0):y instanceof Ke&&y.statics.scope===O.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(s,d,o.insert[d]),v){const[y]=this.scroll.descendant(Ce,s);if(y){const x=Cn({},Ge(y));l=We.AttributeMap.diff(x,l)||{}}}}n+=a}else if(u.push(o),o.retain!==null&&typeof o.retain=="object"){const d=Object.keys(o.retain)[0];if(d==null)return s;this.scroll.updateEmbedAt(s,d,o.retain[d])}Object.keys(l).forEach(d=>{this.scroll.formatAt(s,a,d,l[d])});const p=f?1:0,m=h?1:0;return n+=p+m,u.retain(p),u.delete(m),s+a+p+m},0),u.reduce((s,o)=>typeof o.delete=="number"?(this.scroll.deleteAt(s,o.delete),s):s+We.Op.length(o),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,n){return this.scroll.deleteAt(t,n),this.update(new q().retain(t).delete(n))}formatLine(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(i=>{this.scroll.lines(t,Math.max(n,1)).forEach(s=>{s.format(i,r[i])})}),this.scroll.optimize();const u=new q().retain(t).retain(n,ur(r));return this.update(u)}formatText(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(i=>{this.scroll.formatAt(t,n,i,r[i])});const u=new q().retain(t).retain(n,ur(r));return this.update(u)}getContents(t,n){return this.delta.slice(t,t+n)}getDelta(){return this.scroll.lines().reduce((t,n)=>t.concat(n.delta()),new q)}getFormat(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],u=[];n===0?this.scroll.path(t).forEach(o=>{const[a]=o;a instanceof qe?r.push(a):a instanceof Ce&&u.push(a)}):(r=this.scroll.lines(t,n),u=this.scroll.descendants(Ce,t,n));const[i,s]=[r,u].map(o=>{const a=o.shift();if(a==null)return{};let l=Ge(a);for(;Object.keys(l).length>0;){const f=o.shift();if(f==null)return l;l=Jc(Ge(f),l)}return l});return{...i,...s}}getHTML(t,n){const[r,u]=this.scroll.line(t);if(r){const i=r.length();return r.length()>=u+n&&!(u===0&&n===i)?Zr(r,u,n,!0):Zr(this.scroll,t,n,!0)}return""}getText(t,n){return this.getContents(t,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(t,n){const r=Ro(n),u=new q().retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(u)}insertEmbed(t,n,r){return this.scroll.insertAt(t,n,r),this.update(new q().retain(t).insert({[n]:r}))}insertText(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,n),Object.keys(r).forEach(u=>{this.scroll.formatAt(t,n.length,u,r[u])}),this.update(new q().retain(t).insert(n,ur(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==qe.blotName)return!1;const n=t;return n.children.length>1?!1:n.children.head instanceof Tt}removeFormat(t,n){const r=this.getText(t,n),[u,i]=this.scroll.line(t+n);let s=0,o=new q;u!=null&&(s=u.length()-i,o=u.delta().slice(i,i+s-1).insert(`
`));const l=this.getContents(t,n+s).diff(new q().insert(r).concat(o)),f=new q().retain(t).concat(l);return this.applyDelta(f)}update(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const u=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(Yc)&&this.scroll.find(n[0].target)){const i=this.scroll.find(n[0].target),s=Ge(i),o=i.offset(this.scroll),a=n[0].oldValue.replace(Wr.CONTENTS,""),l=new q().insert(a),f=new q().insert(i.value()),h=r&&{oldRange:Bo(r.oldRange,-o),newRange:Bo(r.newRange,-o)};t=new q().retain(o).concat(l.diff(f,h)).reduce((m,d)=>d.insert?m.insert(d.insert,s):m.push(d),new q),this.delta=u.compose(t)}else this.delta=this.getDelta(),(!t||!Ys(u.compose(t),this.delta))&&(t=u.diff(this.delta,r));return t}}function tr(e,t,n){if(e.length===0){const[m]=ls(n.pop());return t<=0?`</li></${m}>`:`</li></${m}>${tr([],t-1,n)}`}const[{child:r,offset:u,length:i,indent:s,type:o},...a]=e,[l,f]=ls(o);if(s>t)return n.push(o),s===t+1?`<${l}><li${f}>${Zr(r,u,i)}${tr(a,s,n)}`:`<${l}><li>${tr(e,t+1,n)}`;const h=n[n.length-1];if(s===t&&o===h)return`</li><li${f}>${Zr(r,u,i)}${tr(a,s,n)}`;const[p]=ls(n.pop());return`</li></${p}>${tr(e,t-1,n)}`}function Zr(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,n);if(e instanceof Ct)return Ja(e.value().slice(t,t+n));if(e instanceof lt){if(e.statics.blotName==="list-container"){const l=[];return e.children.forEachAt(t,n,(f,h,p)=>{const m="formats"in f&&typeof f.formats=="function"?f.formats():{};l.push({child:f,offset:h,length:p,indent:m.indent||0,type:m.list})}),tr(l,-1,[])}const u=[];if(e.children.forEachAt(t,n,(l,f,h)=>{u.push(Zr(l,f,h))}),r||e.statics.blotName==="list")return u.join("");const{outerHTML:i,innerHTML:s}=e.domNode,[o,a]=i.split(`>${s}<`);return o==="<table"?`<table style="border: 1px solid #000;">${u.join("")}<${a}`:`${o}>${u.join("")}<${a}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function Jc(e,t){return Object.keys(t).reduce((n,r)=>{if(e[r]==null)return n;const u=t[r];return u===e[r]?n[r]=u:Array.isArray(u)?u.indexOf(e[r])<0?n[r]=u.concat([e[r]]):n[r]=u:n[r]=[u,e[r]],n},{})}function ls(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Ro(e){return e.reduce((t,n)=>{if(typeof n.insert=="string"){const r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(r,n.attributes)}return t.push(n)},new q)}function Bo(e,t){let{index:n,length:r}=e;return new gr(n+t,r)}function e0(e){const t=[];return e.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((u,i)=>{i&&t.push({insert:`
`,attributes:n.attributes}),u&&t.push({insert:u,attributes:n.attributes})}):t.push(n)}),t}class Ut{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=n}}L(Ut,"DEFAULTS",{});const Nu="\uFEFF";class nl extends Ke{constructor(t,n){super(t,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Nu),this.rightGuard=document.createTextNode(Nu),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,n)}restore(t){let n=null,r;const u=t.data.split(Nu).join("");if(t===this.leftGuard)if(this.prev instanceof Ct){const i=this.prev.length();this.prev.insertAt(i,u),n={startNode:this.prev.domNode,startOffset:i+u.length}}else r=document.createTextNode(u),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:u.length};else t===this.rightGuard&&(this.next instanceof Ct?(this.next.insertAt(0,u),n={startNode:this.next.domNode,startOffset:u.length}):(r=document.createTextNode(u),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:u.length}));return t.data=Nu,n}update(t,n){t.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const u=this.restore(r.target);u&&(n.range=u)}})}}class t0{constructor(t,n){L(this,"isComposing",!1);this.scroll=t,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const n=t.target instanceof Node?this.scroll.find(t.target,!0):null;n&&!(n instanceof nl)&&(this.emitter.emit(I.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(I.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(I.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(I.events.COMPOSITION_END,t),this.isComposing=!1}}const Ur=class Ur{constructor(t,n){L(this,"modules",{});this.quill=t,this.options=n}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const n=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new n(this.quill,this.options.modules[t]||{}),this.modules[t]}};L(Ur,"DEFAULTS",{modules:{}}),L(Ur,"themes",{default:Ur});let mr=Ur;const n0=e=>e.parentElement||e.getRootNode().host||null,r0=e=>{const t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*r,left:t.left}},Lu=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},Mo=(e,t,n,r,u,i)=>e<n&&t>r?0:e<n?-(n-e+u):t>r?t-e>r-n?e+u-n:t-r+i:0,u0=(e,t)=>{var i,s,o;const n=e.ownerDocument;let r=t,u=e;for(;u;){const a=u===n.body,l=a?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??n.documentElement.clientWidth,bottom:((s=window.visualViewport)==null?void 0:s.height)??n.documentElement.clientHeight,left:0}:r0(u),f=getComputedStyle(u),h=Mo(r.left,r.right,l.left,l.right,Lu(f.scrollPaddingLeft),Lu(f.scrollPaddingRight)),p=Mo(r.top,r.bottom,l.top,l.bottom,Lu(f.scrollPaddingTop),Lu(f.scrollPaddingBottom));if(h||p)if(a)(o=n.defaultView)==null||o.scrollBy(h,p);else{const{scrollLeft:m,scrollTop:d}=u;p&&(u.scrollTop+=p),h&&(u.scrollLeft+=h);const v=u.scrollLeft-m,y=u.scrollTop-d;r={left:r.left-v,top:r.top-y,right:r.right-v,bottom:r.bottom-y}}u=a||f.position==="fixed"?null:n0(u)}},i0=100,s0=["block","break","cursor","inline","scroll","text"],o0=(e,t,n)=>{const r=new pr;return s0.forEach(u=>{const i=t.query(u);i&&r.register(i)}),e.forEach(u=>{let i=t.query(u);i||n.error(`Cannot register "${u}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;i;)if(r.register(i),i="blotName"in i?i.requiredContainer??null:null,s+=1,s>i0){n.error(`Cycle detected in registering blot requiredContainer: "${u}"`);break}}),r},sr=jt("quill"),Fu=new pr;lt.uiClass="ql-ui";const Je=class Je{static debug(t){t===!0&&(t="log"),jt.level(t)}static find(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ds.get(t)||Fu.find(t,n)}static import(t){return this.imports[t]==null&&sr.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in t?t.attrName:t.blotName;typeof r=="string"?this.register(`formats/${r}`,t,n):Object.keys(t).forEach(u=>{this.register(u,t[u],n)})}else{const t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!r&&sr.warn(`Overwriting ${t} with`,n),this.imports[t]=n,(t.startsWith("blots/")||t.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Fu.register(n),typeof n.register=="function"&&n.register(Fu)}}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=a0(t,n),this.container=this.options.container,this.container==null){sr.error("Invalid Quill container",t);return}this.options.debug&&Je.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ds.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new I;const u=eo.blotName,i=this.options.registry.query(u);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${u}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Qc(this.scroll),this.selection=new Xc(this.scroll,this.emitter),this.composition=new t0(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(I.events.EDITOR_CHANGE,s=>{s===I.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(I.events.SCROLL_UPDATE,(s,o)=>{const a=this.selection.lastRange,[l]=this.selection.getRange(),f=a&&l?{oldRange:a,newRange:l}:void 0;Qe.call(this,()=>this.editor.update(null,o,f),s)}),this.emitter.on(I.events.SCROLL_EMBED_UPDATE,(s,o)=>{const a=this.selection.lastRange,[l]=this.selection.getRange(),f=a&&l?{oldRange:a,newRange:l}:void 0;Qe.call(this,()=>{const h=new q().retain(s.offset(this)).retain({[s.statics.blotName]:o});return this.editor.update(h,[],f)},Je.sources.USER)}),r){const s=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const r=t;t=document.createElement("div"),t.classList.add(r)}return this.container.insertBefore(t,n),t}blur(){this.selection.setRange(null)}deleteText(t,n,r){return[t,n,,r]=Rt(t,n,r),Qe.call(this,()=>this.editor.deleteText(t,n),r,t,-1*n)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const n=t();return this.allowReadOnlyEdits=!1,n}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I.sources.API;return Qe.call(this,()=>{const u=this.getSelection(!0);let i=new q;if(u==null)return i;if(this.scroll.query(t,O.BLOCK))i=this.editor.formatLine(u.index,u.length,{[t]:n});else{if(u.length===0)return this.selection.format(t,n),i;i=this.editor.formatText(u.index,u.length,{[t]:n})}return this.setSelection(u,I.sources.SILENT),i},r)}formatLine(t,n,r,u,i){let s;return[t,n,s,i]=Rt(t,n,r,u,i),Qe.call(this,()=>this.editor.formatLine(t,n,s),i,t,0)}formatText(t,n,r,u,i){let s;return[t,n,s,i]=Rt(t,n,r,u,i),Qe.call(this,()=>this.editor.formatText(t,n,s),i,t,0)}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof t=="number"?r=this.selection.getBounds(t,n):r=this.selection.getBounds(t.index,t.length),!r)return null;const u=this.container.getBoundingClientRect();return{bottom:r.bottom-u.top,height:r.height,left:r.left-u.left,right:r.right-u.left,top:r.top-u.top,width:r.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,n]=Rt(t,n),this.editor.getContents(t,n)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,n):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,n)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Rt(t,n),this.editor.getHTML(t,n)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Rt(t,n),this.editor.getText(t,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,n,r){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Je.sources.API;return Qe.call(this,()=>this.editor.insertEmbed(t,n,r),u,t)}insertText(t,n,r,u,i){let s;return[t,,s,i]=Rt(t,0,r,u,i),Qe.call(this,()=>this.editor.insertText(t,n,s),i,t,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,n,r){return[t,n,,r]=Rt(t,n,r),Qe.call(this,()=>this.editor.removeFormat(t,n),r,t)}scrollRectIntoView(t){u0(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,n=t&&this.selection.getBounds(t.index,t.length);n&&this.scrollRectIntoView(n)}setContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.sources.API;return Qe.call(this,()=>{t=new q(t);const r=this.getLength(),u=this.editor.deleteText(0,r),i=this.editor.insertContents(0,t),s=this.editor.deleteText(this.getLength()-1,1);return u.compose(i).compose(s)},n)}setSelection(t,n,r){t==null?this.selection.setRange(null,n||Je.sources.API):([t,n,,r]=Rt(t,n,r),this.selection.setRange(new gr(Math.max(0,t),n),r),r!==I.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.sources.API;const r=new q().insert(t);return this.setContents(r,n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I.sources.USER;const n=this.scroll.update(t);return this.selection.update(t),n}updateContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.sources.API;return Qe.call(this,()=>(t=new q(t),this.editor.applyDelta(t)),n,!0)}};L(Je,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Fu,theme:"default"}),L(Je,"events",I.events),L(Je,"sources",I.sources),L(Je,"version","2.0.2"),L(Je,"imports",{delta:q,parchment:Fc,"core/module":Ut,"core/theme":mr});let N=Je;function zo(e){return typeof e=="string"?document.querySelector(e):e}function cs(e){return Object.entries(e??{}).reduce((t,n)=>{let[r,u]=n;return{...t,[r]:u===!0?{}:u}},{})}function Po(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function a0(e,t){const n=zo(e);if(!n)throw new Error("Invalid Quill container");const u=!t.theme||t.theme===N.DEFAULTS.theme?mr:N.import(`themes/${t.theme}`);if(!u)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...s}=N.DEFAULTS,{modules:o,...a}=u.DEFAULTS;let l=cs(t.modules);l!=null&&l.toolbar&&l.toolbar.constructor!==Object&&(l={...l,toolbar:{container:l.toolbar}});const f=Cn({},cs(i),cs(o),l),h={...s,...Po(a),...Po(t)};let p=t.registry;return p?t.formats&&sr.warn('Ignoring "formats" option because "registry" is specified'):p=t.formats?o0(t.formats,h.registry,sr):h.registry,{...h,registry:p,container:n,theme:u,modules:Object.entries(f).reduce((m,d)=>{let[v,y]=d;if(!y)return m;const x=N.import(`modules/${v}`);return x==null?(sr.error(`Cannot load ${v} module. Are you sure you registered it?`),m):{...m,[v]:Cn({},x.DEFAULTS||{},y)}},{}),bounds:zo(h.bounds)}}function Qe(e,t,n,r){if(!this.isEnabled()&&t===I.sources.USER&&!this.allowReadOnlyEdits)return new q;let u=n==null?null:this.getSelection();const i=this.editor.delta,s=e();if(u!=null&&(n===!0&&(n=u.index),r==null?u=$o(u,s,t):r!==0&&(u=$o(u,n,r,t)),this.setSelection(u,I.sources.SILENT)),s.length()>0){const o=[I.events.TEXT_CHANGE,s,i,t];this.emitter.emit(I.events.EDITOR_CHANGE,...o),t!==I.sources.SILENT&&this.emitter.emit(...o)}return s}function Rt(e,t,n,r,u){let i={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(u=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(u=r,r=n,n=t,t=0),typeof n=="object"?(i=n,u=r):typeof n=="string"&&(r!=null?i[n]=r:u=n),u=u||I.sources.API,[e,t,i,u]}function $o(e,t,n,r){const u=typeof n=="number"?n:0;if(e==null)return null;let i,s;return t&&typeof t.transformPosition=="function"?[i,s]=[e.index,e.index+e.length].map(o=>t.transformPosition(o,r!==I.sources.USER)):[i,s]=[e.index,e.index+e.length].map(o=>o<t||o===t&&r===I.sources.USER?o:u>=0?o+u:Math.max(t,o+u)),new gr(i,s-i)}class io extends ai{}function jo(e){return e instanceof qe||e instanceof at}function Uo(e){return typeof e.updateContent=="function"}class nr extends eo{constructor(t,n,r){let{emitter:u}=r;super(t,n),this.emitter=u,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(I.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(I.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,n){this.emitter.emit(I.events.SCROLL_EMBED_UPDATE,t,n)}deleteAt(t,n){const[r,u]=this.line(t),[i]=this.line(t+n);if(super.deleteAt(t,n),i!=null&&r!==i&&u>0){if(r instanceof at||i instanceof at){this.optimize();return}const s=i.children.head instanceof Tt?null:i.children.head;r.moveChildren(i,s),r.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,n,r,u){super.formatAt(t,n,r,u),this.optimize()}insertAt(t,n,r){if(t>=this.length())if(r==null||this.scroll.query(n,O.BLOCK)==null){const u=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(u),r==null&&n.endsWith(`
`)?u.insertAt(0,n.slice(0,-1),r):u.insertAt(0,n,r)}else{const u=this.scroll.create(n,r);this.appendChild(u)}else super.insertAt(t,n,r);this.optimize()}insertBefore(t,n){if(t.statics.scope===O.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,n)}else super.insertBefore(t,n)}insertContents(t,n){const r=this.deltaToRenderBlocks(n.concat(new q().insert(`
`))),u=r.pop();if(u==null)return;this.batchStart();const i=r.shift();if(i){const a=i.type==="block"&&(i.delta.length()===0||!this.descendant(at,t)[0]&&t<this.length()),l=i.type==="block"?i.delta:new q().insert({[i.key]:i.value});fs(this,t,l);const f=i.type==="block"?1:0,h=t+l.length()+f;a&&this.insertAt(h-1,`
`);const p=Ge(this.line(t)[0]),m=We.AttributeMap.diff(p,i.attributes)||{};Object.keys(m).forEach(d=>{this.formatAt(h-1,1,d,m[d])}),t=h}let[s,o]=this.children.find(t);if(r.length&&(s&&(s=s.split(o),o=0),r.forEach(a=>{if(a.type==="block"){const l=this.createBlock(a.attributes,s||void 0);fs(l,0,a.delta)}else{const l=this.create(a.key,a.value);this.insertBefore(l,s||void 0),Object.keys(a.attributes).forEach(f=>{l.format(f,a.attributes[f])})}})),u.type==="block"&&u.delta.length()){const a=s?s.offset(s.scroll)+o:this.length();fs(this,a,u.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const n=this.path(t).pop();if(!n)return[null,-1];const[r,u]=n;return r instanceof Ce?[r,u]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(jo,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(u,i,s)=>{let o=[],a=s;return u.children.forEachAt(i,s,(l,f,h)=>{jo(l)?o.push(l):l instanceof ai&&(o=o.concat(r(l,f,a))),a-=h}),o};return r(this,t,n)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,n),t.length>0&&this.emitter.emit(I.events.SCROLL_OPTIMIZE,t,n))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let n=I.sources.USER;typeof t=="string"&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(r=>{let{target:u}=r;const i=this.find(u,!0);return i&&!Uo(i)}),t.length>0&&this.emitter.emit(I.events.SCROLL_BEFORE_UPDATE,n,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(I.events.SCROLL_UPDATE,n,t)}updateEmbedAt(t,n,r){const[u]=this.descendant(i=>i instanceof at,t);u&&u.statics.blotName===n&&Uo(u)&&u.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const n=[];let r=new q;return t.forEach(u=>{const i=u==null?void 0:u.insert;if(i)if(typeof i=="string"){const s=i.split(`
`);s.slice(0,-1).forEach(a=>{r.insert(a,u.attributes),n.push({type:"block",delta:r,attributes:u.attributes??{}}),r=new q});const o=s[s.length-1];o&&r.insert(o,u.attributes)}else{const s=Object.keys(i)[0];if(!s)return;this.query(s,O.INLINE)?r.push(u):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new q,n.push({type:"blockEmbed",key:s,value:i[s],attributes:u.attributes??{}}))}}),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}createBlock(t,n){let r;const u={};Object.entries(t).forEach(o=>{let[a,l]=o;this.query(a,O.BLOCK&O.BLOT)!=null?r=a:u[a]=l});const i=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(i,n||void 0);const s=i.length();return Object.entries(u).forEach(o=>{let[a,l]=o;i.formatAt(0,s,a,l)}),i}}L(nr,"blotName","scroll"),L(nr,"className","ql-editor"),L(nr,"tagName","DIV"),L(nr,"defaultChild",qe),L(nr,"allowedChildren",[qe,at,io]);function fs(e,t,n){n.reduce((r,u)=>{const i=We.Op.length(u);let s=u.attributes||{};if(u.insert!=null){if(typeof u.insert=="string"){const o=u.insert;e.insertAt(r,o);const[a]=e.descendant(Ce,r),l=Ge(a);s=We.AttributeMap.diff(l,s)||{}}else if(typeof u.insert=="object"){const o=Object.keys(u.insert)[0];if(o==null)return r;if(e.insertAt(r,o,u.insert[o]),e.scroll.query(o,O.INLINE)!=null){const[l]=e.descendant(Ce,r),f=Ge(l);s=We.AttributeMap.diff(f,s)||{}}}}return Object.keys(s).forEach(o=>{e.formatAt(r,i,o,s[o])}),r+i},t)}const so={scope:O.BLOCK,whitelist:["right","center","justify"]},l0=new wt("align","align",so);new $t("align","ql-align",so);const c0=new ln("align","text-align",so);class rl extends ln{value(t){let n=super.value(t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(u=>`00${parseInt(u,10).toString(16)}`.slice(-2)).join("")}`):n}}new $t("color","ql-color",{scope:O.INLINE});const f0=new rl("color","color",{scope:O.INLINE});new $t("background","ql-bg",{scope:O.INLINE});const h0=new rl("background","background-color",{scope:O.INLINE});class xr extends io{static create(t){const n=super.create(t);return n.setAttribute("spellcheck","false"),n}code(t,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(t,t+n)}html(t,n){return`<pre>
${Ja(this.code(t,n))}
</pre>`}}class Et extends qe{static register(){N.register(xr)}}L(Et,"TAB","  ");class ul extends Tn{}ul.blotName="code";ul.tagName="CODE";Et.blotName="code-block";Et.className="ql-code-block";Et.tagName="DIV";xr.blotName="code-block-container";xr.className="ql-code-block-container";xr.tagName="DIV";xr.allowedChildren=[Et];Et.allowedChildren=[Ct,Tt,Wr];Et.requiredContainer=xr;const oo={scope:O.BLOCK,whitelist:["rtl"]},d0=new wt("direction","dir",oo);new $t("direction","ql-direction",oo);const p0=new ln("direction","direction",oo),il={scope:O.INLINE,whitelist:["serif","monospace"]};new $t("font","ql-font",il);class g0 extends ln{value(t){return super.value(t).replace(/["']/g,"")}}const m0=new g0("font","font-family",il);new $t("size","ql-size",{scope:O.INLINE,whitelist:["small","large","huge"]});const b0=new ln("size","font-size",{scope:O.INLINE,whitelist:["10px","18px","32px"]}),y0=jt("quill:keyboard"),x0=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class su extends Ut{static match(t,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==t[r]&&n[r]!==null)?!1:n.key===t.key||n.key===t.which}constructor(t,n){super(t,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=_0(t);if(u==null){y0.warn("Attempted to add invalid keyboard binding",u);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(u.key)?u.key:[u.key]).forEach(s=>{const o={...u,key:s,...n,...r};this.bindings[o.key]=this.bindings[o.key]||[],this.bindings[o.key].push(o)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const u=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(x=>su.match(t,x));if(u.length===0)return;const i=N.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[o,a]=this.quill.getLine(s.index),[l,f]=this.quill.getLeaf(s.index),[h,p]=s.length===0?[l,f]:this.quill.getLeaf(s.index+s.length),m=l instanceof Yu?l.value().slice(0,f):"",d=h instanceof Yu?h.value().slice(p):"",v={collapsed:s.length===0,empty:s.length===0&&o.length()<=1,format:this.quill.getFormat(s),line:o,offset:a,prefix:m,suffix:d,event:t};u.some(x=>{if(x.collapsed!=null&&x.collapsed!==v.collapsed||x.empty!=null&&x.empty!==v.empty||x.offset!=null&&x.offset!==v.offset)return!1;if(Array.isArray(x.format)){if(x.format.every(A=>v.format[A]==null))return!1}else if(typeof x.format=="object"&&!Object.keys(x.format).every(A=>x.format[A]===!0?v.format[A]!=null:x.format[A]===!1?v.format[A]==null:Ys(x.format[A],v.format[A])))return!1;return x.prefix!=null&&!x.prefix.test(v.prefix)||x.suffix!=null&&!x.suffix.test(v.suffix)?!1:x.handler.call(this,s,v,x)!==!0})&&t.preventDefault()})}handleBackspace(t,n){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let u={};const[i]=this.quill.getLine(t.index);let s=new q().retain(t.index-r).delete(r);if(n.offset===0){const[o]=this.quill.getLine(t.index-1);if(o&&!(o.statics.blotName==="block"&&o.length()<=1)){const l=i.formats(),f=this.quill.getFormat(t.index-1,1);if(u=We.AttributeMap.diff(l,f)||{},Object.keys(u).length>0){const h=new q().retain(t.index+i.length()-2).retain(1,u);s=s.compose(h)}}}this.quill.updateContents(s,N.sources.USER),this.quill.focus()}handleDelete(t,n){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let u={};const[i]=this.quill.getLine(t.index);let s=new q().retain(t.index).delete(r);if(n.offset>=i.length()-1){const[o]=this.quill.getLine(t.index+1);if(o){const a=i.formats(),l=this.quill.getFormat(t.index,1);u=We.AttributeMap.diff(a,l)||{},Object.keys(u).length>0&&(s=s.retain(o.length()-1).retain(1,u))}}this.quill.updateContents(s,N.sources.USER),this.quill.focus()}handleDeleteRange(t){ao({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,n){const r=Object.keys(n.format).reduce((i,s)=>(this.quill.scroll.query(s,O.BLOCK)&&!Array.isArray(n.format[s])&&(i[s]=n.format[s]),i),{}),u=new q().retain(t.index).delete(t.length).insert(`
`,r);this.quill.updateContents(u,N.sources.USER),this.quill.setSelection(t.index+1,N.sources.SILENT),this.quill.focus()}}const v0={bindings:{bold:hs("bold"),italic:hs("italic"),underline:hs("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",N.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",N.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",N.sources.USER):t.format.list!=null&&this.quill.format("list",!1,N.sources.USER)}},"indent code-block":Ho(!0),"outdent code-block":Ho(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,N.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=new q().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(n,N.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,N.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,N.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,N.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,n]=this.quill.getLine(e.index),r={...t.formats(),list:"checked"},u=new q().retain(e.index).insert(`
`,r).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(u,N.sources.USER),this.quill.setSelection(e.index+1,N.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[n,r]=this.quill.getLine(e.index),u=new q().retain(e.index).insert(`
`,t.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(u,N.sources.USER),this.quill.setSelection(e.index+1,N.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[n,r,u,i]=t.getTable(e),s=A0(n,r,u,i);if(s==null)return;let o=n.offset();if(s<0){const a=new q().retain(o).insert(`
`);this.quill.updateContents(a,N.sources.USER),this.quill.setSelection(e.index+1,e.length,N.sources.SILENT)}else if(s>0){o+=n.length();const a=new q().retain(o).insert(`
`);this.quill.updateContents(a,N.sources.USER),this.quill.setSelection(o,N.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:n,line:r}=t,u=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(u-1,N.sources.USER):this.quill.setSelection(u+r.length(),N.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=t.prefix,[r,u]=this.quill.getLine(e.index);if(u>n)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(e.index," ",N.sources.USER),this.quill.history.cutoff();const s=new q().retain(e.index-u).delete(n+1).retain(r.length()-2-u).retain(1,{list:i});return this.quill.updateContents(s,N.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,N.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,n]=this.quill.getLine(e.index);let r=2,u=t;for(;u!=null&&u.length()<=1&&u.formats()["code-block"];)if(u=u.prev,r-=1,r<=0){const i=new q().retain(e.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,N.sources.USER),this.quill.setSelection(e.index-1,N.sources.SILENT),!1}return!0}},"embed left":Iu("ArrowLeft",!1),"embed left shift":Iu("ArrowLeft",!0),"embed right":Iu("ArrowRight",!1),"embed right shift":Iu("ArrowRight",!0),"table down":Vo(!1),"table up":Vo(!0)}};su.DEFAULTS=v0;function Ho(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,n){let{event:r}=n;const u=this.quill.scroll.query("code-block"),{TAB:i}=u;if(t.length===0&&!r.shiftKey){this.quill.insertText(t.index,i,N.sources.USER),this.quill.setSelection(t.index+i.length,N.sources.SILENT);return}const s=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:o,length:a}=t;s.forEach((l,f)=>{e?(l.insertAt(0,i),f===0?o+=i.length:a+=i.length):l.domNode.textContent.startsWith(i)&&(l.deleteAt(0,i.length),f===0?o-=i.length:a-=i.length)}),this.quill.update(N.sources.USER),this.quill.setSelection(o,a,N.sources.SILENT)}}}function Iu(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:u}=r;e==="ArrowRight"&&(u+=r.length+1);const[i]=this.quill.getLeaf(u);return i instanceof Ke?(e==="ArrowLeft"?t?this.quill.setSelection(r.index-1,r.length+1,N.sources.USER):this.quill.setSelection(r.index-1,N.sources.USER):t?this.quill.setSelection(r.index,r.length+1,N.sources.USER):this.quill.setSelection(r.index+r.length+1,N.sources.USER),!1):!0}}}function hs(e){return{key:e[0],shortKey:!0,handler(t,n){this.quill.format(e,!n.format[e],N.sources.USER)}}}function Vo(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const r=e?"prev":"next",u=n.line,i=u.parent[r];if(i!=null){if(i.statics.blotName==="table-row"){let s=i.children.head,o=u;for(;o.prev!=null;)o=o.prev,s=s.next;const a=s.offset(this.quill.scroll)+Math.min(n.offset,s.length()-1);this.quill.setSelection(a,0,N.sources.USER)}}else{const s=u.table()[r];s!=null&&(e?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,N.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,N.sources.USER))}return!1}}}function _0(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=ur(e);else return null;return e.shortKey&&(e[x0]=e.shortKey,delete e.shortKey),e}function ao(e){let{quill:t,range:n}=e;const r=t.getLines(n);let u={};if(r.length>1){const i=r[0].formats(),s=r[r.length-1].formats();u=We.AttributeMap.diff(s,i)||{}}t.deleteText(n,N.sources.USER),Object.keys(u).length>0&&t.formatLine(n.index,1,u,N.sources.USER),t.setSelection(n.index,N.sources.SILENT)}function A0(e,t,n,r){return t.prev==null&&t.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const E0=/font-weight:\s*normal/,k0=["P","OL","UL"],Go=e=>e&&k0.includes(e.tagName),w0=e=>{Array.from(e.querySelectorAll("br")).filter(t=>Go(t.previousElementSibling)&&Go(t.nextElementSibling)).forEach(t=>{var n;(n=t.parentNode)==null||n.removeChild(t)})},C0=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var n;return(n=t.getAttribute("style"))==null?void 0:n.match(E0)}).forEach(t=>{var r;const n=e.createDocumentFragment();n.append(...t.childNodes),(r=t.parentNode)==null||r.replaceChild(n,t)})};function T0(e){e.querySelector('[id^="docs-internal-guid-"]')&&(C0(e),w0(e))}const S0=/\bmso-list:[^;]*ignore/i,D0=/\bmso-list:[^;]*\bl(\d+)/i,N0=/\bmso-list:[^;]*\blevel(\d+)/i,L0=(e,t)=>{const n=e.getAttribute("style"),r=n==null?void 0:n.match(D0);if(!r)return null;const u=Number(r[1]),i=n==null?void 0:n.match(N0),s=i?Number(i[1]):1,o=new RegExp(`@list l${u}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=t.match(o),l=a&&a[1]==="bullet"?"bullet":"ordered";return{id:u,indent:s,type:l,element:e}},F0=e=>{var s,o;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],r=[];t.forEach(a=>{(a.getAttribute("style")||"").match(S0)?n.push(a):r.push(a)}),n.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)});const u=e.documentElement.innerHTML,i=r.map(a=>L0(a,u)).filter(a=>a);for(;i.length;){const a=[];let l=i.shift();for(;l;)a.push(l),l=i.length&&((s=i[0])==null?void 0:s.element)===l.element.nextElementSibling&&i[0].id===l.id?i.shift():null;const f=document.createElement("ul");a.forEach(m=>{const d=document.createElement("li");d.setAttribute("data-list",m.type),m.indent>1&&d.setAttribute("class",`ql-indent-${m.indent-1}`),d.innerHTML=m.element.innerHTML,f.appendChild(d)});const h=(o=a[0])==null?void 0:o.element,{parentNode:p}=h??{};h&&(p==null||p.replaceChild(f,h)),a.slice(1).forEach(m=>{let{element:d}=m;p==null||p.removeChild(d)})}};function I0(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&F0(e)}const O0=[I0,T0],q0=e=>{e.documentElement&&O0.forEach(t=>{t(e)})},R0=jt("quill:clipboard"),B0=[[Node.TEXT_NODE,K0],[Node.TEXT_NODE,Zo],["br",j0],[Node.ELEMENT_NODE,Zo],[Node.ELEMENT_NODE,$0],[Node.ELEMENT_NODE,P0],[Node.ELEMENT_NODE,W0],["li",V0],["ol, ul",G0],["pre",U0],["tr",Z0],["b",ds("bold")],["i",ds("italic")],["strike",ds("strike")],["style",H0]],M0=[l0,d0].reduce((e,t)=>(e[t.keyName]=t,e),{}),Wo=[c0,h0,f0,p0,m0,b0].reduce((e,t)=>(e[t.keyName]=t,e),{});class sl extends Ut{constructor(t,n){super(t,n),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],B0.concat(this.options.matchers??[]).forEach(r=>{let[u,i]=r;this.addMatcher(u,i)})}addMatcher(t,n){this.matchers.push([t,n])}convert(t){let{html:n,text:r}=t,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(u[Et.blotName])return new q().insert(r||"",{[Et.blotName]:u[Et.blotName]});if(!n)return new q().insert(r||"",u);const i=this.convertHTML(n);return ou(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||u.table)?i.compose(new q().retain(i.length()-1).delete(1)):i}normalizeHTML(t){q0(t)}convertHTML(t){const n=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(n);const r=n.body,u=new WeakMap,[i,s]=this.prepareMatching(r,u);return al(this.quill.scroll,r,i,s,u)}dangerouslyPasteHTML(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.sources.API;if(typeof t=="string"){const u=this.convert({html:t,text:""});this.quill.setContents(u,n),this.quill.setSelection(0,N.sources.SILENT)}else{const u=this.convert({html:n,text:""});this.quill.updateContents(new q().retain(t).concat(u),r),this.quill.setSelection(t+u.length(),N.sources.SILENT)}}onCaptureCopy(t){var s,o;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:u,text:i}=this.onCopy(r,n);(s=t.clipboardData)==null||s.setData("text/plain",i),(o=t.clipboardData)==null||o.setData("text/html",u),n&&ao({range:r,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(t){var s,o,a,l,f;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const r=(s=t.clipboardData)==null?void 0:s.getData("text/html");let u=(o=t.clipboardData)==null?void 0:o.getData("text/plain");if(!r&&!u){const h=(a=t.clipboardData)==null?void 0:a.getData("text/uri-list");h&&(u=this.normalizeURIList(h))}const i=Array.from(((l=t.clipboardData)==null?void 0:l.files)||[]);if(!r&&i.length>0){this.quill.uploader.upload(n,i);return}if(r&&i.length>0){const h=new DOMParser().parseFromString(r,"text/html");if(h.body.childElementCount===1&&((f=h.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(n,i);return}}this.onPaste(n,{html:r,text:u})}onCopy(t){const n=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:n}}onPaste(t,n){let{text:r,html:u}=n;const i=this.quill.getFormat(t.index),s=this.convert({text:r,html:u},i);R0.log("onPaste",s,{text:r,html:u});const o=new q().retain(t.index).delete(t.length).concat(s);this.quill.updateContents(o,N.sources.USER),this.quill.setSelection(o.length()-t.length,N.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,n){const r=[],u=[];return this.matchers.forEach(i=>{const[s,o]=i;switch(s){case Node.TEXT_NODE:u.push(o);break;case Node.ELEMENT_NODE:r.push(o);break;default:Array.from(t.querySelectorAll(s)).forEach(a=>{if(n.has(a)){const l=n.get(a);l==null||l.push(o)}else n.set(a,[o])});break}}),[r,u]}}L(sl,"DEFAULTS",{matchers:[]});function Sn(e,t,n,r){return r.query(t)?e.reduce((u,i)=>{if(!i.insert)return u;if(i.attributes&&i.attributes[t])return u.push(i);const s=n?{[t]:n}:{};return u.insert(i.insert,{...s,...i.attributes})},new q):e}function ou(e,t){let n="";for(let r=e.ops.length-1;r>=0&&n.length<t.length;--r){const u=e.ops[r];if(typeof u.insert!="string")break;n=u.insert+n}return n.slice(-1*t.length)===t}function sn(e,t){if(!(e instanceof Element))return!1;const n=t.query(e);return n&&n.prototype instanceof Ke?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function z0(e,t){return e.previousElementSibling&&e.nextElementSibling&&!sn(e.previousElementSibling,t)&&!sn(e.nextElementSibling,t)}const Ou=new WeakMap;function ol(e){return e==null?!1:(Ou.has(e)||(e.tagName==="PRE"?Ou.set(e,!0):Ou.set(e,ol(e.parentNode))),Ou.get(e))}function al(e,t,n,r,u){return t.nodeType===t.TEXT_NODE?r.reduce((i,s)=>s(t,i,e),new q):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,s)=>{let o=al(e,s,n,r,u);return s.nodeType===t.ELEMENT_NODE&&(o=n.reduce((a,l)=>l(s,a,e),o),o=(u.get(s)||[]).reduce((a,l)=>l(s,a,e),o)),i.concat(o)},new q):new q}function ds(e){return(t,n,r)=>Sn(n,e,!0,r)}function P0(e,t,n){const r=wt.keys(e),u=$t.keys(e),i=ln.keys(e),s={};return r.concat(u).concat(i).forEach(o=>{let a=n.query(o,O.ATTRIBUTE);a!=null&&(s[a.attrName]=a.value(e),s[a.attrName])||(a=M0[o],a!=null&&(a.attrName===o||a.keyName===o)&&(s[a.attrName]=a.value(e)||void 0),a=Wo[o],a!=null&&(a.attrName===o||a.keyName===o)&&(a=Wo[o],s[a.attrName]=a.value(e)||void 0))}),Object.entries(s).reduce((o,a)=>{let[l,f]=a;return Sn(o,l,f,n)},t)}function $0(e,t,n){const r=n.query(e);if(r==null)return t;if(r.prototype instanceof Ke){const u={},i=r.value(e);if(i!=null)return u[r.blotName]=i,new q().insert(u,r.formats(e,n))}else if(r.prototype instanceof Vr&&!ou(t,`
`)&&t.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Sn(t,r.blotName,r.formats(e,n),n);return t}function j0(e,t){return ou(t,`
`)||t.insert(`
`),t}function U0(e,t,n){const r=n.query("code-block"),u=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,n):!0;return Sn(t,"code-block",u,n)}function H0(){return new q}function V0(e,t,n){const r=n.query(e);if(r==null||r.blotName!=="list"||!ou(t,`
`))return t;let u=-1,i=e.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(u+=1),i=i.parentNode;return u<=0?t:t.reduce((s,o)=>o.insert?o.attributes&&typeof o.attributes.indent=="number"?s.push(o):s.insert(o.insert,{indent:u,...o.attributes||{}}):s,new q)}function G0(e,t,n){const r=e;let u=r.tagName==="OL"?"ordered":"bullet";const i=r.getAttribute("data-checked");return i&&(u=i==="true"?"checked":"unchecked"),Sn(t,"list",u,n)}function Zo(e,t,n){if(!ou(t,`
`)){if(sn(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(sn(r,n))return t.insert(`
`);const u=n.query(r);if(u&&u.prototype instanceof at)return t.insert(`
`);r=r.firstChild}}}return t}function W0(e,t,n){var i;const r={},u=e.style||{};return u.fontStyle==="italic"&&(r.italic=!0),u.textDecoration==="underline"&&(r.underline=!0),u.textDecoration==="line-through"&&(r.strike=!0),((i=u.fontWeight)!=null&&i.startsWith("bold")||parseInt(u.fontWeight,10)>=700)&&(r.bold=!0),t=Object.entries(r).reduce((s,o)=>{let[a,l]=o;return Sn(s,a,l,n)},t),parseFloat(u.textIndent||0)>0?new q().insert("	").concat(t):t}function Z0(e,t,n){var u,i;const r=((u=e.parentElement)==null?void 0:u.tagName)==="TABLE"?e.parentElement:(i=e.parentElement)==null?void 0:i.parentElement;if(r!=null){const o=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return Sn(t,"table",o,n)}return t}function K0(e,t,n){var u;let r=e.data;if(((u=e.parentElement)==null?void 0:u.tagName)==="O:P")return t.insert(r.trim());if(!ol(e)){if(r.trim().length===0&&r.includes(`
`)&&!z0(e,n))return t;const i=(s,o)=>{const a=o.replace(/[^\u00a0]/g,"");return a.length<1&&s?" ":a};r=r.replace(/\r\n/g," ").replace(/\n/g," "),r=r.replace(/\s\s+/g,i.bind(i,!0)),(e.previousSibling==null&&e.parentElement!=null&&sn(e.parentElement,n)||e.previousSibling instanceof Element&&sn(e.previousSibling,n))&&(r=r.replace(/^\s+/,i.bind(i,!1))),(e.nextSibling==null&&e.parentElement!=null&&sn(e.parentElement,n)||e.nextSibling instanceof Element&&sn(e.nextSibling,n))&&(r=r.replace(/\s+$/,i.bind(i,!1)))}return t.insert(r)}class ll extends Ut{constructor(n,r){super(n,r);L(this,"lastRecorded",0);L(this,"ignoreChange",!1);L(this,"stack",{undo:[],redo:[]});L(this,"currentRange",null);this.quill.on(N.events.EDITOR_CHANGE,(u,i,s,o)=>{u===N.events.SELECTION_CHANGE?i&&o!==N.sources.SILENT&&(this.currentRange=i):u===N.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||o===N.sources.USER?this.record(i,s):this.transform(i)),this.currentRange=Fs(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",u=>{u.inputType==="historyUndo"?(this.undo(),u.preventDefault()):u.inputType==="historyRedo"&&(this.redo(),u.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;const u=this.stack[n].pop();if(!u)return;const i=this.quill.getContents(),s=u.delta.invert(i);this.stack[r].push({delta:s,range:Fs(u.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(u.delta,N.sources.USER),this.ignoreChange=!1,this.restoreSelection(u)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let u=n.invert(r),i=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const o=this.stack.undo.pop();o&&(u=u.compose(o.delta),i=o.range)}else this.lastRecorded=s;u.length()!==0&&(this.stack.undo.push({delta:u,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){Ko(this.stack.undo,n),Ko(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,N.sources.USER);else{const r=Y0(this.quill.scroll,n.delta);this.quill.setSelection(r,N.sources.USER)}}}L(ll,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Ko(e,t){let n=t;for(let r=e.length-1;r>=0;r-=1){const u=e[r];e[r]={delta:n.transform(u.delta,!0),range:u.range&&Fs(u.range,n)},n=u.delta.transform(n),e[r].delta.length()===0&&e.splice(r,1)}}function X0(e,t){const n=t.ops[t.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>e.query(r,O.BLOCK)!=null):!1}function Y0(e,t){const n=t.reduce((u,i)=>u+(i.delete||0),0);let r=t.length()-n;return X0(e,t)&&(r-=1),r}function Fs(e,t){if(!e)return e;const n=t.transformPosition(e.index),r=t.transformPosition(e.index+e.length);return{index:n,length:r-n}}class cl extends Ut{constructor(t,n){super(t,n),t.root.addEventListener("drop",r=>{var s;r.preventDefault();let u=null;if(document.caretRangeFromPoint)u=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const o=document.caretPositionFromPoint(r.clientX,r.clientY);u=document.createRange(),u.setStart(o.offsetNode,o.offset),u.setEnd(o.offsetNode,o.offset)}const i=u&&t.selection.normalizeNative(u);if(i){const o=t.selection.normalizedToRange(i);(s=r.dataTransfer)!=null&&s.files&&this.upload(o,r.dataTransfer.files)}})}upload(t,n){const r=[];Array.from(n).forEach(u=>{var i;u&&((i=this.options.mimetypes)!=null&&i.includes(u.type))&&r.push(u)}),r.length>0&&this.options.handler.call(this,t,r)}}cl.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const n=t.map(r=>new Promise(u=>{const i=new FileReader;i.onload=()=>{u(i.result)},i.readAsDataURL(r)}));Promise.all(n).then(r=>{const u=r.reduce((i,s)=>i.insert({image:s}),new q().retain(e.index).delete(e.length));this.quill.updateContents(u,I.sources.USER),this.quill.setSelection(e.index+r.length,I.sources.SILENT)})}};const Q0=["insertText","insertReplacementText"];class J0 extends Ut{constructor(t,n){super(t,n),t.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||t.on(N.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){ao({range:t,quill:this.quill})}replaceText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(n){const r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new q().retain(t.index).insert(n,r),N.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+n.length,0,N.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!Q0.includes(t.inputType))return;const n=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const r=ef(t);if(r==null)return;const u=this.quill.selection.normalizeNative(n),i=u?this.quill.selection.normalizedToRange(u):null;i&&this.replaceText(i,r)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function ef(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const tf=/Mac/i.test(navigator.platform),nf=100,rf=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||tf&&e.key==="a"&&e.ctrlKey===!0);class uf extends Ut{constructor(n,r){super(n,r);L(this,"isListening",!1);L(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,r){let{line:u,event:i}=r;if(!(u instanceof lt)||!u.uiNode)return!0;const s=getComputedStyle(u.domNode).direction==="rtl";return s&&i.key!=="ArrowRight"||!s&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(i.shiftKey?1:0),N.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&rf(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+nf,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const r=n.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const u=this.quill.scroll.find(r.startContainer);if(!(u instanceof lt)||!u.uiNode)return;const i=document.createRange();i.setStartAfter(u.uiNode),i.setEndAfter(u.uiNode),n.removeAllRanges(),n.addRange(i)}}N.register({"blots/block":qe,"blots/block/embed":at,"blots/break":Tt,"blots/container":io,"blots/cursor":Wr,"blots/embed":nl,"blots/inline":Tn,"blots/scroll":nr,"blots/text":Ct,"modules/clipboard":sl,"modules/history":ll,"modules/keyboard":su,"modules/uploader":cl,"modules/input":J0,"modules/uiNode":uf});const Xo=jt("quill:toolbar");class lo extends Ut{constructor(t,n){var r,u;if(super(t,n),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),sf(i,this.options.container),(u=(r=t.container)==null?void 0:r.parentNode)==null||u.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Xo.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var o;const s=(o=this.options.handlers)==null?void 0:o[i];s&&this.addHandler(i,s)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(N.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,n){this.handlers[t]=n}attach(t){let n=Array.from(t.classList).find(u=>u.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){Xo.warn("ignoring attaching to nonexistent format",n,t);return}const r=t.tagName==="SELECT"?"change":"click";t.addEventListener(r,u=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const o=t.options[t.selectedIndex];o.hasAttribute("selected")?i=!1:i=o.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),u.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,i);else if(this.quill.scroll.query(n).prototype instanceof Ke){if(i=prompt(`Enter ${n}`),!i)return;this.quill.updateContents(new q().retain(s.index).delete(s.length).insert({[n]:i}),N.sources.USER)}else this.quill.format(n,i,N.sources.USER);this.update(s)}),this.controls.push([n,t])}update(t){const n=t==null?{}:this.quill.getFormat(t);this.controls.forEach(r=>{const[u,i]=r;if(i.tagName==="SELECT"){let s=null;if(t==null)s=null;else if(n[u]==null)s=i.querySelector("option[selected]");else if(!Array.isArray(n[u])){let o=n[u];typeof o=="string"&&(o=o.replace(/"/g,'\\"')),s=i.querySelector(`option[value="${o}"]`)}s==null?(i.value="",i.selectedIndex=-1):s.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const s=n[u],o=s===i.getAttribute("value")||s!=null&&s.toString()===i.getAttribute("value")||s==null&&!i.getAttribute("value");i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}else{const s=n[u]!=null;i.classList.toggle("ql-active",s),i.setAttribute("aria-pressed",s.toString())}})}}lo.DEFAULTS={};function Yo(e,t,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${t}: ${n}`)):r.setAttribute("aria-label",t),e.appendChild(r)}function sf(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(n=>{const r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(u=>{if(typeof u=="string")Yo(r,u);else{const i=Object.keys(u)[0],s=u[i];Array.isArray(s)?of(r,i,s):Yo(r,i,s)}}),e.appendChild(r)})}function of(e,t,n){const r=document.createElement("select");r.classList.add(`ql-${t}`),n.forEach(u=>{const i=document.createElement("option");u!==!1?i.setAttribute("value",String(u)):i.setAttribute("selected","selected"),r.appendChild(i)}),e.appendChild(r)}lo.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(n=>{this.quill.scroll.query(n,O.INLINE)!=null&&this.quill.format(n,!1,N.sources.USER)})}else this.quill.removeFormat(e.index,e.length,N.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",N.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,N.sources.USER),this.quill.format("direction",e,N.sources.USER)},indent(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0,10);if(e==="+1"||e==="-1"){let u=e==="+1"?1:-1;n.direction==="rtl"&&(u*=-1),this.quill.format("indent",r+u,N.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,N.sources.USER)},list(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t);e==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,N.sources.USER):this.quill.format("list","unchecked",N.sources.USER):this.quill.format("list",e,N.sources.USER)}}};const af='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Qo=0;function Jo(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class co{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Jo(this.label,"aria-expanded"),Jo(this.options,"aria-hidden")}buildItem(t){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const r=t.getAttribute("value");return r&&n.setAttribute("data-value",r),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",u=>{switch(u.key){case"Enter":this.selectItem(n,!0),u.preventDefault();break;case"Escape":this.escape(),u.preventDefault();break}}),n}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=af,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Qo}`,Qo+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(n=>{const r=this.buildItem(n);t.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");t!==r&&(r!=null&&r.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const n=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class lf extends co{constructor(t,n){super(t),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(t){const n=super.buildItem(t);return n.style.backgroundColor=t.getAttribute("value")||"",n}selectItem(t,n){super.selectItem(t,n);const r=this.label.querySelector(".ql-color-label"),u=t&&t.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=u:r.style.fill=u)}}class cf extends co{constructor(t,n){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,n){super.selectItem(t,n);const r=t||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const ff=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class hf{constructor(t,n){this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,ff(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const n=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const u=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let s=0;if(i.right>u.right&&(s=u.right-i.right,this.root.style.left=`${n+s}px`),i.left<u.left&&(s=u.left-i.left,this.root.style.left=`${n+s}px`),i.bottom>u.bottom){const o=i.bottom-i.top,a=t.bottom-t.top+o;this.root.style.top=`${r-a}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const df=[!1,"center","right","justify"],pf=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],gf=[!1,"serif","monospace"],mf=["1","2","3",!1],bf=["small",!1,"large","huge"];class fo extends mr{constructor(t,n){super(t,n);const r=u=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(u.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(u.target)||i.close()})};t.emitter.listenDOM("click",document.body,r)}addModule(t){const n=super.addModule(t);return t==="toolbar"&&this.extendToolbar(n),n}buildButtons(t,n){Array.from(t).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),n[i]!=null))if(i==="direction")r.innerHTML=n[i][""]+n[i].rtl;else if(typeof n[i]=="string")r.innerHTML=n[i];else{const s=r.value||"";s!=null&&n[i][s]&&(r.innerHTML=n[i][s])}})})}buildPickers(t,n){this.pickers=Array.from(t).map(u=>{if(u.classList.contains("ql-align")&&(u.querySelector("option")==null&&Br(u,df),typeof n.align=="object"))return new cf(u,n.align);if(u.classList.contains("ql-background")||u.classList.contains("ql-color")){const i=u.classList.contains("ql-background")?"background":"color";return u.querySelector("option")==null&&Br(u,pf,i==="background"?"#ffffff":"#000000"),new lf(u,n[i])}return u.querySelector("option")==null&&(u.classList.contains("ql-font")?Br(u,gf):u.classList.contains("ql-header")?Br(u,mf):u.classList.contains("ql-size")&&Br(u,bf)),new co(u)});const r=()=>{this.pickers.forEach(u=>{u.update()})};this.quill.on(I.events.EDITOR_CHANGE,r)}}fo.DEFAULTS=Cn({},mr.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class yf extends hf{constructor(t,n){super(t,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,I.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,I.sources.USER)),this.quill.root.scrollTop=n;break}case"video":t=xf(t);case"formula":{if(!t)break;const n=this.quill.getSelection(!0);if(n!=null){const r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,I.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",I.sources.USER),this.quill.setSelection(r+2,I.sources.USER)}break}}this.textbox.value="",this.hide()}}function xf(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function Br(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(r=>{const u=document.createElement("option");r===n?u.setAttribute("selected","selected"):u.setAttribute("value",String(r)),e.appendChild(u)})}class rr extends Tn{static create(t){const n=super.create(t);return n.setAttribute("href",this.sanitize(t)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(t){return t.getAttribute("href")}static sanitize(t){return vf(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,n){t!==this.statics.blotName||!n?super.format(t,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}L(rr,"blotName","link"),L(rr,"tagName","A"),L(rr,"SANITIZED_URL","about:blank"),L(rr,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function vf(e,t){const n=document.createElement("a");n.href=e;const r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}const _f='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Af='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Ef='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',kf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',wf='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Cf='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Tf='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Sf='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',ea='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Df='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Nf='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Lf='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Ff='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',If='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Of='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',qf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Rf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Bf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Mf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',zf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Pf='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',$f='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',jf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Uf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Hf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Vf='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Gf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Wf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Zf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Kf='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Xf='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Yf='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Qf='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ta={align:{"":_f,center:Af,right:Ef,justify:kf},background:wf,blockquote:Cf,bold:Tf,clean:Sf,code:ea,"code-block":ea,color:Df,direction:{"":Nf,rtl:Lf},formula:Ff,header:{1:If,2:Of,3:qf,4:Rf,5:Bf,6:Mf},italic:zf,image:Pf,indent:{"+1":$f,"-1":jf},link:Uf,list:{bullet:Hf,check:Vf,ordered:Gf},script:{sub:Wf,super:Zf},strike:Kf,table:Xf,underline:Yf,video:Qf},Jf=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class fl extends yf{constructor(){super(...arguments);L(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,I.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(I.events.SELECTION_CHANGE,(n,r,u)=>{if(n!=null){if(n.length===0&&u===I.sources.USER){const[i,s]=this.quill.scroll.descendant(rr,n.index);if(i!=null){this.linkRange=new gr(n.index-s,i.length());const o=rr.formats(i.domNode);this.preview.textContent=o,this.preview.setAttribute("href",o),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}L(fl,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class hl extends fo{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=Jf),super(t,n),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),ta),this.buildPickers(t.container.querySelectorAll("select"),ta),this.tooltip=new fl(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{t.handlers.link.call(t,!r.format.link)}))}}hl.DEFAULTS=Cn({},fo.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,N.sources.USER)}}}}});const eh=hl;class Is extends Tn{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}L(Is,"blotName","bold"),L(Is,"tagName",["STRONG","B"]);const dl=Is;class Os extends dl{}L(Os,"blotName","italic"),L(Os,"tagName",["EM","I"]);const th=Os;class qs extends qe{static formats(t){return this.tagName.indexOf(t.tagName)+1}}L(qs,"blotName","header"),L(qs,"tagName",["H1","H2","H3","H4","H5","H6"]);const nh=qs,rh=iu({__name:"index",props:{value:{},onEnter:{type:Function},editorWrap:{},readOnly:{type:Boolean},ploherholder:{}},setup(e){const t=e,n=$u(null);let r=null;N.register({"modules/toolbar":lo,"themes/snow":eh,"formats/bold":dl,"formats/italic":th,"formats/header":nh,"modules/keyboard":su});function u(){var o;if(!r)return;const s=r.getText();return r.setText(""),(o=t.onEnter)==null||o.call(t,s),!1}const i={enter:{key:"Enter",SHORTKEY:!1,handler:u}};return zt(()=>{n.value&&(r=new N(n.value,{theme:"snow",modules:{toolbar:!1,keyboard:{bindings:i}},placeholder:t.ploherholder||"...",readOnly:t.readOnly}),r.setText(t.value||""))}),(s,o)=>($r(),Qs("div",{id:"editor",class:dc(["quill-editor-ref",t.editorWrap]),ref_key:"quillEditorRef",ref:n},null,2))}}),Em=Pa(rh,[["__scopeId","data-v-010ae708"]]),km="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAALg0lEQVR4nO1de7BWVRX/XW4gAgp4uejlQvYSFQWTJBG1soGafCUjPqiZmqymfARlmvYaMykxk0przCwTsYcYoeLjOgEZCnHzQYgicNHGNNJ4JBdB4MI9zdL1NV9fZ+291t7nfI/r95vZf33ffpy1ztlnPX5rH6COOuqoo446qgtvA/AZALMAPAhgHYBnAWwBsBHA0wAWAfgRgE8AGF7pBfcEDAFwCYB2AImxdQN4HMDFAAZV+kJqDYMBzADQGSD4tPYqgOsAHFDpC6sFfBzAvzMSfGmjcT8HoKHSF1mNGAjg9pwEX9oe4O2tDkYLgFVlEn7CbT2AUXUNvGHddCiF9gSAqwGcwcJr5ffFMADHAZgK4KcA/q4cj6ynMW9mJTQBeM4jpN0AfgHgCOPYxwNYwNaQa/x/AbiGt7+H+WZYCeAxAMsA3AbgawAm9zRr6i0AFnqEswLAUZHzvIcFmsW21QVgMYDpPUEZ13gu9jsAemc01z4A7sn4HdLJpm1NOnzvBrBHuLBuAF/McK6jFU9aTNsO4EsAGlEjaOC9VbqgaRnNMxTAzQD25ij84rYcwLtQA5jquIjbMhi/D4cvXimT4EutqvGocvxFWDxZQ/tHjn0qgLUGge3h7ekbAE7mO5gss/7sqB0O4Ew2fVcoLKrClkTrqEoc51j4RyLGPRxAm0Hw/+B9u9k4z2EAbgDwmmf8HQDGoUrQC8AxAC7nkHHagilqGYLBHH7erRT8ZjYh+0Ze08EA5imUTA5iRcMLXwfwN4VgzjKO3QjgfN5ztfb7j3l7yRKfBbDTMe8jfAOWFRTyncmPoUY4W432/klGx2pRzuGGD3jC5hR9LRvO5QyVxXKYrxz7HYrHvjTYRjGjcuBDDr9mSzkir/0iQsm0lfjMyhmKF1+h0d14GXu/5cQljjVdmefEzeyEJIGNgmauvb5NOQ45XLcAOAiVQS8O5qWtbROAAXlMOlRpd3c7HtFDHON/TCn8pWxpWUFPyYX8slwD4LcAJkSGPSRf4ZPIGP0dTlXxXTmbQ8mSxeJyvm71jP8CKykkxTiFWRVpN8tvAIwIlMtdwlopNJ4pfucRzioOBRcgxWRcWCD02cH7Kr17rBjn2CpKPdorAub4sDDeTr5pM8GnPIu/NeUlKP3Xhfsy8hvAd/QcZTihuD0P4BzDU9bIe37aWCciA7Sy7S4t+HvCYkMU0Cb0obiNFvTy+zbf0UlEo6dmrHLOO4QxiKMUjZ85Fkm/SQhRwB+EPvSYa6yS8wBsiBR8caNt9OcADvTMfZnQ/0ZEYiS79WmDt7PNnqUCFgt9Jnr6fZCjl1rBdnAyf5fy/7QDXOq43jOFfuRIRuGHwsC7FEnzEAU8JPShcIR0g9xtEPwWjooWBHmIMXVJ/NTTUtbxPuH/dD1RSfSXhIEpIokcFPCI0IcusDQqOtMTGCtuFD29if0Y6Ql60hhvGl3U/0TH/4LxUcfdPywnBSzzeM+9OX+82SCsu/hJ0dxw0wyxrS6+EQc7TFFi5AXjJ8Kgc5X9QxSwXOgzngNt6wyCTziZYkUTX7vkyaflAX4p/EbxsmC0R9rkIQp4VOizxij40m3ASvICbzGLIuZN2LELQh9hf+02UL5DFPBE5AW73gGzmBBsxWQhhKFpREgIwtsdXiJyVMDKQFtdmwx6iYNk1lgSeflfBbDNuLbQ+NLr9MC0Af+UswKeMl7gYo5ItjLFRdvv0UA6SQtbUxru0TOIwAnCoBSryVMBq5UCpHfC6Sn9JxrG2MvCbApke/gMAgrb74tASI7FkpwVsNZzUZvYVHTllHtztkpb7kQm7QUBVMMBnjCNL1TjxKHCgLRF5KmADofvcR3b3JbtwhINXcFPvhUXeeagyKoZA4XBKMmSpwKeE/rE0P/er1RAwoKcw8qzYLpjzA2h6UmpcI7YYhpIC3It5vmsrQnehxNj6+RtzEKf+a5jvG+FLFxKjtB+qYHLc5TSii8KfWIYZwMCFFBsyUxSztObGX9p42wLoEW+bvemDXavsr+UJSo2aceU9JFi+b54fMh2amnzlNvSKEeAkJ4oE97rMN/oJe3D7cqA1vVF5T8vC/+LITod4LB+znPMWdpeVD6JkmVE5rEZT0eYV6283Wgu7mUWhhTltFg/pWh2zAlW/vWOxJO1nuFQh6N2rHXxFwsD7VTW3LYY6YWJ0GLqCA4SxqTtrhhjeFt0rUNrBUrsDtrWTRjicGgeN1gJk/iFFqqAAQhHq2NLKUUDGwiuJ1eDC4S+94dcwDcdiyHTSwurh5oUtWCXHsBbAwKLLstJg8OEvlRGZUZ/zx1hrXC0eqgJO1OhmCCMSU6fCzEKgIMZGFRvPMWxIBLkFwLGPMHAZOhmq2qY0fr5gYP5QGGPPBXwVKQj+3+40SOkmwP26kbeL7U53k6mh/iCcdMVY1LgL08FLFESDNToq3iRdnCo1oomQ5zd5aFa8sarc1aAFEkICfj9F2uU28VcfvlZcbSDmpLWFnD2jiiEfzT0K5CJ81TAUqF/cPnUCOMFbmO711q50sBpQ4mTVNpeC6yOp/Rnngp4QehPN0wQtMUTpe1ZTmyHxHBmGUpSrY0IAHkpYIjDgXXROZ24MvKCS9lkWhwRSQ9Z48gL56WAc4S+RPUJxq+FQecYYj57mPQUkoe9wSj4dfxSHi/8TiSwvBQwV+hL1x6MNgdRq1DBrgloJUz/m8Z0QB9GOsqA0tpmdg4Lpurxwv+IBpmHAlocvgfRPYMhMZcnlQjrXoOw1gI4RZgvlIDbrExJUgFGHgqQntRNMfs/HHVWaWU4pxl5nPcUVU/2YQq5pQD8bgcB96RA6niIAkY7jAYNo9yJ+cLAkoXTh71WV3lTUtR2cdGE9kTFhEMZRC13YaKD1JWlAvrywX9pfbpiQhAF3CQMTkJ24UAu88nyJKsNnMDRHIwhUcepHCorBTQ4GNIJyy4aXxYGp2JnDcYqy0UTR9vOBXiWmNPJwlhkVGShgAb2V6T/b83qGBvpZbbRwCprYBtZop8kHr5OCD3lrECapUYBlKf4lWftmVXM7+cwr7TUjQL6MXd+u0L4DweeRtWPnccdgZXsaX1oGy0mLfh4qNpiFjXuFyb6feB4I/iYgG4hhEF5CCsKaUUpFlNotGeHMANH813vSygtD6zsD6qY74488XYCK+IZNg8vDDx+5hhHFNLC2RzpeAI0mbzVeZ0ZtJ8j0bGkEsd1FTEfbjFYWvd51ipVPWrashyOSvsfXOWYPJPSfAP24Sr1TkPoeoaCzXFRoPBnRxIIVGh2EHe7FFXtWeEMPqZMK5x5fAyaBtZzpzcGvq+C8XnP91tiWAw+HOk4UyKtPanwlks9eO0TtYMPeS37yeq9PKlDCqB9OuM5m/goyi7DXXl+QOWL66jlQlvP56LGkIajMUyRByDz9J2R8/RTshwKbXdRBXuICStVahJP9iuct66ajwKNU5SIdrEXS1uH9V1zheGw1kJ4gY41DsXpjrGr9pDuUwyHI63nrNAUpq8czPvncP7GwKlMd2w3HBVQyCvEHqA9yBEi8WXPKo5j+dssSZnbK8w3jUp0eFKu1M5GDYCOgv9zmQS/l5l40vEzWdHwC7GoqtnzfWjkfOyrOQp/Ib8Is8KlnvdXTX72ijj51xqyYYmyzVcm8rVe9LWKDwvVNAYy+2Gh4Xy2xNPaS84nDcFYxZf82mrpQz0a7M9m3uUcCl7KOdTHWBgPcQ3WTEXhHL0D7gw4dvgojtf4nLmOyLq0mseRhurF9UwFmcp3dgsLbyiz6ibz2aYrDUy6mMLwHoNRxmBbFu2vlQ4vVBsGO7JwWbfZGXzVqUeigSkovsr70LapVhytSmMIf48yK9N2Kx+iEXKO3Jsag9jZWxZwMno39yPqY/178xlgOFs/szhJs4ora4hX+k/mpz4I4PtMKKhbN3XUUUcddaCa8B8hGXUnr6S7PgAAAABJRU5ErkJggg==",uh=e=>{const t=typeof e;return t!=="function"&&t!=="object"||e===null},ih=e=>{const t=e.flags===""?void 0:e.flags;return new RegExp(e.source,t)},zr=(e,t=new WeakMap)=>{if(e===null||uh(e))return e;if(t.has(e))return t.get(e);if(e instanceof RegExp)return ih(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof Function)return e;if(e instanceof Map){const r=new Map;return t.set(e,r),e.forEach((u,i)=>{r.set(i,zr(u,t))}),r}if(e instanceof Set){const r=new Set;t.set(e,r);for(const u of e)r.add(zr(u,t));return r}if(Array.isArray(e)){const r=[];return t.set(e,r),e.forEach(u=>{r.push(zr(u,t))}),r}const n={};t.set(e,n);for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=zr(e[r],t));return n},pl=(e,t=200)=>{let n=0;return(...r)=>new Promise(u=>{n&&(clearTimeout(n),u("cancel")),n=window.setTimeout(()=>{e.apply(void 0,r),n=0,u("done")},t)})},Rs=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,na=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),gl=(e,t)=>{for(const n in t)na(t[n])&&na(e[n])?e[n]=gl(e[n],t[n]):e[n]=t[n];return e},M="md-editor",sh="https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.js",oh="https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.css",ie="https://cdnjs.cloudflare.com/ajax/libs",ah=`${ie}/highlight.js/11.8.0/highlight.min.js`,ra={main:`${ie}/prettier/2.8.0/standalone.js`,markdown:`${ie}/prettier/2.8.0/parser-markdown.js`},lh={css:`${ie}/cropperjs/1.5.13/cropper.min.css`,js:`${ie}/cropperjs/1.5.13/cropper.min.js`},ch=`${ie}/screenfull.js/5.2.0/screenfull.min.js`,fh=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","previewOnly","htmlPreview","catalog","github"],hh=["markdownTotal","=","scrollSwitch"],ua={"zh-CN":{toolbarTips:{bold:"",underline:"",italic:"",strikeThrough:"",title:"",sub:"",sup:"",quote:"",unorderedList:"",orderedList:"",task:"",codeRow:"",code:"",link:"",image:"",table:"",mermaid:"mermaid",katex:"katex",revoke:"",next:"",save:"",prettier:"",pageFullscreen:"",fullscreen:"",preview:"",previewOnly:"",htmlPreview:"html",catalog:"",github:""},titleItem:{h1:"",h2:"",h3:"",h4:"",h5:"",h6:""},imgTitleItem:{link:"",upload:"",clip2upload:""},linkModalTips:{linkTitle:"",imageTitle:"",descLabel:"",descLabelPlaceHolder:"...",urlLabel:"",urlLabelPlaceHolder:"...",buttonOK:""},clipModalTips:{title:"",buttonUpload:""},copyCode:{text:"",successTips:"",failTips:""},mermaid:{flow:"",sequence:"",gantt:"",class:"",state:"",pie:"",relationship:"",journey:""},katex:{inline:"",block:""},footer:{markdownTotal:"",scrollAuto:""}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},dh=`${ie}/mermaid/10.6.1/mermaid.esm.min.mjs`,ph={js:`${ie}/KaTeX/0.16.9/katex.min.js`,css:`${ie}/KaTeX/0.16.9/katex.min.css`},Bs={a11y:{light:`${ie}/highlight.js/11.8.0/styles/a11y-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/a11y-dark.min.css`},atom:{light:`${ie}/highlight.js/11.8.0/styles/atom-one-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/atom-one-dark.min.css`},github:{light:`${ie}/highlight.js/11.8.0/styles/github.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/github-dark.min.css`},gradient:{light:`${ie}/highlight.js/11.8.0/styles/gradient-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/gradient-dark.min.css`},kimbie:{light:`${ie}/highlight.js/11.8.0/styles/kimbie-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/kimbie-dark.min.css`},paraiso:{light:`${ie}/highlight.js/11.8.0/styles/paraiso-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${ie}/highlight.js/11.8.0/styles/qtcreator-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${ie}/highlight.js/11.8.0/styles/stackoverflow-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/stackoverflow-dark.min.css`}},kt={editorExtensions:{highlight:{js:ah,css:Bs},prettier:{standaloneJs:ra.main,parserMarkdownJs:ra.markdown},cropper:{...lh},iconfont:sh,iconfontClass:oh,screenfull:{js:ch},mermaid:{js:dh},katex:{...ph}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:(e,t)=>t,markdownItConfig:()=>{},markdownItPlugins:e=>e,iconfontType:"svg",mermaidConfig:e=>e};var gh=Object.defineProperty,mh=(e,t,n)=>t in e?gh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bh=(e,t,n)=>(mh(e,t+"",n),n);class yh{constructor(){bh(this,"pools",{})}remove(t,n,r){const i=this.pools[t]&&this.pools[t][n];i&&(this.pools[t][n]=i.filter(s=>s!==r))}clear(t){this.pools[t]={}}on(t,n){return this.pools[t]||(this.pools[t]={}),this.pools[t][n.name]||(this.pools[t][n.name]=[]),this.pools[t][n.name].push(n.callback),this.pools[t][n.name].includes(n.callback)}emit(t,n,...r){this.pools[t]||(this.pools[t]={});const i=this.pools[t][n];i&&i.forEach(s=>{try{s(...r)}catch(o){console.error(`${n} monitor event exception`,o)}})}}const Bt=new yh,xh="buildFinished",ps="catalogChanged",vh="pushCatalog",ml="rerender",_h="taskStateChanged",Pt=(e,t,n="")=>{var r;const u=document.getElementById(t.id);if(u)n!==""&&(Reflect.get(window,n)?(r=t.onload)==null||r.call(u,new Event("load")):t.onload&&u.addEventListener("load",t.onload));else{const i={...t};i.onload=null;const s=Eh(e,i);t.onload&&s.addEventListener("load",t.onload),document.head.appendChild(s)}},Ah=(e,t)=>{const n=document.getElementById(t.id);n==null||n.remove(),Pt(e,t)},Eh=(e,t)=>{const n=document.createElement(e);return Object.keys(t).forEach(r=>{t[r]!==void 0&&(n[r]=t[r])}),n},kh=e=>{if(!e)return e;const t=e.split(`
`),n=['<span rn-wrapper aria-hidden="true">'];return t.forEach(()=>{n.push("<span></span>")}),n.push("</span>"),`<span class="${M}-code-block">${e}</span>${n.join("")}`},wh=(()=>{let e=0;return t=>t+ ++e})();var _n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qu=function(t){return t.tagName==="IMG"},Ch=function(t){return NodeList.prototype.isPrototypeOf(t)},Uu=function(t){return t&&t.nodeType===1},ia=function(t){var n=t.currentSrc||t.src;return n.substr(-4).toLowerCase()===".svg"},sa=function(t){try{return Array.isArray(t)?t.filter(qu):Ch(t)?[].slice.call(t).filter(qu):Uu(t)?[t].filter(qu):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(qu):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Th=function(t){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=t,n},Sh=function(t){var n=t.getBoundingClientRect(),r=n.top,u=n.left,i=n.width,s=n.height,o=t.cloneNode(),a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return o.removeAttribute("id"),o.style.position="absolute",o.style.top=r+a+"px",o.style.left=u+l+"px",o.style.width=i+"px",o.style.height=s+"px",o.style.transform="",o},Zn=function(t,n){var r=_n({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(t,r);var u=document.createEvent("CustomEvent");return u.initCustomEvent(t,r.bubbles,r.cancelable,r.detail),u},Dh=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=window.Promise||function(B){function P(){}B(P,P)},u=function(B){var P=B.target;if(P===$){d();return}E.indexOf(P)!==-1&&v({target:P})},i=function(){if(!(C||!w.original)){var B=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(S-B)>D.scrollOffset&&setTimeout(d,150)}},s=function(B){var P=B.key||B.keyCode;(P==="Escape"||P==="Esc"||P===27)&&d()},o=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=B;if(B.background&&($.style.background=B.background),B.container&&B.container instanceof Object&&(P.container=_n({},D.container,B.container)),B.template){var K=Uu(B.template)?B.template:document.querySelector(B.template);P.template=K}return D=_n({},D,P),E.forEach(function(X){X.dispatchEvent(Zn("medium-zoom:update",{detail:{zoom:j}}))}),j},a=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(_n({},D,B))},l=function(){for(var B=arguments.length,P=Array(B),K=0;K<B;K++)P[K]=arguments[K];var X=P.reduce(function(V,ae){return[].concat(V,sa(ae))},[]);return X.filter(function(V){return E.indexOf(V)===-1}).forEach(function(V){E.push(V),V.classList.add("medium-zoom-image")}),k.forEach(function(V){var ae=V.type,se=V.listener,fe=V.options;X.forEach(function(Z){Z.addEventListener(ae,se,fe)})}),j},f=function(){for(var B=arguments.length,P=Array(B),K=0;K<B;K++)P[K]=arguments[K];w.zoomed&&d();var X=P.length>0?P.reduce(function(V,ae){return[].concat(V,sa(ae))},[]):E;return X.forEach(function(V){V.classList.remove("medium-zoom-image"),V.dispatchEvent(Zn("medium-zoom:detach",{detail:{zoom:j}}))}),E=E.filter(function(V){return X.indexOf(V)===-1}),j},h=function(B,P){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E.forEach(function(X){X.addEventListener("medium-zoom:"+B,P,K)}),k.push({type:"medium-zoom:"+B,listener:P,options:K}),j},p=function(B,P){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E.forEach(function(X){X.removeEventListener("medium-zoom:"+B,P,K)}),k=k.filter(function(X){return!(X.type==="medium-zoom:"+B&&X.listener.toString()===P.toString())}),j},m=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=B.target,K=function(){var V={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},ae=void 0,se=void 0;if(D.container)if(D.container instanceof Object)V=_n({},V,D.container),ae=V.width-V.left-V.right-D.margin*2,se=V.height-V.top-V.bottom-D.margin*2;else{var fe=Uu(D.container)?D.container:document.querySelector(D.container),Z=fe.getBoundingClientRect(),ft=Z.width,cn=Z.height,Te=Z.left,Nn=Z.top;V=_n({},V,{width:ft,height:cn,left:Te,top:Nn})}ae=ae||V.width-D.margin*2,se=se||V.height-D.margin*2;var Y=w.zoomedHd||w.original,Ln=ia(Y)?ae:Y.naturalWidth||ae,_r=ia(Y)?se:Y.naturalHeight||se,_e=Y.getBoundingClientRect(),Fn=_e.top,In=_e.left,Nt=_e.width,Lt=_e.height,On=Math.min(Math.max(Nt,Ln),ae)/Nt,fn=Math.min(Math.max(Lt,_r),se)/Lt,Ht=Math.min(On,fn),hn=(-In+(ae-Nt)/2+D.margin+V.left)/Ht,qn=(-Fn+(se-Lt)/2+D.margin+V.top)/Ht,Rn="scale("+Ht+") translate3d("+hn+"px, "+qn+"px, 0)";w.zoomed.style.transform=Rn,w.zoomedHd&&(w.zoomedHd.style.transform=Rn)};return new r(function(X){if(P&&E.indexOf(P)===-1){X(j);return}var V=function ft(){C=!1,w.zoomed.removeEventListener("transitionend",ft),w.original.dispatchEvent(Zn("medium-zoom:opened",{detail:{zoom:j}})),X(j)};if(w.zoomed){X(j);return}if(P)w.original=P;else if(E.length>0){var ae=E;w.original=ae[0]}else{X(j);return}if(w.original.dispatchEvent(Zn("medium-zoom:open",{detail:{zoom:j}})),S=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,C=!0,w.zoomed=Sh(w.original),document.body.appendChild($),D.template){var se=Uu(D.template)?D.template:document.querySelector(D.template);w.template=document.createElement("div"),w.template.appendChild(se.content.cloneNode(!0)),document.body.appendChild(w.template)}if(w.original.parentElement&&w.original.parentElement.tagName==="PICTURE"&&w.original.currentSrc&&(w.zoomed.src=w.original.currentSrc),document.body.appendChild(w.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),w.original.classList.add("medium-zoom-image--hidden"),w.zoomed.classList.add("medium-zoom-image--opened"),w.zoomed.addEventListener("click",d),w.zoomed.addEventListener("transitionend",V),w.original.getAttribute("data-zoom-src")){w.zoomedHd=w.zoomed.cloneNode(),w.zoomedHd.removeAttribute("srcset"),w.zoomedHd.removeAttribute("sizes"),w.zoomedHd.removeAttribute("loading"),w.zoomedHd.src=w.zoomed.getAttribute("data-zoom-src"),w.zoomedHd.onerror=function(){clearInterval(fe),console.warn("Unable to reach the zoom image target "+w.zoomedHd.src),w.zoomedHd=null,K()};var fe=setInterval(function(){w.zoomedHd.complete&&(clearInterval(fe),w.zoomedHd.classList.add("medium-zoom-image--opened"),w.zoomedHd.addEventListener("click",d),document.body.appendChild(w.zoomedHd),K())},10)}else if(w.original.hasAttribute("srcset")){w.zoomedHd=w.zoomed.cloneNode(),w.zoomedHd.removeAttribute("sizes"),w.zoomedHd.removeAttribute("loading");var Z=w.zoomedHd.addEventListener("load",function(){w.zoomedHd.removeEventListener("load",Z),w.zoomedHd.classList.add("medium-zoom-image--opened"),w.zoomedHd.addEventListener("click",d),document.body.appendChild(w.zoomedHd),K()})}else K()})},d=function(){return new r(function(B){if(C||!w.original){B(j);return}var P=function K(){w.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(w.zoomed),w.zoomedHd&&document.body.removeChild(w.zoomedHd),document.body.removeChild($),w.zoomed.classList.remove("medium-zoom-image--opened"),w.template&&document.body.removeChild(w.template),C=!1,w.zoomed.removeEventListener("transitionend",K),w.original.dispatchEvent(Zn("medium-zoom:closed",{detail:{zoom:j}})),w.original=null,w.zoomed=null,w.zoomedHd=null,w.template=null,B(j)};C=!0,document.body.classList.remove("medium-zoom--opened"),w.zoomed.style.transform="",w.zoomedHd&&(w.zoomedHd.style.transform=""),w.template&&(w.template.style.transition="opacity 150ms",w.template.style.opacity=0),w.original.dispatchEvent(Zn("medium-zoom:close",{detail:{zoom:j}})),w.zoomed.addEventListener("transitionend",P)})},v=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=B.target;return w.original?d():m({target:P})},y=function(){return D},x=function(){return E},A=function(){return w.original},E=[],k=[],C=!1,S=0,D=n,w={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?D=t:(t||typeof t=="string")&&l(t),D=_n({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},D);var $=Th(D.background);document.addEventListener("click",u),document.addEventListener("keyup",s),document.addEventListener("scroll",i),window.addEventListener("resize",d);var j={open:m,close:d,toggle:v,update:o,clone:a,attach:l,detach:f,on:h,off:p,getOptions:y,getImages:x,getZoomedImage:A};return j};function Nh(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",n==="top"&&r.firstChild?r.insertBefore(u,r.firstChild):r.appendChild(u),u.styleSheet?u.styleSheet.cssText=e:u.appendChild(document.createTextNode(e))}}var Lh=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Nh(Lh);var Fh=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(u){e.addRange(u)}),t&&t.focus()}},Ih=Fh,oa={"text/plain":"Text","text/html":"Url",default:"Text"},Oh="Copy to clipboard: #{key}, Enter";function qh(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Rh(e,t){var n,r,u,i,s,o,a=!1;t||(t={}),n=t.debug||!1;try{u=Ih(),i=document.createRange(),s=document.getSelection(),o=document.createElement("span"),o.textContent=e,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(f){if(f.stopPropagation(),t.format)if(f.preventDefault(),typeof f.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=oa[t.format]||oa.default;window.clipboardData.setData(h,e)}else f.clipboardData.clearData(),f.clipboardData.setData(t.format,e);t.onCopy&&(f.preventDefault(),t.onCopy(f.clipboardData))}),document.body.appendChild(o),i.selectNodeContents(o),s.addRange(i);var l=document.execCommand("copy");if(!l)throw new Error("copy command was unsuccessful");a=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),a=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),r=qh("message"in t?t.message:Oh),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),o&&document.body.removeChild(o),u()}return a}var Bh=Rh;const Mh=Xs(Bh),aa={};function zh(e){let t=aa[e];if(t)return t;t=aa[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);t.push(r)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}function br(e,t){typeof t!="string"&&(t=br.defaultChars);const n=zh(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(r){let u="";for(let i=0,s=r.length;i<s;i+=3){const o=parseInt(r.slice(i+1,i+3),16);if(o<128){u+=n[o];continue}if((o&224)===192&&i+3<s){const a=parseInt(r.slice(i+4,i+6),16);if((a&192)===128){const l=o<<6&1984|a&63;l<128?u+="":u+=String.fromCharCode(l),i+=3;continue}}if((o&240)===224&&i+6<s){const a=parseInt(r.slice(i+4,i+6),16),l=parseInt(r.slice(i+7,i+9),16);if((a&192)===128&&(l&192)===128){const f=o<<12&61440|a<<6&4032|l&63;f<2048||f>=55296&&f<=57343?u+="":u+=String.fromCharCode(f),i+=6;continue}}if((o&248)===240&&i+9<s){const a=parseInt(r.slice(i+4,i+6),16),l=parseInt(r.slice(i+7,i+9),16),f=parseInt(r.slice(i+10,i+12),16);if((a&192)===128&&(l&192)===128&&(f&192)===128){let h=o<<18&1835008|a<<12&258048|l<<6&4032|f&63;h<65536||h>1114111?u+="":(h-=65536,u+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),i+=9;continue}}u+=""}return u})}br.defaultChars=";/?:@&=+$,#";br.componentChars="";const la={};function Ph(e){let t=la[e];if(t)return t;t=la[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?t.push(r):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function au(e,t,n){typeof t!="string"&&(n=t,t=au.defaultChars),typeof n>"u"&&(n=!0);const r=Ph(t);let u="";for(let i=0,s=e.length;i<s;i++){const o=e.charCodeAt(i);if(n&&o===37&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3))){u+=e.slice(i,i+3),i+=2;continue}if(o<128){u+=r[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&i+1<s){const a=e.charCodeAt(i+1);if(a>=56320&&a<=57343){u+=encodeURIComponent(e[i]+e[i+1]),i++;continue}}u+="%EF%BF%BD";continue}u+=encodeURIComponent(e[i])}return u}au.defaultChars=";/?:@&=+$,-_.!~*'()#";au.componentChars="-_.!~*'()";function ho(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function ei(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const $h=/^([a-z0-9.+-]+:)/i,jh=/:[0-9]*$/,Uh=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Hh=["<",">",'"',"`"," ","\r",`
`,"	"],Vh=["{","}","|","\\","^","`"].concat(Hh),Gh=["'"].concat(Vh),ca=["%","/","?",";","#"].concat(Gh),fa=["/","?","#"],Wh=255,ha=/^[+a-z0-9A-Z_-]{0,63}$/,Zh=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,da={javascript:!0,"javascript:":!0},pa={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function po(e,t){if(e&&e instanceof ei)return e;const n=new ei;return n.parse(e,t),n}ei.prototype.parse=function(e,t){let n,r,u,i=e;if(i=i.trim(),!t&&e.split("#").length===1){const l=Uh.exec(i);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}let s=$h.exec(i);if(s&&(s=s[0],n=s.toLowerCase(),this.protocol=s,i=i.substr(s.length)),(t||s||i.match(/^\/\/[^@\/]+@[^@\/]+/))&&(u=i.substr(0,2)==="//",u&&!(s&&da[s])&&(i=i.substr(2),this.slashes=!0)),!da[s]&&(u||s&&!pa[s])){let l=-1;for(let d=0;d<fa.length;d++)r=i.indexOf(fa[d]),r!==-1&&(l===-1||r<l)&&(l=r);let f,h;l===-1?h=i.lastIndexOf("@"):h=i.lastIndexOf("@",l),h!==-1&&(f=i.slice(0,h),i=i.slice(h+1),this.auth=f),l=-1;for(let d=0;d<ca.length;d++)r=i.indexOf(ca[d]),r!==-1&&(l===-1||r<l)&&(l=r);l===-1&&(l=i.length),i[l-1]===":"&&l--;const p=i.slice(0,l);i=i.slice(l),this.parseHost(p),this.hostname=this.hostname||"";const m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m){const d=this.hostname.split(/\./);for(let v=0,y=d.length;v<y;v++){const x=d[v];if(x&&!x.match(ha)){let A="";for(let E=0,k=x.length;E<k;E++)x.charCodeAt(E)>127?A+="x":A+=x[E];if(!A.match(ha)){const E=d.slice(0,v),k=d.slice(v+1),C=x.match(Zh);C&&(E.push(C[1]),k.unshift(C[2])),k.length&&(i=k.join(".")+i),this.hostname=E.join(".");break}}}}this.hostname.length>Wh&&(this.hostname=""),m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const o=i.indexOf("#");o!==-1&&(this.hash=i.substr(o),i=i.slice(0,o));const a=i.indexOf("?");return a!==-1&&(this.search=i.substr(a),i=i.slice(0,a)),i&&(this.pathname=i),pa[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};ei.prototype.parseHost=function(e){let t=jh.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Kh=Object.freeze(Object.defineProperty({__proto__:null,decode:br,encode:au,format:ho,parse:po},Symbol.toStringTag,{value:"Module"})),bl=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,yl=/[\0-\x1F\x7F-\x9F]/,Xh=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,go=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,xl=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,vl=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Yh=Object.freeze(Object.defineProperty({__proto__:null,Any:bl,Cc:yl,Cf:Xh,P:go,S:xl,Z:vl},Symbol.toStringTag,{value:"Module"})),Qh=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Jh=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var gs;const ed=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),td=(gs=String.fromCodePoint)!==null&&gs!==void 0?gs:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function nd(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=ed.get(e))!==null&&t!==void 0?t:e}var ye;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(ye||(ye={}));const rd=32;var on;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(on||(on={}));function Ms(e){return e>=ye.ZERO&&e<=ye.NINE}function ud(e){return e>=ye.UPPER_A&&e<=ye.UPPER_F||e>=ye.LOWER_A&&e<=ye.LOWER_F}function id(e){return e>=ye.UPPER_A&&e<=ye.UPPER_Z||e>=ye.LOWER_A&&e<=ye.LOWER_Z||Ms(e)}function sd(e){return e===ye.EQUALS||id(e)}var ge;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ge||(ge={}));var nn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(nn||(nn={}));class od{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=ge.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=nn.Strict}startEntity(t){this.decodeMode=t,this.state=ge.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ge.EntityStart:return t.charCodeAt(n)===ye.NUM?(this.state=ge.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ge.NamedEntity,this.stateNamedEntity(t,n));case ge.NumericStart:return this.stateNumericStart(t,n);case ge.NumericDecimal:return this.stateNumericDecimal(t,n);case ge.NumericHex:return this.stateNumericHex(t,n);case ge.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|rd)===ye.LOWER_X?(this.state=ge.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ge.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,u){if(n!==r){const i=r-n;this.result=this.result*Math.pow(u,i)+parseInt(t.substr(n,i),u),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const u=t.charCodeAt(n);if(Ms(u)||ud(u))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(u,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const u=t.charCodeAt(n);if(Ms(u))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(u,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===ye.SEMI)this.consumed+=1;else if(this.decodeMode===nn.Strict)return 0;return this.emitCodePoint(nd(this.result),this.consumed),this.errors&&(t!==ye.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let u=r[this.treeIndex],i=(u&on.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=ad(r,u,this.treeIndex+Math.max(1,i),s),this.treeIndex<0)return this.result===0||this.decodeMode===nn.Attribute&&(i===0||sd(s))?0:this.emitNotTerminatedNamedEntity();if(u=r[this.treeIndex],i=(u&on.VALUE_LENGTH)>>14,i!==0){if(s===ye.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==nn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,u=(r[n]&on.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,u,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:u}=this;return this.emitCodePoint(n===1?u[t]&~on.VALUE_LENGTH:u[t+1],r),n===3&&this.emitCodePoint(u[t+2],r),r}end(){var t;switch(this.state){case ge.NamedEntity:return this.result!==0&&(this.decodeMode!==nn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ge.NumericDecimal:return this.emitNumericEntity(0,2);case ge.NumericHex:return this.emitNumericEntity(0,3);case ge.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ge.EntityStart:return 0}}}function _l(e){let t="";const n=new od(e,r=>t+=td(r));return function(u,i){let s=0,o=0;for(;(o=u.indexOf("&",o))>=0;){t+=u.slice(s,o),n.startEntity(i);const l=n.write(u,o+1);if(l<0){s=o+n.end();break}s=o+l,o=l===0?s+1:s}const a=t+u.slice(s);return t="",a}}function ad(e,t,n,r){const u=(t&on.BRANCH_LENGTH)>>7,i=t&on.JUMP_TABLE;if(u===0)return i!==0&&r===i?n:-1;if(i){const a=r-i;return a<0||a>=u?-1:e[n+a]-1}let s=n,o=s+u-1;for(;s<=o;){const a=s+o>>>1,l=e[a];if(l<r)s=a+1;else if(l>r)o=a-1;else return e[a+u]}return-1}const ld=_l(Qh);_l(Jh);function Al(e,t=nn.Legacy){return ld(e,t)}function cd(e){return Object.prototype.toString.call(e)}function mo(e){return cd(e)==="[object String]"}const fd=Object.prototype.hasOwnProperty;function hd(e,t){return fd.call(e,t)}function hi(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){e[r]=n[r]})}}),e}function El(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function bo(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function ti(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const kl=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,dd=/&([a-z#][a-z0-9]{1,31});/gi,pd=new RegExp(kl.source+"|"+dd.source,"gi"),gd=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function md(e,t){if(t.charCodeAt(0)===35&&gd.test(t)){const r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return bo(r)?ti(r):e}const n=Al(e);return n!==e?n:e}function bd(e){return e.indexOf("\\")<0?e:e.replace(kl,"$1")}function yr(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(pd,function(t,n,r){return n||md(t,r)})}const yd=/[&<>"]/,xd=/[&<>"]/g,vd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function _d(e){return vd[e]}function an(e){return yd.test(e)?e.replace(xd,_d):e}const Ad=/[.?*+^$[\]\\(){}|-]/g;function Ed(e){return e.replace(Ad,"\\$&")}function ne(e){switch(e){case 9:case 32:return!0}return!1}function Kr(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Xr(e){return go.test(e)||xl.test(e)}function Yr(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function di(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const kd={mdurl:Kh,ucmicro:Yh},wd=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:El,assign:hi,escapeHtml:an,escapeRE:Ed,fromCodePoint:ti,has:hd,isMdAsciiPunct:Yr,isPunctChar:Xr,isSpace:ne,isString:mo,isValidEntityCode:bo,isWhiteSpace:Kr,lib:kd,normalizeReference:di,unescapeAll:yr,unescapeMd:bd},Symbol.toStringTag,{value:"Module"}));function Cd(e,t,n){let r,u,i,s;const o=e.posMax,a=e.pos;for(e.pos=t+1,r=1;e.pos<o;){if(i=e.src.charCodeAt(e.pos),i===93&&(r--,r===0)){u=!0;break}if(s=e.pos,e.md.inline.skipToken(e),i===91){if(s===e.pos-1)r++;else if(n)return e.pos=a,-1}}let l=-1;return u&&(l=e.pos),e.pos=a,l}function Td(e,t,n){let r,u=t;const i={ok:!1,pos:0,str:""};if(e.charCodeAt(u)===60){for(u++;u<n;){if(r=e.charCodeAt(u),r===10||r===60)return i;if(r===62)return i.pos=u+1,i.str=yr(e.slice(t+1,u)),i.ok=!0,i;if(r===92&&u+1<n){u+=2;continue}u++}return i}let s=0;for(;u<n&&(r=e.charCodeAt(u),!(r===32||r<32||r===127));){if(r===92&&u+1<n){if(e.charCodeAt(u+1)===32)break;u+=2;continue}if(r===40&&(s++,s>32))return i;if(r===41){if(s===0)break;s--}u++}return t===u||s!==0||(i.str=yr(e.slice(t,u)),i.pos=u,i.ok=!0),i}function Sd(e,t,n,r){let u,i=t;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)s.str=r.str,s.marker=r.marker;else{if(i>=n)return s;let o=e.charCodeAt(i);if(o!==34&&o!==39&&o!==40)return s;t++,i++,o===40&&(o=41),s.marker=o}for(;i<n;){if(u=e.charCodeAt(i),u===s.marker)return s.pos=i+1,s.str+=yr(e.slice(t,i)),s.ok=!0,s;if(u===40&&s.marker===41)return s;u===92&&i+1<n&&i++,i++}return s.can_continue=!0,s.str+=yr(e.slice(t,i)),s}const Dd=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:Td,parseLinkLabel:Cd,parseLinkTitle:Sd},Symbol.toStringTag,{value:"Module"})),St={};St.code_inline=function(e,t,n,r,u){const i=e[t];return"<code"+u.renderAttrs(i)+">"+an(i.content)+"</code>"};St.code_block=function(e,t,n,r,u){const i=e[t];return"<pre"+u.renderAttrs(i)+"><code>"+an(e[t].content)+`</code></pre>
`};St.fence=function(e,t,n,r,u){const i=e[t],s=i.info?yr(i.info).trim():"";let o="",a="";if(s){const f=s.split(/(\s+)/g);o=f[0],a=f.slice(2).join("")}let l;if(n.highlight?l=n.highlight(i.content,o,a)||an(i.content):l=an(i.content),l.indexOf("<pre")===0)return l+`
`;if(s){const f=i.attrIndex("class"),h=i.attrs?i.attrs.slice():[];f<0?h.push(["class",n.langPrefix+o]):(h[f]=h[f].slice(),h[f][1]+=" "+n.langPrefix+o);const p={attrs:h};return`<pre><code${u.renderAttrs(p)}>${l}</code></pre>
`}return`<pre><code${u.renderAttrs(i)}>${l}</code></pre>
`};St.image=function(e,t,n,r,u){const i=e[t];return i.attrs[i.attrIndex("alt")][1]=u.renderInlineAsText(i.children,n,r),u.renderToken(e,t,n)};St.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};St.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};St.text=function(e,t){return an(e[t].content)};St.html_block=function(e,t){return e[t].content};St.html_inline=function(e,t){return e[t].content};function vr(){this.rules=hi({},St)}vr.prototype.renderAttrs=function(t){let n,r,u;if(!t.attrs)return"";for(u="",n=0,r=t.attrs.length;n<r;n++)u+=" "+an(t.attrs[n][0])+'="'+an(t.attrs[n][1])+'"';return u};vr.prototype.renderToken=function(t,n,r){const u=t[n];let i="";if(u.hidden)return"";u.block&&u.nesting!==-1&&n&&t[n-1].hidden&&(i+=`
`),i+=(u.nesting===-1?"</":"<")+u.tag,i+=this.renderAttrs(u),u.nesting===0&&r.xhtmlOut&&(i+=" /");let s=!1;if(u.block&&(s=!0,u.nesting===1&&n+1<t.length)){const o=t[n+1];(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===u.tag)&&(s=!1)}return i+=s?`>
`:">",i};vr.prototype.renderInline=function(e,t,n){let r="";const u=this.rules;for(let i=0,s=e.length;i<s;i++){const o=e[i].type;typeof u[o]<"u"?r+=u[o](e,i,t,n,this):r+=this.renderToken(e,i,t)}return r};vr.prototype.renderInlineAsText=function(e,t,n){let r="";for(let u=0,i=e.length;u<i;u++)switch(e[u].type){case"text":r+=e[u].content;break;case"image":r+=this.renderInlineAsText(e[u].children,t,n);break;case"html_inline":case"html_block":r+=e[u].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};vr.prototype.render=function(e,t,n){let r="";const u=this.rules;for(let i=0,s=e.length;i<s;i++){const o=e[i].type;o==="inline"?r+=this.renderInline(e[i].children,t,n):typeof u[o]<"u"?r+=u[o](e,i,t,n,this):r+=this.renderToken(e,i,t,n)}return r};function Re(){this.__rules__=[],this.__cache__=null}Re.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Re.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};Re.prototype.at=function(e,t,n){const r=this.__find__(e),u=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=u.alt||[],this.__cache__=null};Re.prototype.before=function(e,t,n,r){const u=this.__find__(e),i=r||{};if(u===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(u,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};Re.prototype.after=function(e,t,n,r){const u=this.__find__(e),i=r||{};if(u===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(u+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};Re.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};Re.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const u=this.__find__(r);if(u<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[u].enabled=!0,n.push(r)},this),this.__cache__=null,n};Re.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};Re.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const u=this.__find__(r);if(u<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[u].enabled=!1,n.push(r)},this),this.__cache__=null,n};Re.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function ct(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}ct.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,u=n.length;r<u;r++)if(n[r][0]===t)return r;return-1};ct.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};ct.prototype.attrSet=function(t,n){const r=this.attrIndex(t),u=[t,n];r<0?this.attrPush(u):this.attrs[r]=u};ct.prototype.attrGet=function(t){const n=this.attrIndex(t);let r=null;return n>=0&&(r=this.attrs[n][1]),r};ct.prototype.attrJoin=function(t,n){const r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function wl(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}wl.prototype.Token=ct;const Nd=/\r\n?|\n/g,Ld=/\0/g;function Fd(e){let t;t=e.src.replace(Nd,`
`),t=t.replace(Ld,""),e.src=t}function Id(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function Od(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const u=t[n];u.type==="inline"&&e.md.inline.parse(u.content,e.md,e.env,u.children)}}function qd(e){return/^<a[>\s]/i.test(e)}function Rd(e){return/^<\/a\s*>/i.test(e)}function Bd(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,r=t.length;n<r;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let u=t[n].children,i=0;for(let s=u.length-1;s>=0;s--){const o=u[s];if(o.type==="link_close"){for(s--;u[s].level!==o.level&&u[s].type!=="link_open";)s--;continue}if(o.type==="html_inline"&&(qd(o.content)&&i>0&&i--,Rd(o.content)&&i++),!(i>0)&&o.type==="text"&&e.md.linkify.test(o.content)){const a=o.content;let l=e.md.linkify.match(a);const f=[];let h=o.level,p=0;l.length>0&&l[0].index===0&&s>0&&u[s-1].type==="text_special"&&(l=l.slice(1));for(let m=0;m<l.length;m++){const d=l[m].url,v=e.md.normalizeLink(d);if(!e.md.validateLink(v))continue;let y=l[m].text;l[m].schema?l[m].schema==="mailto:"&&!/^mailto:/i.test(y)?y=e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):y=e.md.normalizeLinkText(y):y=e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,"");const x=l[m].index;if(x>p){const C=new e.Token("text","",0);C.content=a.slice(p,x),C.level=h,f.push(C)}const A=new e.Token("link_open","a",1);A.attrs=[["href",v]],A.level=h++,A.markup="linkify",A.info="auto",f.push(A);const E=new e.Token("text","",0);E.content=y,E.level=h,f.push(E);const k=new e.Token("link_close","a",-1);k.level=--h,k.markup="linkify",k.info="auto",f.push(k),p=l[m].lastIndex}if(p<a.length){const m=new e.Token("text","",0);m.content=a.slice(p),m.level=h,f.push(m)}t[n].children=u=El(u,s,f)}}}}const Cl=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Md=/\((c|tm|r)\)/i,zd=/\((c|tm|r)\)/ig,Pd={c:"",r:"",tm:""};function $d(e,t){return Pd[t.toLowerCase()]}function jd(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&(r.content=r.content.replace(zd,$d)),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function Ud(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&Cl.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function Hd(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(Md.test(e.tokens[t].content)&&jd(e.tokens[t].children),Cl.test(e.tokens[t].content)&&Ud(e.tokens[t].children))}const Vd=/['"]/,ga=/['"]/g,ma="";function Ru(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function Gd(e,t){let n;const r=[];for(let u=0;u<e.length;u++){const i=e[u],s=e[u].level;for(n=r.length-1;n>=0&&!(r[n].level<=s);n--);if(r.length=n+1,i.type!=="text")continue;let o=i.content,a=0,l=o.length;e:for(;a<l;){ga.lastIndex=a;const f=ga.exec(o);if(!f)break;let h=!0,p=!0;a=f.index+1;const m=f[0]==="'";let d=32;if(f.index-1>=0)d=o.charCodeAt(f.index-1);else for(n=u-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){d=e[n].content.charCodeAt(e[n].content.length-1);break}let v=32;if(a<l)v=o.charCodeAt(a);else for(n=u+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){v=e[n].content.charCodeAt(0);break}const y=Yr(d)||Xr(String.fromCharCode(d)),x=Yr(v)||Xr(String.fromCharCode(v)),A=Kr(d),E=Kr(v);if(E?h=!1:x&&(A||y||(h=!1)),A?p=!1:y&&(E||x||(p=!1)),v===34&&f[0]==='"'&&d>=48&&d<=57&&(p=h=!1),h&&p&&(h=y,p=x),!h&&!p){m&&(i.content=Ru(i.content,f.index,ma));continue}if(p)for(n=r.length-1;n>=0;n--){let k=r[n];if(r[n].level<s)break;if(k.single===m&&r[n].level===s){k=r[n];let C,S;m?(C=t.md.options.quotes[2],S=t.md.options.quotes[3]):(C=t.md.options.quotes[0],S=t.md.options.quotes[1]),i.content=Ru(i.content,f.index,S),e[k.token].content=Ru(e[k.token].content,k.pos,C),a+=S.length-1,k.token===u&&(a+=C.length-1),o=i.content,l=o.length,r.length=n;continue e}}h?r.push({token:u,pos:f.index,single:m,level:s}):p&&m&&(i.content=Ru(i.content,f.index,ma))}}}function Wd(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!Vd.test(e.tokens[t].content)||Gd(e.tokens[t].children,e)}function Zd(e){let t,n;const r=e.tokens,u=r.length;for(let i=0;i<u;i++){if(r[i].type!=="inline")continue;const s=r[i].children,o=s.length;for(t=0;t<o;t++)s[t].type==="text_special"&&(s[t].type="text");for(t=n=0;t<o;t++)s[t].type==="text"&&t+1<o&&s[t+1].type==="text"?s[t+1].content=s[t].content+s[t+1].content:(t!==n&&(s[n]=s[t]),n++);t!==n&&(s.length=n)}}const ms=[["normalize",Fd],["block",Id],["inline",Od],["linkify",Bd],["replacements",Hd],["smartquotes",Wd],["text_join",Zd]];function yo(){this.ruler=new Re;for(let e=0;e<ms.length;e++)this.ruler.push(ms[e][0],ms[e][1])}yo.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)};yo.prototype.State=wl;function Dt(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const u=this.src;for(let i=0,s=0,o=0,a=0,l=u.length,f=!1;s<l;s++){const h=u.charCodeAt(s);if(!f)if(ne(h)){o++,h===9?a+=4-a%4:a++;continue}else f=!0;(h===10||s===l-1)&&(h!==10&&s++,this.bMarks.push(i),this.eMarks.push(s),this.tShift.push(o),this.sCount.push(a),this.bsCount.push(0),f=!1,o=0,a=0,i=s+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Dt.prototype.push=function(e,t,n){const r=new ct(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Dt.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Dt.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Dt.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const r=this.src.charCodeAt(t);if(!ne(r))break}return t};Dt.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!ne(this.src.charCodeAt(--t)))return t+1;return t};Dt.prototype.skipChars=function(t,n){for(let r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};Dt.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Dt.prototype.getLines=function(t,n,r,u){if(t>=n)return"";const i=new Array(n-t);for(let s=0,o=t;o<n;o++,s++){let a=0;const l=this.bMarks[o];let f=l,h;for(o+1<n||u?h=this.eMarks[o]+1:h=this.eMarks[o];f<h&&a<r;){const p=this.src.charCodeAt(f);if(ne(p))p===9?a+=4-(a+this.bsCount[o])%4:a++;else if(f-l<this.tShift[o])a++;else break;f++}a>r?i[s]=new Array(a-r+1).join(" ")+this.src.slice(f,h):i[s]=this.src.slice(f,h)}return i.join("")};Dt.prototype.Token=ct;const Kd=65536;function bs(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function ba(e){const t=[],n=e.length;let r=0,u=e.charCodeAt(r),i=!1,s=0,o="";for(;r<n;)u===124&&(i?(o+=e.substring(s,r-1),s=r):(t.push(o+e.substring(s,r)),o="",s=r+1)),i=u===92,r++,u=e.charCodeAt(r);return t.push(o+e.substring(s)),t}function Xd(e,t,n,r){if(t+2>n)return!1;let u=t+1;if(e.sCount[u]<e.blkIndent||e.sCount[u]-e.blkIndent>=4)return!1;let i=e.bMarks[u]+e.tShift[u];if(i>=e.eMarks[u])return!1;const s=e.src.charCodeAt(i++);if(s!==124&&s!==45&&s!==58||i>=e.eMarks[u])return!1;const o=e.src.charCodeAt(i++);if(o!==124&&o!==45&&o!==58&&!ne(o)||s===45&&ne(o))return!1;for(;i<e.eMarks[u];){const k=e.src.charCodeAt(i);if(k!==124&&k!==45&&k!==58&&!ne(k))return!1;i++}let a=bs(e,t+1),l=a.split("|");const f=[];for(let k=0;k<l.length;k++){const C=l[k].trim();if(!C){if(k===0||k===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(C))return!1;C.charCodeAt(C.length-1)===58?f.push(C.charCodeAt(0)===58?"center":"right"):C.charCodeAt(0)===58?f.push("left"):f.push("")}if(a=bs(e,t).trim(),a.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;l=ba(a),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop();const h=l.length;if(h===0||h!==f.length)return!1;if(r)return!0;const p=e.parentType;e.parentType="table";const m=e.md.block.ruler.getRules("blockquote"),d=e.push("table_open","table",1),v=[t,0];d.map=v;const y=e.push("thead_open","thead",1);y.map=[t,t+1];const x=e.push("tr_open","tr",1);x.map=[t,t+1];for(let k=0;k<l.length;k++){const C=e.push("th_open","th",1);f[k]&&(C.attrs=[["style","text-align:"+f[k]]]);const S=e.push("inline","",0);S.content=l[k].trim(),S.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let A,E=0;for(u=t+2;u<n&&!(e.sCount[u]<e.blkIndent);u++){let k=!1;for(let S=0,D=m.length;S<D;S++)if(m[S](e,u,n,!0)){k=!0;break}if(k||(a=bs(e,u).trim(),!a)||e.sCount[u]-e.blkIndent>=4||(l=ba(a),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop(),E+=h-l.length,E>Kd))break;if(u===t+2){const S=e.push("tbody_open","tbody",1);S.map=A=[t+2,0]}const C=e.push("tr_open","tr",1);C.map=[u,u+1];for(let S=0;S<h;S++){const D=e.push("td_open","td",1);f[S]&&(D.attrs=[["style","text-align:"+f[S]]]);const w=e.push("inline","",0);w.content=l[S]?l[S].trim():"",w.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return A&&(e.push("tbody_close","tbody",-1),A[1]=u),e.push("table_close","table",-1),v[1]=u,e.parentType=p,e.line=u,!0}function Yd(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,u=r;for(;r<n;){if(e.isEmpty(r)){r++;continue}if(e.sCount[r]-e.blkIndent>=4){r++,u=r;continue}break}e.line=u;const i=e.push("code_block","code",0);return i.content=e.getLines(t,u,4+e.blkIndent,!1)+`
`,i.map=[t,e.line],!0}function Qd(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||u+3>i)return!1;const s=e.src.charCodeAt(u);if(s!==126&&s!==96)return!1;let o=u;u=e.skipChars(u,s);let a=u-o;if(a<3)return!1;const l=e.src.slice(o,u),f=e.src.slice(u,i);if(s===96&&f.indexOf(String.fromCharCode(s))>=0)return!1;if(r)return!0;let h=t,p=!1;for(;h++,!(h>=n||(u=o=e.bMarks[h]+e.tShift[h],i=e.eMarks[h],u<i&&e.sCount[h]<e.blkIndent));)if(e.src.charCodeAt(u)===s&&!(e.sCount[h]-e.blkIndent>=4)&&(u=e.skipChars(u,s),!(u-o<a)&&(u=e.skipSpaces(u),!(u<i)))){p=!0;break}a=e.sCount[t],e.line=h+(p?1:0);const m=e.push("fence","code",0);return m.info=f,m.content=e.getLines(t+1,h,a,!0),m.markup=l,m.map=[t,e.line],!0}function Jd(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];const s=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(u)!==62)return!1;if(r)return!0;const o=[],a=[],l=[],f=[],h=e.md.block.ruler.getRules("blockquote"),p=e.parentType;e.parentType="blockquote";let m=!1,d;for(d=t;d<n;d++){const E=e.sCount[d]<e.blkIndent;if(u=e.bMarks[d]+e.tShift[d],i=e.eMarks[d],u>=i)break;if(e.src.charCodeAt(u++)===62&&!E){let C=e.sCount[d]+1,S,D;e.src.charCodeAt(u)===32?(u++,C++,D=!1,S=!0):e.src.charCodeAt(u)===9?(S=!0,(e.bsCount[d]+C)%4===3?(u++,C++,D=!1):D=!0):S=!1;let w=C;for(o.push(e.bMarks[d]),e.bMarks[d]=u;u<i;){const $=e.src.charCodeAt(u);if(ne($))$===9?w+=4-(w+e.bsCount[d]+(D?1:0))%4:w++;else break;u++}m=u>=i,a.push(e.bsCount[d]),e.bsCount[d]=e.sCount[d]+1+(S?1:0),l.push(e.sCount[d]),e.sCount[d]=w-C,f.push(e.tShift[d]),e.tShift[d]=u-e.bMarks[d];continue}if(m)break;let k=!1;for(let C=0,S=h.length;C<S;C++)if(h[C](e,d,n,!0)){k=!0;break}if(k){e.lineMax=d,e.blkIndent!==0&&(o.push(e.bMarks[d]),a.push(e.bsCount[d]),f.push(e.tShift[d]),l.push(e.sCount[d]),e.sCount[d]-=e.blkIndent);break}o.push(e.bMarks[d]),a.push(e.bsCount[d]),f.push(e.tShift[d]),l.push(e.sCount[d]),e.sCount[d]=-1}const v=e.blkIndent;e.blkIndent=0;const y=e.push("blockquote_open","blockquote",1);y.markup=">";const x=[t,0];y.map=x,e.md.block.tokenize(e,t,d);const A=e.push("blockquote_close","blockquote",-1);A.markup=">",e.lineMax=s,e.parentType=p,x[1]=e.line;for(let E=0;E<f.length;E++)e.bMarks[E+t]=o[E],e.tShift[E+t]=f[E],e.sCount[E+t]=l[E],e.bsCount[E+t]=a[E];return e.blkIndent=v,!0}function e1(e,t,n,r){const u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let i=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(i++);if(s!==42&&s!==45&&s!==95)return!1;let o=1;for(;i<u;){const l=e.src.charCodeAt(i++);if(l!==s&&!ne(l))return!1;l===s&&o++}if(o<3)return!1;if(r)return!0;e.line=t+1;const a=e.push("hr","hr",0);return a.map=[t,e.line],a.markup=Array(o+1).join(String.fromCharCode(s)),!0}function ya(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const u=e.src.charCodeAt(r++);if(u!==42&&u!==45&&u!==43)return-1;if(r<n){const i=e.src.charCodeAt(r);if(!ne(i))return-1}return r}function xa(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let u=n;if(u+1>=r)return-1;let i=e.src.charCodeAt(u++);if(i<48||i>57)return-1;for(;;){if(u>=r)return-1;if(i=e.src.charCodeAt(u++),i>=48&&i<=57){if(u-n>=10)return-1;continue}if(i===41||i===46)break;return-1}return u<r&&(i=e.src.charCodeAt(u),!ne(i))?-1:u}function t1(e,t){const n=e.level+2;for(let r=t+2,u=e.tokens.length-2;r<u;r++)e.tokens[r].level===n&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}function n1(e,t,n,r){let u,i,s,o,a=t,l=!0;if(e.sCount[a]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[a]-e.listIndent>=4&&e.sCount[a]<e.blkIndent)return!1;let f=!1;r&&e.parentType==="paragraph"&&e.sCount[a]>=e.blkIndent&&(f=!0);let h,p,m;if((m=xa(e,a))>=0){if(h=!0,s=e.bMarks[a]+e.tShift[a],p=Number(e.src.slice(s,m-1)),f&&p!==1)return!1}else if((m=ya(e,a))>=0)h=!1;else return!1;if(f&&e.skipSpaces(m)>=e.eMarks[a])return!1;if(r)return!0;const d=e.src.charCodeAt(m-1),v=e.tokens.length;h?(o=e.push("ordered_list_open","ol",1),p!==1&&(o.attrs=[["start",p]])):o=e.push("bullet_list_open","ul",1);const y=[a,0];o.map=y,o.markup=String.fromCharCode(d);let x=!1;const A=e.md.block.ruler.getRules("list"),E=e.parentType;for(e.parentType="list";a<n;){i=m,u=e.eMarks[a];const k=e.sCount[a]+m-(e.bMarks[a]+e.tShift[a]);let C=k;for(;i<u;){const X=e.src.charCodeAt(i);if(X===9)C+=4-(C+e.bsCount[a])%4;else if(X===32)C++;else break;i++}const S=i;let D;S>=u?D=1:D=C-k,D>4&&(D=1);const w=k+D;o=e.push("list_item_open","li",1),o.markup=String.fromCharCode(d);const $=[a,0];o.map=$,h&&(o.info=e.src.slice(s,m-1));const j=e.tight,W=e.tShift[a],B=e.sCount[a],P=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=w,e.tight=!0,e.tShift[a]=S-e.bMarks[a],e.sCount[a]=C,S>=u&&e.isEmpty(a+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,a,n,!0),(!e.tight||x)&&(l=!1),x=e.line-a>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=P,e.tShift[a]=W,e.sCount[a]=B,e.tight=j,o=e.push("list_item_close","li",-1),o.markup=String.fromCharCode(d),a=e.line,$[1]=a,a>=n||e.sCount[a]<e.blkIndent||e.sCount[a]-e.blkIndent>=4)break;let K=!1;for(let X=0,V=A.length;X<V;X++)if(A[X](e,a,n,!0)){K=!0;break}if(K)break;if(h){if(m=xa(e,a),m<0)break;s=e.bMarks[a]+e.tShift[a]}else if(m=ya(e,a),m<0)break;if(d!==e.src.charCodeAt(m-1))break}return h?o=e.push("ordered_list_close","ol",-1):o=e.push("bullet_list_close","ul",-1),o.markup=String.fromCharCode(d),y[1]=a,e.line=a,e.parentType=E,l&&t1(e,v),!0}function r1(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],s=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(u)!==91)return!1;function o(A){const E=e.lineMax;if(A>=E||e.isEmpty(A))return null;let k=!1;if(e.sCount[A]-e.blkIndent>3&&(k=!0),e.sCount[A]<0&&(k=!0),!k){const D=e.md.block.ruler.getRules("reference"),w=e.parentType;e.parentType="reference";let $=!1;for(let j=0,W=D.length;j<W;j++)if(D[j](e,A,E,!0)){$=!0;break}if(e.parentType=w,$)return null}const C=e.bMarks[A]+e.tShift[A],S=e.eMarks[A];return e.src.slice(C,S+1)}let a=e.src.slice(u,i+1);i=a.length;let l=-1;for(u=1;u<i;u++){const A=a.charCodeAt(u);if(A===91)return!1;if(A===93){l=u;break}else if(A===10){const E=o(s);E!==null&&(a+=E,i=a.length,s++)}else if(A===92&&(u++,u<i&&a.charCodeAt(u)===10)){const E=o(s);E!==null&&(a+=E,i=a.length,s++)}}if(l<0||a.charCodeAt(l+1)!==58)return!1;for(u=l+2;u<i;u++){const A=a.charCodeAt(u);if(A===10){const E=o(s);E!==null&&(a+=E,i=a.length,s++)}else if(!ne(A))break}const f=e.md.helpers.parseLinkDestination(a,u,i);if(!f.ok)return!1;const h=e.md.normalizeLink(f.str);if(!e.md.validateLink(h))return!1;u=f.pos;const p=u,m=s,d=u;for(;u<i;u++){const A=a.charCodeAt(u);if(A===10){const E=o(s);E!==null&&(a+=E,i=a.length,s++)}else if(!ne(A))break}let v=e.md.helpers.parseLinkTitle(a,u,i);for(;v.can_continue;){const A=o(s);if(A===null)break;a+=A,u=i,i=a.length,s++,v=e.md.helpers.parseLinkTitle(a,u,i,v)}let y;for(u<i&&d!==u&&v.ok?(y=v.str,u=v.pos):(y="",u=p,s=m);u<i;){const A=a.charCodeAt(u);if(!ne(A))break;u++}if(u<i&&a.charCodeAt(u)!==10&&y)for(y="",u=p,s=m;u<i;){const A=a.charCodeAt(u);if(!ne(A))break;u++}if(u<i&&a.charCodeAt(u)!==10)return!1;const x=di(a.slice(1,l));return x?(r||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[x]>"u"&&(e.env.references[x]={title:y,href:h}),e.line=s),!0):!1}const u1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],i1="[a-zA-Z_:][a-zA-Z0-9:._-]*",s1="[^\"'=<>`\\x00-\\x20]+",o1="'[^']*'",a1='"[^"]*"',l1="(?:"+s1+"|"+o1+"|"+a1+")",c1="(?:\\s+"+i1+"(?:\\s*=\\s*"+l1+")?)",Tl="<[A-Za-z][A-Za-z0-9\\-]*"+c1+"*\\s*\\/?>",Sl="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",f1="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",h1="<[?][\\s\\S]*?[?]>",d1="<![A-Za-z][^>]*>",p1="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",g1=new RegExp("^(?:"+Tl+"|"+Sl+"|"+f1+"|"+h1+"|"+d1+"|"+p1+")"),m1=new RegExp("^(?:"+Tl+"|"+Sl+")"),Kn=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+u1.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(m1.source+"\\s*$"),/^$/,!1]];function b1(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(u)!==60)return!1;let s=e.src.slice(u,i),o=0;for(;o<Kn.length&&!Kn[o][0].test(s);o++);if(o===Kn.length)return!1;if(r)return Kn[o][2];let a=t+1;if(!Kn[o][1].test(s)){for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(u=e.bMarks[a]+e.tShift[a],i=e.eMarks[a],s=e.src.slice(u,i),Kn[o][1].test(s)){s.length!==0&&a++;break}}e.line=a;const l=e.push("html_block","",0);return l.map=[t,a],l.content=e.getLines(t,a,e.blkIndent,!0),!0}function y1(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.src.charCodeAt(u);if(s!==35||u>=i)return!1;let o=1;for(s=e.src.charCodeAt(++u);s===35&&u<i&&o<=6;)o++,s=e.src.charCodeAt(++u);if(o>6||u<i&&!ne(s))return!1;if(r)return!0;i=e.skipSpacesBack(i,u);const a=e.skipCharsBack(i,35,u);a>u&&ne(e.src.charCodeAt(a-1))&&(i=a),e.line=t+1;const l=e.push("heading_open","h"+String(o),1);l.markup="########".slice(0,o),l.map=[t,e.line];const f=e.push("inline","",0);f.content=e.src.slice(u,i).trim(),f.map=[t,e.line],f.children=[];const h=e.push("heading_close","h"+String(o),-1);return h.markup="########".slice(0,o),!0}function x1(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const u=e.parentType;e.parentType="paragraph";let i=0,s,o=t+1;for(;o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3)continue;if(e.sCount[o]>=e.blkIndent){let m=e.bMarks[o]+e.tShift[o];const d=e.eMarks[o];if(m<d&&(s=e.src.charCodeAt(m),(s===45||s===61)&&(m=e.skipChars(m,s),m=e.skipSpaces(m),m>=d))){i=s===61?1:2;break}}if(e.sCount[o]<0)continue;let p=!1;for(let m=0,d=r.length;m<d;m++)if(r[m](e,o,n,!0)){p=!0;break}if(p)break}if(!i)return!1;const a=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o+1;const l=e.push("heading_open","h"+String(i),1);l.markup=String.fromCharCode(s),l.map=[t,e.line];const f=e.push("inline","",0);f.content=a,f.map=[t,e.line-1],f.children=[];const h=e.push("heading_close","h"+String(i),-1);return h.markup=String.fromCharCode(s),e.parentType=u,!0}function v1(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),u=e.parentType;let i=t+1;for(e.parentType="paragraph";i<n&&!e.isEmpty(i);i++){if(e.sCount[i]-e.blkIndent>3||e.sCount[i]<0)continue;let l=!1;for(let f=0,h=r.length;f<h;f++)if(r[f](e,i,n,!0)){l=!0;break}if(l)break}const s=e.getLines(t,i,e.blkIndent,!1).trim();e.line=i;const o=e.push("paragraph_open","p",1);o.map=[t,e.line];const a=e.push("inline","",0);return a.content=s,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=u,!0}const Bu=[["table",Xd,["paragraph","reference"]],["code",Yd],["fence",Qd,["paragraph","reference","blockquote","list"]],["blockquote",Jd,["paragraph","reference","blockquote","list"]],["hr",e1,["paragraph","reference","blockquote","list"]],["list",n1,["paragraph","reference","blockquote"]],["reference",r1],["html_block",b1,["paragraph","reference","blockquote"]],["heading",y1,["paragraph","reference","blockquote"]],["lheading",x1],["paragraph",v1]];function pi(){this.ruler=new Re;for(let e=0;e<Bu.length;e++)this.ruler.push(Bu[e][0],Bu[e][1],{alt:(Bu[e][2]||[]).slice()})}pi.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),u=r.length,i=e.md.options.maxNesting;let s=t,o=!1;for(;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n||e.sCount[s]<e.blkIndent));){if(e.level>=i){e.line=n;break}const a=e.line;let l=!1;for(let f=0;f<u;f++)if(l=r[f](e,s,n,!1),l){if(a>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!o,e.isEmpty(e.line-1)&&(o=!0),s=e.line,s<n&&e.isEmpty(s)&&(o=!0,s++,e.line=s)}};pi.prototype.parse=function(e,t,n,r){if(!e)return;const u=new this.State(e,t,n,r);this.tokenize(u,u.line,u.lineMax)};pi.prototype.State=Dt;function lu(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}lu.prototype.pushPending=function(){const e=new ct("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};lu.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new ct(e,t,n);let u=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],u={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(u),r};lu.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),u=e>0?this.src.charCodeAt(e-1):32;let i=e;for(;i<n&&this.src.charCodeAt(i)===r;)i++;const s=i-e,o=i<n?this.src.charCodeAt(i):32,a=Yr(u)||Xr(String.fromCharCode(u)),l=Yr(o)||Xr(String.fromCharCode(o)),f=Kr(u),h=Kr(o),p=!h&&(!l||f||a),m=!f&&(!a||h||l);return{can_open:p&&(t||!m||a),can_close:m&&(t||!p||l),length:s}};lu.prototype.Token=ct;function _1(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function A1(e,t){let n=e.pos;for(;n<e.posMax&&!_1(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const E1=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function k1(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,r=e.posMax;if(n+3>r||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const u=e.pending.match(E1);if(!u)return!1;const i=u[1],s=e.md.linkify.matchAtStart(e.src.slice(n-i.length));if(!s)return!1;let o=s.url;if(o.length<=i.length)return!1;o=o.replace(/\*+$/,"");const a=e.md.normalizeLink(o);if(!e.md.validateLink(a))return!1;if(!t){e.pending=e.pending.slice(0,-i.length);const l=e.push("link_open","a",1);l.attrs=[["href",a]],l.markup="linkify",l.info="auto";const f=e.push("text","",0);f.content=e.md.normalizeLinkText(o);const h=e.push("link_close","a",-1);h.markup="linkify",h.info="auto"}return e.pos+=o.length-i.length,!0}function w1(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const r=e.pending.length-1,u=e.posMax;if(!t)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){let i=r-1;for(;i>=1&&e.pending.charCodeAt(i-1)===32;)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<u&&ne(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const xo=[];for(let e=0;e<256;e++)xo.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){xo[e.charCodeAt(0)]=1});function C1(e,t){let n=e.pos;const r=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let u=e.src.charCodeAt(n);if(u===10){for(t||e.push("hardbreak","br",0),n++;n<r&&(u=e.src.charCodeAt(n),!!ne(u));)n++;return e.pos=n,!0}let i=e.src[n];if(u>=55296&&u<=56319&&n+1<r){const o=e.src.charCodeAt(n+1);o>=56320&&o<=57343&&(i+=e.src[n+1],n++)}const s="\\"+i;if(!t){const o=e.push("text_special","",0);u<256&&xo[u]!==0?o.content=i:o.content=s,o.markup=s,o.info="escape"}return e.pos=n+1,!0}function T1(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const u=n;n++;const i=e.posMax;for(;n<i&&e.src.charCodeAt(n)===96;)n++;const s=e.src.slice(u,n),o=s.length;if(e.backticksScanned&&(e.backticks[o]||0)<=u)return t||(e.pending+=s),e.pos+=o,!0;let a=n,l;for(;(l=e.src.indexOf("`",a))!==-1;){for(a=l+1;a<i&&e.src.charCodeAt(a)===96;)a++;const f=a-l;if(f===o){if(!t){const h=e.push("code_inline","code",0);h.markup=s,h.content=e.src.slice(n,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=a,!0}e.backticks[f]=l}return e.backticksScanned=!0,t||(e.pending+=s),e.pos+=o,!0}function S1(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==126)return!1;const u=e.scanDelims(e.pos,!0);let i=u.length;const s=String.fromCharCode(r);if(i<2)return!1;let o;i%2&&(o=e.push("text","",0),o.content=s,i--);for(let a=0;a<i;a+=2)o=e.push("text","",0),o.content=s+s,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:u.can_open,close:u.can_close});return e.pos+=u.length,!0}function va(e,t){let n;const r=[],u=t.length;for(let i=0;i<u;i++){const s=t[i];if(s.marker!==126||s.end===-1)continue;const o=t[s.end];n=e.tokens[s.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[o.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[o.token-1].type==="text"&&e.tokens[o.token-1].content==="~"&&r.push(o.token-1)}for(;r.length;){const i=r.pop();let s=i+1;for(;s<e.tokens.length&&e.tokens[s].type==="s_close";)s++;s--,i!==s&&(n=e.tokens[s],e.tokens[s]=e.tokens[i],e.tokens[i]=n)}}function D1(e){const t=e.tokens_meta,n=e.tokens_meta.length;va(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&va(e,t[r].delimiters)}const Dl={tokenize:S1,postProcess:D1};function N1(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==95&&r!==42)return!1;const u=e.scanDelims(e.pos,r===42);for(let i=0;i<u.length;i++){const s=e.push("text","",0);s.content=String.fromCharCode(r),e.delimiters.push({marker:r,length:u.length,token:e.tokens.length-1,end:-1,open:u.can_open,close:u.can_close})}return e.pos+=u.length,!0}function _a(e,t){const n=t.length;for(let r=n-1;r>=0;r--){const u=t[r];if(u.marker!==95&&u.marker!==42||u.end===-1)continue;const i=t[u.end],s=r>0&&t[r-1].end===u.end+1&&t[r-1].marker===u.marker&&t[r-1].token===u.token-1&&t[u.end+1].token===i.token+1,o=String.fromCharCode(u.marker),a=e.tokens[u.token];a.type=s?"strong_open":"em_open",a.tag=s?"strong":"em",a.nesting=1,a.markup=s?o+o:o,a.content="";const l=e.tokens[i.token];l.type=s?"strong_close":"em_close",l.tag=s?"strong":"em",l.nesting=-1,l.markup=s?o+o:o,l.content="",s&&(e.tokens[t[r-1].token].content="",e.tokens[t[u.end+1].token].content="",r--)}}function L1(e){const t=e.tokens_meta,n=e.tokens_meta.length;_a(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&_a(e,t[r].delimiters)}const Nl={tokenize:N1,postProcess:L1};function F1(e,t){let n,r,u,i,s="",o="",a=e.pos,l=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const f=e.pos,h=e.posMax,p=e.pos+1,m=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(m<0)return!1;let d=m+1;if(d<h&&e.src.charCodeAt(d)===40){for(l=!1,d++;d<h&&(n=e.src.charCodeAt(d),!(!ne(n)&&n!==10));d++);if(d>=h)return!1;if(a=d,u=e.md.helpers.parseLinkDestination(e.src,d,e.posMax),u.ok){for(s=e.md.normalizeLink(u.str),e.md.validateLink(s)?d=u.pos:s="",a=d;d<h&&(n=e.src.charCodeAt(d),!(!ne(n)&&n!==10));d++);if(u=e.md.helpers.parseLinkTitle(e.src,d,e.posMax),d<h&&a!==d&&u.ok)for(o=u.str,d=u.pos;d<h&&(n=e.src.charCodeAt(d),!(!ne(n)&&n!==10));d++);}(d>=h||e.src.charCodeAt(d)!==41)&&(l=!0),d++}if(l){if(typeof e.env.references>"u")return!1;if(d<h&&e.src.charCodeAt(d)===91?(a=d+1,d=e.md.helpers.parseLinkLabel(e,d),d>=0?r=e.src.slice(a,d++):d=m+1):d=m+1,r||(r=e.src.slice(p,m)),i=e.env.references[di(r)],!i)return e.pos=f,!1;s=i.href,o=i.title}if(!t){e.pos=p,e.posMax=m;const v=e.push("link_open","a",1),y=[["href",s]];v.attrs=y,o&&y.push(["title",o]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=d,e.posMax=h,!0}function I1(e,t){let n,r,u,i,s,o,a,l,f="";const h=e.pos,p=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const m=e.pos+2,d=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(d<0)return!1;if(i=d+1,i<p&&e.src.charCodeAt(i)===40){for(i++;i<p&&(n=e.src.charCodeAt(i),!(!ne(n)&&n!==10));i++);if(i>=p)return!1;for(l=i,o=e.md.helpers.parseLinkDestination(e.src,i,e.posMax),o.ok&&(f=e.md.normalizeLink(o.str),e.md.validateLink(f)?i=o.pos:f=""),l=i;i<p&&(n=e.src.charCodeAt(i),!(!ne(n)&&n!==10));i++);if(o=e.md.helpers.parseLinkTitle(e.src,i,e.posMax),i<p&&l!==i&&o.ok)for(a=o.str,i=o.pos;i<p&&(n=e.src.charCodeAt(i),!(!ne(n)&&n!==10));i++);else a="";if(i>=p||e.src.charCodeAt(i)!==41)return e.pos=h,!1;i++}else{if(typeof e.env.references>"u")return!1;if(i<p&&e.src.charCodeAt(i)===91?(l=i+1,i=e.md.helpers.parseLinkLabel(e,i),i>=0?u=e.src.slice(l,i++):i=d+1):i=d+1,u||(u=e.src.slice(m,d)),s=e.env.references[di(u)],!s)return e.pos=h,!1;f=s.href,a=s.title}if(!t){r=e.src.slice(m,d);const v=[];e.md.inline.parse(r,e.md,e.env,v);const y=e.push("image","img",0),x=[["src",f],["alt",""]];y.attrs=x,y.children=v,y.content=r,a&&x.push(["title",a])}return e.pos=i,e.posMax=p,!0}const O1=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,q1=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function R1(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const r=e.pos,u=e.posMax;for(;;){if(++n>=u)return!1;const s=e.src.charCodeAt(n);if(s===60)return!1;if(s===62)break}const i=e.src.slice(r+1,n);if(q1.test(i)){const s=e.md.normalizeLink(i);if(!e.md.validateLink(s))return!1;if(!t){const o=e.push("link_open","a",1);o.attrs=[["href",s]],o.markup="autolink",o.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(i);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=i.length+2,!0}if(O1.test(i)){const s=e.md.normalizeLink("mailto:"+i);if(!e.md.validateLink(s))return!1;if(!t){const o=e.push("link_open","a",1);o.attrs=[["href",s]],o.markup="autolink",o.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(i);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=i.length+2,!0}return!1}function B1(e){return/^<a[>\s]/i.test(e)}function M1(e){return/^<\/a\s*>/i.test(e)}function z1(e){const t=e|32;return t>=97&&t<=122}function P1(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(e.src.charCodeAt(r)!==60||r+2>=n)return!1;const u=e.src.charCodeAt(r+1);if(u!==33&&u!==63&&u!==47&&!z1(u))return!1;const i=e.src.slice(r).match(g1);if(!i)return!1;if(!t){const s=e.push("html_inline","",0);s.content=i[0],B1(s.content)&&e.linkLevel++,M1(s.content)&&e.linkLevel--}return e.pos+=i[0].length,!0}const $1=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,j1=/^&([a-z][a-z0-9]{1,31});/i;function U1(e,t){const n=e.pos,r=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=r)return!1;if(e.src.charCodeAt(n+1)===35){const i=e.src.slice(n).match($1);if(i){if(!t){const s=i[1][0].toLowerCase()==="x"?parseInt(i[1].slice(1),16):parseInt(i[1],10),o=e.push("text_special","",0);o.content=bo(s)?ti(s):ti(65533),o.markup=i[0],o.info="entity"}return e.pos+=i[0].length,!0}}else{const i=e.src.slice(n).match(j1);if(i){const s=Al(i[0]);if(s!==i[0]){if(!t){const o=e.push("text_special","",0);o.content=s,o.markup=i[0],o.info="entity"}return e.pos+=i[0].length,!0}}}return!1}function Aa(e){const t={},n=e.length;if(!n)return;let r=0,u=-2;const i=[];for(let s=0;s<n;s++){const o=e[s];if(i.push(0),(e[r].marker!==o.marker||u!==o.token-1)&&(r=s),u=o.token,o.length=o.length||0,!o.close)continue;t.hasOwnProperty(o.marker)||(t[o.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[o.marker][(o.open?3:0)+o.length%3];let l=r-i[r]-1,f=l;for(;l>a;l-=i[l]+1){const h=e[l];if(h.marker===o.marker&&h.open&&h.end<0){let p=!1;if((h.close||o.open)&&(h.length+o.length)%3===0&&(h.length%3!==0||o.length%3!==0)&&(p=!0),!p){const m=l>0&&!e[l-1].open?i[l-1]+1:0;i[s]=s-l+m,i[l]=m,o.open=!1,h.end=s,h.close=!1,f=-1,u=-2;break}}}f!==-1&&(t[o.marker][(o.open?3:0)+(o.length||0)%3]=f)}}function H1(e){const t=e.tokens_meta,n=e.tokens_meta.length;Aa(e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&Aa(t[r].delimiters)}function V1(e){let t,n,r=0;const u=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)u[t].nesting<0&&r--,u[t].level=r,u[t].nesting>0&&r++,u[t].type==="text"&&t+1<i&&u[t+1].type==="text"?u[t+1].content=u[t].content+u[t+1].content:(t!==n&&(u[n]=u[t]),n++);t!==n&&(u.length=n)}const ys=[["text",A1],["linkify",k1],["newline",w1],["escape",C1],["backticks",T1],["strikethrough",Dl.tokenize],["emphasis",Nl.tokenize],["link",F1],["image",I1],["autolink",R1],["html_inline",P1],["entity",U1]],xs=[["balance_pairs",H1],["strikethrough",Dl.postProcess],["emphasis",Nl.postProcess],["fragments_join",V1]];function cu(){this.ruler=new Re;for(let e=0;e<ys.length;e++)this.ruler.push(ys[e][0],ys[e][1]);this.ruler2=new Re;for(let e=0;e<xs.length;e++)this.ruler2.push(xs[e][0],xs[e][1])}cu.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,u=e.md.options.maxNesting,i=e.cache;if(typeof i[t]<"u"){e.pos=i[t];return}let s=!1;if(e.level<u){for(let o=0;o<r;o++)if(e.level++,s=n[o](e,!0),e.level--,s){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;s||e.pos++,i[t]=e.pos};cu.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,u=e.md.options.maxNesting;for(;e.pos<r;){const i=e.pos;let s=!1;if(e.level<u){for(let o=0;o<n;o++)if(s=t[o](e,!1),s){if(i>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(e.pos>=r)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};cu.prototype.parse=function(e,t,n,r){const u=new this.State(e,t,n,r);this.tokenize(u);const i=this.ruler2.getRules(""),s=i.length;for(let o=0;o<s;o++)i[o](u)};cu.prototype.State=lu;function G1(e){const t={};e=e||{},t.src_Any=bl.source,t.src_Cc=yl.source,t.src_Z=vl.source,t.src_P=go.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function zs(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function gi(e){return Object.prototype.toString.call(e)}function W1(e){return gi(e)==="[object String]"}function Z1(e){return gi(e)==="[object Object]"}function K1(e){return gi(e)==="[object RegExp]"}function Ea(e){return gi(e)==="[object Function]"}function X1(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Ll={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Y1(e){return Object.keys(e||{}).reduce(function(t,n){return t||Ll.hasOwnProperty(n)},!1)}const Q1={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},J1="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",ep="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function tp(e){e.__index__=-1,e.__text_cache__=""}function np(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function ka(){return function(e,t){t.normalize(e)}}function ni(e){const t=e.re=G1(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(J1),n.push(t.src_xn),t.src_tlds=n.join("|");function r(o){return o.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const u=[];e.__compiled__={};function i(o,a){throw new Error('(LinkifyIt) Invalid schema "'+o+'": '+a)}Object.keys(e.__schemas__).forEach(function(o){const a=e.__schemas__[o];if(a===null)return;const l={validate:null,link:null};if(e.__compiled__[o]=l,Z1(a)){K1(a.validate)?l.validate=np(a.validate):Ea(a.validate)?l.validate=a.validate:i(o,a),Ea(a.normalize)?l.normalize=a.normalize:a.normalize?i(o,a):l.normalize=ka();return}if(W1(a)){u.push(o);return}i(o,a)}),u.forEach(function(o){e.__compiled__[e.__schemas__[o]]&&(e.__compiled__[o].validate=e.__compiled__[e.__schemas__[o]].validate,e.__compiled__[o].normalize=e.__compiled__[e.__schemas__[o]].normalize)}),e.__compiled__[""]={validate:null,normalize:ka()};const s=Object.keys(e.__compiled__).filter(function(o){return o.length>0&&e.__compiled__[o]}).map(X1).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),tp(e)}function rp(e,t){const n=e.__index__,r=e.__last_index__,u=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=u,this.text=u,this.url=u}function Ps(e,t){const n=new rp(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function je(e,t){if(!(this instanceof je))return new je(e,t);t||Y1(e)&&(t=e,e={}),this.__opts__=zs({},Ll,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=zs({},Q1,e),this.__compiled__={},this.__tlds__=ep,this.__tlds_replaced__=!1,this.re={},ni(this)}je.prototype.add=function(t,n){return this.__schemas__[t]=n,ni(this),this};je.prototype.set=function(t){return this.__opts__=zs(this.__opts__,t),this};je.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,r,u,i,s,o,a,l,f;if(this.re.schema_test.test(t)){for(a=this.re.schema_search,a.lastIndex=0;(n=a.exec(t))!==null;)if(i=this.testSchemaAt(t,n[2],a.lastIndex),i){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=r.index+r[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(f=t.indexOf("@"),f>=0&&(u=t.match(this.re.email_fuzzy))!==null&&(s=u.index+u[1].length,o=u.index+u[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=o))),this.__index__>=0};je.prototype.pretest=function(t){return this.re.pretest.test(t)};je.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};je.prototype.match=function(t){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(Ps(this,r)),r=this.__last_index__);let u=r?t.slice(r):t;for(;this.test(u);)n.push(Ps(this,r)),u=u.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};je.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Ps(this,0)):null};je.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,u,i){return r!==i[u-1]}).reverse(),ni(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,ni(this),this)};je.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};je.prototype.onCompile=function(){};const or=2147483647,_t=36,vo=1,Qr=26,up=38,ip=700,Fl=72,Il=128,Ol="-",sp=/^xn--/,op=/[^\0-\x7F]/,ap=/[\x2E\u3002\uFF0E\uFF61]/g,lp={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},vs=_t-vo,At=Math.floor,_s=String.fromCharCode;function Jt(e){throw new RangeError(lp[e])}function cp(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function ql(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(ap,".");const u=e.split("."),i=cp(u,t).join(".");return r+i}function Rl(e){const t=[];let n=0;const r=e.length;for(;n<r;){const u=e.charCodeAt(n++);if(u>=55296&&u<=56319&&n<r){const i=e.charCodeAt(n++);(i&64512)==56320?t.push(((u&1023)<<10)+(i&1023)+65536):(t.push(u),n--)}else t.push(u)}return t}const fp=e=>String.fromCodePoint(...e),hp=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:_t},wa=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Bl=function(e,t,n){let r=0;for(e=n?At(e/ip):e>>1,e+=At(e/t);e>vs*Qr>>1;r+=_t)e=At(e/vs);return At(r+(vs+1)*e/(e+up))},Ml=function(e){const t=[],n=e.length;let r=0,u=Il,i=Fl,s=e.lastIndexOf(Ol);s<0&&(s=0);for(let o=0;o<s;++o)e.charCodeAt(o)>=128&&Jt("not-basic"),t.push(e.charCodeAt(o));for(let o=s>0?s+1:0;o<n;){const a=r;for(let f=1,h=_t;;h+=_t){o>=n&&Jt("invalid-input");const p=hp(e.charCodeAt(o++));p>=_t&&Jt("invalid-input"),p>At((or-r)/f)&&Jt("overflow"),r+=p*f;const m=h<=i?vo:h>=i+Qr?Qr:h-i;if(p<m)break;const d=_t-m;f>At(or/d)&&Jt("overflow"),f*=d}const l=t.length+1;i=Bl(r-a,l,a==0),At(r/l)>or-u&&Jt("overflow"),u+=At(r/l),r%=l,t.splice(r++,0,u)}return String.fromCodePoint(...t)},zl=function(e){const t=[];e=Rl(e);const n=e.length;let r=Il,u=0,i=Fl;for(const a of e)a<128&&t.push(_s(a));const s=t.length;let o=s;for(s&&t.push(Ol);o<n;){let a=or;for(const f of e)f>=r&&f<a&&(a=f);const l=o+1;a-r>At((or-u)/l)&&Jt("overflow"),u+=(a-r)*l,r=a;for(const f of e)if(f<r&&++u>or&&Jt("overflow"),f===r){let h=u;for(let p=_t;;p+=_t){const m=p<=i?vo:p>=i+Qr?Qr:p-i;if(h<m)break;const d=h-m,v=_t-m;t.push(_s(wa(m+d%v,0))),h=At(d/v)}t.push(_s(wa(h,0))),i=Bl(u,l,o===s),u=0,++o}++u,++r}return t.join("")},dp=function(e){return ql(e,function(t){return sp.test(t)?Ml(t.slice(4).toLowerCase()):t})},pp=function(e){return ql(e,function(t){return op.test(t)?"xn--"+zl(t):t})},Pl={version:"2.3.1",ucs2:{decode:Rl,encode:fp},decode:Ml,encode:zl,toASCII:pp,toUnicode:dp},gp={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},mp={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},bp={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},yp={default:gp,zero:mp,commonmark:bp},xp=/^(vbscript|javascript|file|data):/,vp=/^data:image\/(gif|png|jpeg|webp);/;function _p(e){const t=e.trim().toLowerCase();return xp.test(t)?vp.test(t):!0}const $l=["http:","https:","mailto:"];function Ap(e){const t=po(e,!0);if(t.hostname&&(!t.protocol||$l.indexOf(t.protocol)>=0))try{t.hostname=Pl.toASCII(t.hostname)}catch{}return au(ho(t))}function Ep(e){const t=po(e,!0);if(t.hostname&&(!t.protocol||$l.indexOf(t.protocol)>=0))try{t.hostname=Pl.toUnicode(t.hostname)}catch{}return br(ho(t),br.defaultChars+"%")}function Ze(e,t){if(!(this instanceof Ze))return new Ze(e,t);t||mo(e)||(t=e||{},e="default"),this.inline=new cu,this.block=new pi,this.core=new yo,this.renderer=new vr,this.linkify=new je,this.validateLink=_p,this.normalizeLink=Ap,this.normalizeLinkText=Ep,this.utils=wd,this.helpers=hi({},Dd),this.options={},this.configure(e),t&&this.set(t)}Ze.prototype.set=function(e){return hi(this.options,e),this};Ze.prototype.configure=function(e){const t=this;if(mo(e)){const n=e;if(e=yp[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};Ze.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(u){n=n.concat(this[u].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter(function(u){return n.indexOf(u)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Ze.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(u){n=n.concat(this[u].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter(function(u){return n.indexOf(u)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Ze.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Ze.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};Ze.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Ze.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};Ze.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const Ca=new Set([!0,!1,"alt","title"]);function jl(e,t){return(Array.isArray(e)?e:[]).filter(([n])=>n!==t)}function Ul(e,t){e&&e.attrs&&(e.attrs=jl(e.attrs,t))}function kp(e,t){if(!Ca.has(e))throw new TypeError(`figcaption must be one of: ${[...Ca]}.`);if(e==="alt")return t.content;const n=t.attrs.find(([r])=>r==="title");return Array.isArray(n)&&n[1]?(Ul(t,"title"),n[1]):void 0}function wp(e,t){t=t||{},e.core.ruler.before("linkify","image_figures",function(n){let r=1;for(let u=1,i=n.tokens.length;u<i-1;++u){const s=n.tokens[u];if(s.type!=="inline"||!s.children||s.children.length!==1&&s.children.length!==3||s.children.length===1&&s.children[0].type!=="image")continue;if(s.children.length===3){const[l,f,h]=s.children;if(l.type!=="link_open"||f.type!=="image"||h.type!=="link_close")continue}if(u!==0&&n.tokens[u-1].type!=="paragraph_open"||u!==i-1&&n.tokens[u+1].type!=="paragraph_close")continue;const o=n.tokens[u-1];let a;if(o.type="figure_open",o.tag="figure",n.tokens[u+1].type="figure_close",n.tokens[u+1].tag="figure",t.dataType&&n.tokens[u-1].attrPush(["data-type","image"]),t.link&&s.children.length===1){[a]=s.children;const l=new n.Token("link_open","a",1);l.attrPush(["href",a.attrGet("src")]),s.children.unshift(l),s.children.push(new n.Token("link_close","a",-1))}if(a=s.children.length===1?s.children[0]:s.children[1],t.figcaption){const l=kp(t.figcaption,a);if(l){const[f]=e.parseInline(l,n.env);s.children.push(new n.Token("figcaption_open","figcaption",1)),s.children.push(...f.children),s.children.push(new n.Token("figcaption_close","figcaption",-1)),a.attrs&&(a.attrs=jl(a.attrs,"title"))}}if(t.copyAttrs&&a.attrs){const l=t.copyAttrs===!0?"":t.copyAttrs;o.attrs=a.attrs.filter(([f])=>f.match(l)).map(f=>Array.from(f))}if(t.tabindex&&(n.tokens[u-1].attrPush(["tabindex",r]),r++),t.lazy&&(a.attrs.some(([l])=>l==="loading")||a.attrs.push(["loading","lazy"])),t.async&&(a.attrs.some(([l])=>l==="decoding")||a.attrs.push(["decoding","async"])),t.classes&&typeof t.classes=="string"){let l=!1;for(let f=0,h=a.attrs.length;f<h&&!l;f++){const p=a.attrs[f];p[0]==="class"&&(p[1]=`${p[1]} ${t.classes}`,l=!0)}l||a.attrs.push(["class",t.classes])}if(t.removeSrc){const l=a.attrs.find(([f])=>f==="src");a.attrs.push(["data-src",l[1]]),Ul(a,"src")}}})}const Xn=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Hl=new Set,$s=typeof process=="object"&&process?process:{},Vl=(e,t,n,r)=>{typeof $s.emitWarning=="function"?$s.emitWarning(e,t,n,r):console.error(`[${n}] ${t}: ${e}`)};let ri=globalThis.AbortController,Ta=globalThis.AbortSignal;var Ra;if(typeof ri>"u"){Ta=class{constructor(){L(this,"onabort");L(this,"_onabort",[]);L(this,"reason");L(this,"aborted",!1)}addEventListener(r,u){this._onabort.push(u)}},ri=class{constructor(){L(this,"signal",new Ta);t()}abort(r){var u,i;if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(const s of this.signal._onabort)s(r);(i=(u=this.signal).onabort)==null||i.call(u,r)}}};let e=((Ra=$s.env)==null?void 0:Ra.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,Vl("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Cp=e=>!Hl.has(e),Kt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),Gl=e=>Kt(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Hu:null:null;class Hu extends Array{constructor(t){super(t),this.fill(0)}}var ar;const An=class An{constructor(t,n){L(this,"heap");L(this,"length");if(!b(An,ar))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}static create(t){const n=Gl(t);if(!n)return[];z(An,ar,!0);const r=new An(t,n);return z(An,ar,!1),r}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};ar=new WeakMap,U(An,ar,!1);let js=An;var et,Be,tt,nt,lr,cr,de,rt,ce,ue,H,De,Me,we,me,ut,be,it,st,ze,ot,rn,Ne,Jr,Hs,En,Mt,eu,Pe,si,Wl,kn,fr,tu,bt,Xt,yt,Yt,nu,Vs,hm,hr,Vu,dr,Gu,te,re,ru,Gs,wn,Pr,xt,Qt,uu,Ws;const Eo=class Eo{constructor(t){U(this,Jr);U(this,si);U(this,bt);U(this,yt);U(this,nu);U(this,hr);U(this,dr);U(this,te);U(this,ru);U(this,wn);U(this,xt);U(this,uu);U(this,et,void 0);U(this,Be,void 0);U(this,tt,void 0);U(this,nt,void 0);U(this,lr,void 0);U(this,cr,void 0);L(this,"ttl");L(this,"ttlResolution");L(this,"ttlAutopurge");L(this,"updateAgeOnGet");L(this,"updateAgeOnHas");L(this,"allowStale");L(this,"noDisposeOnSet");L(this,"noUpdateTTL");L(this,"maxEntrySize");L(this,"sizeCalculation");L(this,"noDeleteOnFetchRejection");L(this,"noDeleteOnStaleGet");L(this,"allowStaleOnFetchAbort");L(this,"allowStaleOnFetchRejection");L(this,"ignoreFetchAbort");U(this,de,void 0);U(this,rt,void 0);U(this,ce,void 0);U(this,ue,void 0);U(this,H,void 0);U(this,De,void 0);U(this,Me,void 0);U(this,we,void 0);U(this,me,void 0);U(this,ut,void 0);U(this,be,void 0);U(this,it,void 0);U(this,st,void 0);U(this,ze,void 0);U(this,ot,void 0);U(this,rn,void 0);U(this,Ne,void 0);U(this,En,()=>{});U(this,Mt,()=>{});U(this,eu,()=>{});U(this,Pe,()=>!1);U(this,kn,t=>{});U(this,fr,(t,n,r)=>{});U(this,tu,(t,n,r,u)=>{if(r||u)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});L(this,hm,"LRUCache");const{max:n=0,ttl:r,ttlResolution:u=1,ttlAutopurge:i,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:a,dispose:l,disposeAfter:f,noDisposeOnSet:h,noUpdateTTL:p,maxSize:m=0,maxEntrySize:d=0,sizeCalculation:v,fetchMethod:y,memoMethod:x,noDeleteOnFetchRejection:A,noDeleteOnStaleGet:E,allowStaleOnFetchRejection:k,allowStaleOnFetchAbort:C,ignoreFetchAbort:S}=t;if(n!==0&&!Kt(n))throw new TypeError("max option must be a nonnegative integer");const D=n?Gl(n):Array;if(!D)throw new Error("invalid max value: "+n);if(z(this,et,n),z(this,Be,m),this.maxEntrySize=d||b(this,Be),this.sizeCalculation=v,this.sizeCalculation){if(!b(this,Be)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(x!==void 0&&typeof x!="function")throw new TypeError("memoMethod must be a function if defined");if(z(this,cr,x),y!==void 0&&typeof y!="function")throw new TypeError("fetchMethod must be a function if specified");if(z(this,lr,y),z(this,rn,!!y),z(this,ce,new Map),z(this,ue,new Array(n).fill(void 0)),z(this,H,new Array(n).fill(void 0)),z(this,De,new D(n)),z(this,Me,new D(n)),z(this,we,0),z(this,me,0),z(this,ut,js.create(n)),z(this,de,0),z(this,rt,0),typeof l=="function"&&z(this,tt,l),typeof f=="function"?(z(this,nt,f),z(this,be,[])):(z(this,nt,void 0),z(this,be,void 0)),z(this,ot,!!b(this,tt)),z(this,Ne,!!b(this,nt)),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!A,this.allowStaleOnFetchRejection=!!k,this.allowStaleOnFetchAbort=!!C,this.ignoreFetchAbort=!!S,this.maxEntrySize!==0){if(b(this,Be)!==0&&!Kt(b(this,Be)))throw new TypeError("maxSize must be a positive integer if specified");if(!Kt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");F(this,si,Wl).call(this)}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=Kt(u)||u===0?u:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!Kt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");F(this,Jr,Hs).call(this)}if(b(this,et)===0&&this.ttl===0&&b(this,Be)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!b(this,et)&&!b(this,Be)){const w="LRU_CACHE_UNBOUNDED";Cp(w)&&(Hl.add(w),Vl("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",w,Eo))}}static unsafeExposeInternals(t){return{starts:b(t,st),ttls:b(t,ze),sizes:b(t,it),keyMap:b(t,ce),keyList:b(t,ue),valList:b(t,H),next:b(t,De),prev:b(t,Me),get head(){return b(t,we)},get tail(){return b(t,me)},free:b(t,ut),isBackgroundFetch:n=>{var r;return F(r=t,te,re).call(r,n)},backgroundFetch:(n,r,u,i)=>{var s;return F(s=t,dr,Gu).call(s,n,r,u,i)},moveToTail:n=>{var r;return F(r=t,wn,Pr).call(r,n)},indexes:n=>{var r;return F(r=t,bt,Xt).call(r,n)},rindexes:n=>{var r;return F(r=t,yt,Yt).call(r,n)},isStale:n=>{var r;return b(r=t,Pe).call(r,n)}}}get max(){return b(this,et)}get maxSize(){return b(this,Be)}get calculatedSize(){return b(this,rt)}get size(){return b(this,de)}get fetchMethod(){return b(this,lr)}get memoMethod(){return b(this,cr)}get dispose(){return b(this,tt)}get disposeAfter(){return b(this,nt)}getRemainingTTL(t){return b(this,ce).has(t)?1/0:0}*entries(){for(const t of F(this,bt,Xt).call(this))b(this,H)[t]!==void 0&&b(this,ue)[t]!==void 0&&!F(this,te,re).call(this,b(this,H)[t])&&(yield[b(this,ue)[t],b(this,H)[t]])}*rentries(){for(const t of F(this,yt,Yt).call(this))b(this,H)[t]!==void 0&&b(this,ue)[t]!==void 0&&!F(this,te,re).call(this,b(this,H)[t])&&(yield[b(this,ue)[t],b(this,H)[t]])}*keys(){for(const t of F(this,bt,Xt).call(this)){const n=b(this,ue)[t];n!==void 0&&!F(this,te,re).call(this,b(this,H)[t])&&(yield n)}}*rkeys(){for(const t of F(this,yt,Yt).call(this)){const n=b(this,ue)[t];n!==void 0&&!F(this,te,re).call(this,b(this,H)[t])&&(yield n)}}*values(){for(const t of F(this,bt,Xt).call(this))b(this,H)[t]!==void 0&&!F(this,te,re).call(this,b(this,H)[t])&&(yield b(this,H)[t])}*rvalues(){for(const t of F(this,yt,Yt).call(this))b(this,H)[t]!==void 0&&!F(this,te,re).call(this,b(this,H)[t])&&(yield b(this,H)[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const r of F(this,bt,Xt).call(this)){const u=b(this,H)[r],i=F(this,te,re).call(this,u)?u.__staleWhileFetching:u;if(i!==void 0&&t(i,b(this,ue)[r],this))return this.get(b(this,ue)[r],n)}}forEach(t,n=this){for(const r of F(this,bt,Xt).call(this)){const u=b(this,H)[r],i=F(this,te,re).call(this,u)?u.__staleWhileFetching:u;i!==void 0&&t.call(n,i,b(this,ue)[r],this)}}rforEach(t,n=this){for(const r of F(this,yt,Yt).call(this)){const u=b(this,H)[r],i=F(this,te,re).call(this,u)?u.__staleWhileFetching:u;i!==void 0&&t.call(n,i,b(this,ue)[r],this)}}purgeStale(){let t=!1;for(const n of F(this,yt,Yt).call(this,{allowStale:!0}))b(this,Pe).call(this,n)&&(F(this,xt,Qt).call(this,b(this,ue)[n],"expire"),t=!0);return t}info(t){const n=b(this,ce).get(t);if(n===void 0)return;const r=b(this,H)[n],u=F(this,te,re).call(this,r)?r.__staleWhileFetching:r;if(u===void 0)return;const i={value:u};if(b(this,ze)&&b(this,st)){const s=b(this,ze)[n],o=b(this,st)[n];if(s&&o){const a=s-(Xn.now()-o);i.ttl=a,i.start=Date.now()}}return b(this,it)&&(i.size=b(this,it)[n]),i}dump(){const t=[];for(const n of F(this,bt,Xt).call(this,{allowStale:!0})){const r=b(this,ue)[n],u=b(this,H)[n],i=F(this,te,re).call(this,u)?u.__staleWhileFetching:u;if(i===void 0||r===void 0)continue;const s={value:i};if(b(this,ze)&&b(this,st)){s.ttl=b(this,ze)[n];const o=Xn.now()-b(this,st)[n];s.start=Math.floor(Date.now()-o)}b(this,it)&&(s.size=b(this,it)[n]),t.unshift([r,s])}return t}load(t){this.clear();for(const[n,r]of t){if(r.start){const u=Date.now()-r.start;r.start=Xn.now()-u}this.set(n,r.value,r)}}set(t,n,r={}){var p,m,d,v,y;if(n===void 0)return this.delete(t),this;const{ttl:u=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=r;let{noUpdateTTL:l=this.noUpdateTTL}=r;const f=b(this,tu).call(this,t,n,r.size||0,o);if(this.maxEntrySize&&f>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),F(this,xt,Qt).call(this,t,"set"),this;let h=b(this,de)===0?void 0:b(this,ce).get(t);if(h===void 0)h=b(this,de)===0?b(this,me):b(this,ut).length!==0?b(this,ut).pop():b(this,de)===b(this,et)?F(this,hr,Vu).call(this,!1):b(this,de),b(this,ue)[h]=t,b(this,H)[h]=n,b(this,ce).set(t,h),b(this,De)[b(this,me)]=h,b(this,Me)[h]=b(this,me),z(this,me,h),Du(this,de)._++,b(this,fr).call(this,h,f,a),a&&(a.set="add"),l=!1;else{F(this,wn,Pr).call(this,h);const x=b(this,H)[h];if(n!==x){if(b(this,rn)&&F(this,te,re).call(this,x)){x.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:A}=x;A!==void 0&&!s&&(b(this,ot)&&((p=b(this,tt))==null||p.call(this,A,t,"set")),b(this,Ne)&&((m=b(this,be))==null||m.push([A,t,"set"])))}else s||(b(this,ot)&&((d=b(this,tt))==null||d.call(this,x,t,"set")),b(this,Ne)&&((v=b(this,be))==null||v.push([x,t,"set"])));if(b(this,kn).call(this,h),b(this,fr).call(this,h,f,a),b(this,H)[h]=n,a){a.set="replace";const A=x&&F(this,te,re).call(this,x)?x.__staleWhileFetching:x;A!==void 0&&(a.oldValue=A)}}else a&&(a.set="update")}if(u!==0&&!b(this,ze)&&F(this,Jr,Hs).call(this),b(this,ze)&&(l||b(this,eu).call(this,h,u,i),a&&b(this,Mt).call(this,a,h)),!s&&b(this,Ne)&&b(this,be)){const x=b(this,be);let A;for(;A=x==null?void 0:x.shift();)(y=b(this,nt))==null||y.call(this,...A)}return this}pop(){var t;try{for(;b(this,de);){const n=b(this,H)[b(this,we)];if(F(this,hr,Vu).call(this,!0),F(this,te,re).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(b(this,Ne)&&b(this,be)){const n=b(this,be);let r;for(;r=n==null?void 0:n.shift();)(t=b(this,nt))==null||t.call(this,...r)}}}has(t,n={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:u}=n,i=b(this,ce).get(t);if(i!==void 0){const s=b(this,H)[i];if(F(this,te,re).call(this,s)&&s.__staleWhileFetching===void 0)return!1;if(b(this,Pe).call(this,i))u&&(u.has="stale",b(this,Mt).call(this,u,i));else return r&&b(this,En).call(this,i),u&&(u.has="hit",b(this,Mt).call(this,u,i)),!0}else u&&(u.has="miss");return!1}peek(t,n={}){const{allowStale:r=this.allowStale}=n,u=b(this,ce).get(t);if(u===void 0||!r&&b(this,Pe).call(this,u))return;const i=b(this,H)[u];return F(this,te,re).call(this,i)?i.__staleWhileFetching:i}async fetch(t,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:u=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:v,forceRefresh:y=!1,status:x,signal:A}=n;if(!b(this,rn))return x&&(x.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:u,noDeleteOnStaleGet:i,status:x});const E={allowStale:r,updateAgeOnGet:u,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:f,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:d,ignoreFetchAbort:m,status:x,signal:A};let k=b(this,ce).get(t);if(k===void 0){x&&(x.fetch="miss");const C=F(this,dr,Gu).call(this,t,k,E,v);return C.__returned=C}else{const C=b(this,H)[k];if(F(this,te,re).call(this,C)){const j=r&&C.__staleWhileFetching!==void 0;return x&&(x.fetch="inflight",j&&(x.returnedStale=!0)),j?C.__staleWhileFetching:C.__returned=C}const S=b(this,Pe).call(this,k);if(!y&&!S)return x&&(x.fetch="hit"),F(this,wn,Pr).call(this,k),u&&b(this,En).call(this,k),x&&b(this,Mt).call(this,x,k),C;const D=F(this,dr,Gu).call(this,t,k,E,v),$=D.__staleWhileFetching!==void 0&&r;return x&&(x.fetch=S?"stale":"refresh",$&&S&&(x.returnedStale=!0)),$?D.__staleWhileFetching:D.__returned=D}}async forceFetch(t,n={}){const r=await this.fetch(t,n);if(r===void 0)throw new Error("fetch() returned undefined");return r}memo(t,n={}){const r=b(this,cr);if(!r)throw new Error("no memoMethod provided to constructor");const{context:u,forceRefresh:i,...s}=n,o=this.get(t,s);if(!i&&o!==void 0)return o;const a=r(t,o,{options:s,context:u});return this.set(t,a,s),a}get(t,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:u=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:s}=n,o=b(this,ce).get(t);if(o!==void 0){const a=b(this,H)[o],l=F(this,te,re).call(this,a);return s&&b(this,Mt).call(this,s,o),b(this,Pe).call(this,o)?(s&&(s.get="stale"),l?(s&&r&&a.__staleWhileFetching!==void 0&&(s.returnedStale=!0),r?a.__staleWhileFetching:void 0):(i||F(this,xt,Qt).call(this,t,"expire"),s&&r&&(s.returnedStale=!0),r?a:void 0)):(s&&(s.get="hit"),l?a.__staleWhileFetching:(F(this,wn,Pr).call(this,o),u&&b(this,En).call(this,o),a))}else s&&(s.get="miss")}delete(t){return F(this,xt,Qt).call(this,t,"delete")}clear(){return F(this,uu,Ws).call(this,"delete")}};hm=Symbol.toStringTag,et=new WeakMap,Be=new WeakMap,tt=new WeakMap,nt=new WeakMap,lr=new WeakMap,cr=new WeakMap,de=new WeakMap,rt=new WeakMap,ce=new WeakMap,ue=new WeakMap,H=new WeakMap,De=new WeakMap,Me=new WeakMap,we=new WeakMap,me=new WeakMap,ut=new WeakMap,be=new WeakMap,it=new WeakMap,st=new WeakMap,ze=new WeakMap,ot=new WeakMap,rn=new WeakMap,Ne=new WeakMap,Jr=new WeakSet,Hs=function(){const t=new Hu(b(this,et)),n=new Hu(b(this,et));z(this,ze,t),z(this,st,n),z(this,eu,(i,s,o=Xn.now())=>{if(n[i]=s!==0?o:0,t[i]=s,s!==0&&this.ttlAutopurge){const a=setTimeout(()=>{b(this,Pe).call(this,i)&&F(this,xt,Qt).call(this,b(this,ue)[i],"expire")},s+1);a.unref&&a.unref()}}),z(this,En,i=>{n[i]=t[i]!==0?Xn.now():0}),z(this,Mt,(i,s)=>{if(t[s]){const o=t[s],a=n[s];if(!o||!a)return;i.ttl=o,i.start=a,i.now=r||u();const l=i.now-a;i.remainingTTL=o-l}});let r=0;const u=()=>{const i=Xn.now();if(this.ttlResolution>0){r=i;const s=setTimeout(()=>r=0,this.ttlResolution);s.unref&&s.unref()}return i};this.getRemainingTTL=i=>{const s=b(this,ce).get(i);if(s===void 0)return 0;const o=t[s],a=n[s];if(!o||!a)return 1/0;const l=(r||u())-a;return o-l},z(this,Pe,i=>{const s=n[i],o=t[i];return!!o&&!!s&&(r||u())-s>o})},En=new WeakMap,Mt=new WeakMap,eu=new WeakMap,Pe=new WeakMap,si=new WeakSet,Wl=function(){const t=new Hu(b(this,et));z(this,rt,0),z(this,it,t),z(this,kn,n=>{z(this,rt,b(this,rt)-t[n]),t[n]=0}),z(this,tu,(n,r,u,i)=>{if(F(this,te,re).call(this,r))return 0;if(!Kt(u))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(u=i(r,n),!Kt(u))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return u}),z(this,fr,(n,r,u)=>{if(t[n]=r,b(this,Be)){const i=b(this,Be)-t[n];for(;b(this,rt)>i;)F(this,hr,Vu).call(this,!0)}z(this,rt,b(this,rt)+t[n]),u&&(u.entrySize=r,u.totalCalculatedSize=b(this,rt))})},kn=new WeakMap,fr=new WeakMap,tu=new WeakMap,bt=new WeakSet,Xt=function*({allowStale:t=this.allowStale}={}){if(b(this,de))for(let n=b(this,me);!(!F(this,nu,Vs).call(this,n)||((t||!b(this,Pe).call(this,n))&&(yield n),n===b(this,we)));)n=b(this,Me)[n]},yt=new WeakSet,Yt=function*({allowStale:t=this.allowStale}={}){if(b(this,de))for(let n=b(this,we);!(!F(this,nu,Vs).call(this,n)||((t||!b(this,Pe).call(this,n))&&(yield n),n===b(this,me)));)n=b(this,De)[n]},nu=new WeakSet,Vs=function(t){return t!==void 0&&b(this,ce).get(b(this,ue)[t])===t},hr=new WeakSet,Vu=function(t){var i,s;const n=b(this,we),r=b(this,ue)[n],u=b(this,H)[n];return b(this,rn)&&F(this,te,re).call(this,u)?u.__abortController.abort(new Error("evicted")):(b(this,ot)||b(this,Ne))&&(b(this,ot)&&((i=b(this,tt))==null||i.call(this,u,r,"evict")),b(this,Ne)&&((s=b(this,be))==null||s.push([u,r,"evict"]))),b(this,kn).call(this,n),t&&(b(this,ue)[n]=void 0,b(this,H)[n]=void 0,b(this,ut).push(n)),b(this,de)===1?(z(this,we,z(this,me,0)),b(this,ut).length=0):z(this,we,b(this,De)[n]),b(this,ce).delete(r),Du(this,de)._--,n},dr=new WeakSet,Gu=function(t,n,r,u){const i=n===void 0?void 0:b(this,H)[n];if(F(this,te,re).call(this,i))return i;const s=new ri,{signal:o}=r;o==null||o.addEventListener("abort",()=>s.abort(o.reason),{signal:s.signal});const a={signal:s.signal,options:r,context:u},l=(v,y=!1)=>{const{aborted:x}=s.signal,A=r.ignoreFetchAbort&&v!==void 0;if(r.status&&(x&&!y?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,A&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),x&&!A&&!y)return h(s.signal.reason);const E=m;return b(this,H)[n]===m&&(v===void 0?E.__staleWhileFetching?b(this,H)[n]=E.__staleWhileFetching:F(this,xt,Qt).call(this,t,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(t,v,a.options))),v},f=v=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=v),h(v)),h=v=>{const{aborted:y}=s.signal,x=y&&r.allowStaleOnFetchAbort,A=x||r.allowStaleOnFetchRejection,E=A||r.noDeleteOnFetchRejection,k=m;if(b(this,H)[n]===m&&(!E||k.__staleWhileFetching===void 0?F(this,xt,Qt).call(this,t,"fetch"):x||(b(this,H)[n]=k.__staleWhileFetching)),A)return r.status&&k.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),k.__staleWhileFetching;if(k.__returned===k)throw v},p=(v,y)=>{var A;const x=(A=b(this,lr))==null?void 0:A.call(this,t,i,a);x&&x instanceof Promise&&x.then(E=>v(E===void 0?void 0:E),y),s.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(v(void 0),r.allowStaleOnFetchAbort&&(v=E=>l(E,!0)))})};r.status&&(r.status.fetchDispatched=!0);const m=new Promise(p).then(l,f),d=Object.assign(m,{__abortController:s,__staleWhileFetching:i,__returned:void 0});return n===void 0?(this.set(t,d,{...a.options,status:void 0}),n=b(this,ce).get(t)):b(this,H)[n]=d,d},te=new WeakSet,re=function(t){if(!b(this,rn))return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof ri},ru=new WeakSet,Gs=function(t,n){b(this,Me)[n]=t,b(this,De)[t]=n},wn=new WeakSet,Pr=function(t){t!==b(this,me)&&(t===b(this,we)?z(this,we,b(this,De)[t]):F(this,ru,Gs).call(this,b(this,Me)[t],b(this,De)[t]),F(this,ru,Gs).call(this,b(this,me),t),z(this,me,t))},xt=new WeakSet,Qt=function(t,n){var u,i,s,o;let r=!1;if(b(this,de)!==0){const a=b(this,ce).get(t);if(a!==void 0)if(r=!0,b(this,de)===1)F(this,uu,Ws).call(this,n);else{b(this,kn).call(this,a);const l=b(this,H)[a];if(F(this,te,re).call(this,l)?l.__abortController.abort(new Error("deleted")):(b(this,ot)||b(this,Ne))&&(b(this,ot)&&((u=b(this,tt))==null||u.call(this,l,t,n)),b(this,Ne)&&((i=b(this,be))==null||i.push([l,t,n]))),b(this,ce).delete(t),b(this,ue)[a]=void 0,b(this,H)[a]=void 0,a===b(this,me))z(this,me,b(this,Me)[a]);else if(a===b(this,we))z(this,we,b(this,De)[a]);else{const f=b(this,Me)[a];b(this,De)[f]=b(this,De)[a];const h=b(this,De)[a];b(this,Me)[h]=b(this,Me)[a]}Du(this,de)._--,b(this,ut).push(a)}}if(b(this,Ne)&&((s=b(this,be))!=null&&s.length)){const a=b(this,be);let l;for(;l=a==null?void 0:a.shift();)(o=b(this,nt))==null||o.call(this,...l)}return r},uu=new WeakSet,Ws=function(t){var n,r,u;for(const i of F(this,yt,Yt).call(this,{allowStale:!0})){const s=b(this,H)[i];if(F(this,te,re).call(this,s))s.__abortController.abort(new Error("deleted"));else{const o=b(this,ue)[i];b(this,ot)&&((n=b(this,tt))==null||n.call(this,s,o,t)),b(this,Ne)&&((r=b(this,be))==null||r.push([s,o,t]))}}if(b(this,ce).clear(),b(this,H).fill(void 0),b(this,ue).fill(void 0),b(this,ze)&&b(this,st)&&(b(this,ze).fill(0),b(this,st).fill(0)),b(this,it)&&b(this,it).fill(0),z(this,we,0),z(this,me,0),b(this,ut).length=0,z(this,rt,0),z(this,de,0),b(this,Ne)&&b(this,be)){const i=b(this,be);let s;for(;s=i==null?void 0:i.shift();)(u=b(this,nt))==null||u.call(this,...s)}};let Us=Eo;function Tp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const u in r)if(u!=="default"&&!(u in e)){const i=Object.getOwnPropertyDescriptor(r,u);i&&Object.defineProperty(e,u,i.get?i:{enumerable:!0,get:()=>r[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const Sp=(e,t)=>{const n=Le("editorId"),{noImgZoomIn:r}=e,u=pl(()=>{const i=document.querySelectorAll(`#${n}-preview img:not(.not-zoom):not(.medium-zoom-image)`);i.length!==0&&Dh(i,{background:"#00000073"})});zt(()=>{!r&&e.setting.preview&&u()}),vt([t,za(e.setting,"preview")],()=>{!r&&e.setting.preview&&u()})},Dp=(e,t,n)=>{const r=Le("editorId"),u=Le("usedLanguageText"),i=()=>{document.querySelectorAll(`#${r} .${M}-preview .${M}-code`).forEach(a=>{let l=-1;const f=a.querySelector(`.${M}-copy-button`);f&&(f.onclick=h=>{h.preventDefault(),clearTimeout(l);const m=(a.querySelector("input:checked + pre code")||a.querySelector("pre code")).textContent,d=Mh(e.formatCopiedText(m)),{text:v,successTips:y,failTips:x}=u.value.copyCode,A=d?y:x;f.dataset.isIcon?f.dataset.tips=A:f.innerHTML=A,l=window.setTimeout(()=>{f.dataset.isIcon?f.dataset.tips=v:f.innerHTML=v},1500)})})},s=()=>{Hr(i)},o=a=>{a&&Hr(i)};vt([t,n],s),vt(()=>e.setting.preview,o),vt(()=>e.setting.htmlPreview,o),vt(()=>u.value,i),zt(i)},Np=e=>{const t=Le("highlight"),n=Xu(kt.editorExtensions.highlight.instance);return zt(()=>{e.noHighlight||n.value||(Pt("link",{...t.value.css,rel:"stylesheet",id:`${M}-hlCss`}),Pt("script",{...t.value.js,id:`${M}-hljs`,onload(){n.value=window.hljs}},"hljs"))}),vt(()=>t.value.css,()=>{e.noHighlight||Ah("link",{...t.value.css,rel:"stylesheet",id:`${M}-hlCss`})}),n},Wu=new Us({max:1e3,ttl:6e5}),Lp=e=>{const t=Le("theme"),{editorExtensions:n,editorExtensionsAttrs:r,mermaidConfig:u}=kt,i=Xu(n.mermaid.instance),s=Xu(-1),o=()=>{const l=i.value;!e.noMermaid&&l&&(l.initialize(u({startOnLoad:!1,theme:t.value==="dark"?"dark":"default"})),s.value=s.value+1)};return vt(()=>t.value,()=>{Wu.clear(),o()}),zt(()=>{var l,f;if(e.noMermaid||i.value)return;const h=n.mermaid.js;/\.mjs/.test(h)?(Pt("link",{...(l=r.mermaid)==null?void 0:l.js,rel:"modulepreload",href:h,id:`${M}-mermaid-m`}),import(h).then(p=>{i.value=p.default,o()})):Pt("script",{...(f=r.mermaid)==null?void 0:f.js,src:h,id:`${M}-mermaid`,onload(){i.value=window.mermaid,o()}},"mermaid")}),{mermaidRef:i,reRenderRef:s,replaceMermaid:()=>{Hr(()=>{if(!e.noMermaid&&i.value){const l=document.querySelectorAll(`div.${M}-mermaid`),f=document.createElement("div");f.style.width=document.body.offsetWidth+"px",f.style.height=document.body.offsetHeight+"px",f.style.position="fixed",f.style.zIndex="-10000",f.style.top="-10000";let h=l.length;h>0&&document.body.appendChild(f),l.forEach(async p=>{let m=Wu.get(p.innerText);if(!m){const v=Rs(),y=i.value.renderAsync||i.value.render;let x="";try{x=await y(v,p.innerText,f)}catch{}m=await e.sanitizeMermaid(typeof x=="string"?x:x.svg),Wu.set(p.innerText,m)}const d=document.createElement("p");d.className=`${M}-mermaid`,d.setAttribute("data-processed",""),d.innerHTML=m,p.dataset.line!==void 0&&(d.dataset.line=p.dataset.line),p.replaceWith(d),--h===0&&f.remove()})}})}}},Fp=e=>{const t=Xu(kt.editorExtensions.katex.instance);return zt(()=>{if(e.noKatex||t.value)return;const{editorExtensions:n}=kt;Pt("script",{src:n.katex.js,id:`${M}-katex`,onload(){t.value=window.katex}},"katex"),Pt("link",{rel:"stylesheet",href:n.katex.css,id:`${M}-katexCss`})}),t},Ip=(e,t)=>{const n=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(r,u,i,s,o)=>{const a=r[u],l=a.content.trim();if(a.info==="mermaid"){let f;r[u].map&&r[u].level===0&&(f=r[u].map[0],r[u].attrSet("data-line",String(f)));const h=Wu.get(l);return h?`<p class="${M}-mermaid" ${f!==void 0?"data-line="+f:""} data-processed>${h}</p>`:`<div class="${M}-mermaid" ${f!==void 0?"data-line="+f:""} data-mermaid-theme=${t.themeRef.value}>${l}</div>`}return n(r,u,i,s,o)}},Op=Ip,ui=(e,t)=>{const n=e.attrs?e.attrs.slice():[];return t.forEach(r=>{const u=e.attrIndex(r[0]);u<0?n.push(r):(n[u]=n[u].slice(),n[u][1]+=` ${r[1]}`)}),n},Sa=(e,t)=>{let n=!0,r=!0;const u=e.posMax,i=t>0?e.src.charCodeAt(t-1):-1,s=t+1<=u?e.src.charCodeAt(t+1):-1;return(i===32||i===9||s>=48&&s<=57)&&(r=!1),(s===32||s===9)&&(n=!1),{can_open:n,can_close:r}},qp=(e,t)=>{let n,r,u,i;if(e.src[e.pos]!=="$")return!1;if(u=Sa(e,e.pos),!u.can_open)return t||(e.pending+="$"),e.pos+=1,!0;const s=e.pos+1;for(n=s;(n=e.src.indexOf("$",n))!==-1;){for(i=n-1;e.src[i]==="\\";)i-=1;if((n-i)%2==1)break;n+=1}return n===-1?(t||(e.pending+="$"),e.pos=s,!0):n-s===0?(t||(e.pending+="$$"),e.pos=s+1,!0):(u=Sa(e,n),u.can_close?(t||(r=e.push("math_inline","math",0),r.markup="$",r.content=e.src.slice(s,n)),e.pos=n+1,!0):(t||(e.pending+="$"),e.pos=s,!0))},Rp=(e,t,n,r)=>{let u,i,s,o,a=!1,l=e.bMarks[t]+e.tShift[t],f=e.eMarks[t];if(l+2>f||e.src.slice(l,l+2)!=="$$")return!1;if(l+=2,u=e.src.slice(l,f),r)return!0;for(u.trim().slice(-2)==="$$"&&(u=u.trim().slice(0,-2),a=!0),s=t;!a&&(s++,!(s>=n||(l=e.bMarks[s]+e.tShift[s],f=e.eMarks[s],l<f&&e.tShift[s]<e.blkIndent)));)e.src.slice(l,f).trim().slice(-2)==="$$"&&(o=e.src.slice(0,f).lastIndexOf("$$"),i=e.src.slice(l,o),a=!0);e.line=s+1;const h=e.push("math_block","math",0);return h.block=!0,h.content=(u&&u.trim()?u+`
`:"")+e.getLines(t+1,s,e.tShift[t],!0)+(i&&i.trim()?i:""),h.map=[t,e.line],h.markup="$$",!0},Bp=(e,{katexRef:t})=>{const n=(u,i,s,o,a)=>{const l=u[i],f={attrs:ui(l,[["class",`${M}-katex-inline`]])};if(t.value){const h=t.value.renderToString(l.content,{throwOnError:!1});return`<span ${a.renderAttrs(f)} data-processed>${h}</span>`}else return`<span ${a.renderAttrs(f)}>${l.content}</span>`},r=(u,i,s,o,a)=>{const l=u[i],f={attrs:ui(l,[["class",`${M}-katex-block`]])};if(t.value){const h=t.value.renderToString(l.content,{throwOnError:!1,displayMode:!0});return`<p ${a.renderAttrs(f)} data-processed>${h}</p>`}else return`<p ${a.renderAttrs(f)}>${l.content}</p>`};e.inline.ruler.after("escape","math_inline",qp),e.block.ruler.after("blockquote","math_block",Rp,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=n,e.renderer.rules.math_block=r},Mp=Bp,zp=(e,t)=>{t=t||{};const n=3,r=t.marker||"!",u=r.charCodeAt(0),i=r.length;let s="",o="";const a=(f,h,p,m,d)=>{const v=f[h];return v.type==="admonition_open"?f[h].attrPush(["class",`${M}-admonition ${M}-admonition-${v.info}`]):v.type==="admonition_title_open"&&f[h].attrPush(["class",`${M}-admonition-title`]),d.renderToken(f,h,p)},l=f=>{const h=f.trim().split(" ",2);o="",s=h[0],h.length>1&&(o=f.substring(s.length+2))};e.block.ruler.before("code","admonition",(f,h,p,m)=>{let d,v,y,x=!1,A=f.bMarks[h]+f.tShift[h],E=f.eMarks[h];if(u!==f.src.charCodeAt(A))return!1;for(d=A+1;d<=E&&r[(d-A)%i]===f.src[d];d++);const k=Math.floor((d-A)/i);if(k!==n)return!1;d-=(d-A)%i;const C=f.src.slice(A,d),S=f.src.slice(d,E);if(l(S),m)return!0;for(v=h;v++,!(v>=p||(A=f.bMarks[v]+f.tShift[v],E=f.eMarks[v],A<E&&f.sCount[v]<f.blkIndent));)if(u===f.src.charCodeAt(A)&&!(f.sCount[v]-f.blkIndent>=4)){for(d=A+1;d<=E&&r[(d-A)%i]===f.src[d];d++);if(!(Math.floor((d-A)/i)<k)&&(d-=(d-A)%i,d=f.skipSpaces(d),!(d<E))){x=!0;break}}const D=f.parentType,w=f.lineMax;return f.parentType="root",f.lineMax=v,y=f.push("admonition_open","div",1),y.markup=C,y.block=!0,y.info=s,y.map=[h,v],o&&(y=f.push("admonition_title_open","p",1),y.markup=C+" "+s,y.map=[h,v],y=f.push("inline","",0),y.content=o,y.map=[h,f.line-1],y.children=[],y=f.push("admonition_title_close","p",-1),y.markup=C+" "+s),f.md.block.tokenize(f,h+1,v),y=f.push("admonition_close","div",-1),y.markup=f.src.slice(A,d),y.block=!0,f.parentType=D,f.lineMax=w,f.line=v+(x?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.admonition_open=a,e.renderer.rules.admonition_title_open=a,e.renderer.rules.admonition_title_close=a,e.renderer.rules.admonition_close=a},Pp=zp,$p=(e,t)=>{e.renderer.rules.heading_open=(n,r)=>{var u;const i=n[r],s=((u=n[r+1].children)==null?void 0:u.reduce((a,l)=>a+(["text","code_inline"].includes(l.type)&&l.content||""),""))||"",o=i.markup.length;return t.headsRef.value.push({text:s,level:o}),i.map&&i.level===0&&i.attrSet("id",t.mdHeadingId(s,o,t.headsRef.value.length)),e.renderer.renderToken(n,r,t)},e.renderer.rules.heading_close=(n,r,u,i,s)=>s.renderToken(n,r,u)},jp=$p,Up=(e,t)=>{if(typeof t[e]=="string")return t[e];const n=`<i class="${M}-iconfont ${M}-icon-${e}"></i>`;switch(kt.iconfontType){case"svg":return`<svg class="${M}-icon" aria-hidden="true"><use xlink:href="#${M}-icon-${e}"></use></svg>`;default:return n}},Hp=Up,Vp=(e,t)=>{const n=e.renderer.rules.fence,r=e.utils.unescapeAll,u=/\[(\w*)(?::([\w ]*))?\]/,i=/::(open|close)/,s=h=>h.info?r(h.info).trim():"",o=h=>{const p=s(h),[m=null,d=""]=(u.exec(p)||[]).slice(1);return[m,d]},a=h=>{const p=s(h);return p?p.split(/(\s+)/g)[0]:""},l=h=>{const p=h.info.match(i)||[],m=p[1]==="open"||p[1]!=="close"&&t.codeFoldable&&h.content.trim().split(`
`).length<t.autoFoldThreshold,d=p[1]||t.codeFoldable?"details":"div",v=p[1]||t.codeFoldable?"summary":"div";return{open:m,tagContainer:d,tagHeader:v}},f=(h,p,m,d,v)=>{var y;if(h[p].hidden)return"";const x=(y=t.usedLanguageTextRef.value)==null?void 0:y.copyCode.text,A=t.customIconRef.value.copy||x,E=!!t.customIconRef.value.copy,k=`<span class="${M}-collapse-tips">${Hp("collapse-tips",t.customIconRef.value)}</span>`,[C]=o(h[p]);if(C===null){const{open:se,tagContainer:fe,tagHeader:Z}=l(h[p]),ft=[["class",`${M}-code`]];se&&ft.push(["open",""]);const cn={attrs:ui(h[p],ft)};h[p].info=h[p].info.replace(i,"");const Te=n(h,p,m,d,v);return`<${fe} ${v.renderAttrs(cn)}>
        <${Z} class="${M}-code-head">
          <div class="${M}-code-flag"><span></span><span></span><span></span></div>
          <div class="${M}-code-action">
            <span class="${M}-code-lang">${h[p].info.trim()}</span>
            <span class="${M}-copy-button" data-tips="${x}"${E?" data-is-icon=true":""}">${A}</span>
            ${fe==="details"?k:""}
          </div>
        </${Z}>${Te}</${fe}>`}let S,D,w,$,j="",W="",B="";const{open:P,tagContainer:K,tagHeader:X}=l(h[p]),V=[["class",`${M}-code`]];P&&V.push(["open",""]);const ae={attrs:ui(h[p],V)};for(let se=p;se<h.length&&(S=h[se],[D,w]=o(S),D===C);se++){S.info=S.info.replace(u,"").replace(i,""),S.hidden=!0;const fe=`${M}-codetab-${t.editorId}-${p}-${se-p}`;$=se-p>0?"":"checked",j+=`<li>
          <input type="radio" name="${M}-codetab-label-${t.editorId}-${p}" class="${fe}" ${$}>
          <label onclick="document.querySelectorAll('.${fe}').forEach(e => e.click())">${w||a(S)}</label>
        </li>`,W+=`<input type="radio" name="${M}-codetab-pre-${t.editorId}-${p}" class="${fe}" ${$}>
      ${n(h,se,m,d,v)}`,B+=`<input type="radio" name="${M}-codetab-lang-${t.editorId}-${p}" class="${fe}" ${$}>
      <span class=${M}-code-lang>${a(S)}</span>`}return`<${K} ${v.renderAttrs(ae)}>
    <${X} class="${M}-code-head">
      <div class="${M}-code-flag">
        <ul class="${M}-codetab-label">${j}</ul>
      </div>
      <div class="${M}-code-action">
        <span class="${M}-codetab-lang">${B}</span>
        <span class="${M}-copy-button" data-tips="${x}"${E?" data-is-icon=true":""}">${A}</span>
        ${K==="details"?k:""}
      </div>
    </${X}>${W}</${K}>`};e.renderer.rules.fence=f,e.renderer.rules.code_block=f},Gp=Vp;function Wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zs={exports:{}},oe={},Ks={exports:{}},Dn={};function Zl(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Zp(e,t,n){}function Kp(e,t,n){}var Xp=/javascript\s*\:/img;function Yp(e,t){return Xp.test(t)?"":t}Dn.whiteList=Zl();Dn.getDefaultWhiteList=Zl;Dn.onAttr=Zp;Dn.onIgnoreAttr=Kp;Dn.safeAttrValue=Yp;var Qp={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,u;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,u=e.length;r<u;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Mr=Qp;function Jp(e,t){e=Mr.trimRight(e),e[e.length-1]!==";"&&(e+=";");var n=e.length,r=!1,u=0,i=0,s="";function o(){if(!r){var f=Mr.trim(e.slice(u,i)),h=f.indexOf(":");if(h!==-1){var p=Mr.trim(f.slice(0,h)),m=Mr.trim(f.slice(h+1));if(p){var d=t(u,s.length,p,m,f);d&&(s+=d+"; ")}}}u=i+1}for(;i<n;i++){var a=e[i];if(a==="/"&&e[i+1]==="*"){var l=e.indexOf("*/",i+2);if(l===-1)break;i=l+1,u=i+1,r=!1}else a==="("?r=!0:a===")"?r=!1:a===";"?r||o():a===`
`&&o()}return Mr.trim(s)}var eg=Jp,Mu=Dn,tg=eg;function Da(e){return e==null}function ng(e){var t={};for(var n in e)t[n]=e[n];return t}function Kl(e){e=ng(e||{}),e.whiteList=e.whiteList||Mu.whiteList,e.onAttr=e.onAttr||Mu.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Mu.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Mu.safeAttrValue,this.options=e}Kl.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,u=n.onAttr,i=n.onIgnoreAttr,s=n.safeAttrValue,o=tg(e,function(a,l,f,h,p){var m=r[f],d=!1;if(m===!0?d=m:typeof m=="function"?d=m(h):m instanceof RegExp&&(d=m.test(h)),d!==!0&&(d=!1),h=s(f,h),!!h){var v={position:l,sourcePosition:a,source:p,isWhite:d};if(d){var y=u(f,h,v);return Da(y)?f+":"+h:y}else{var y=i(f,h,v);if(!Da(y))return y}}});return o};var rg=Kl;(function(e,t){var n=Dn,r=rg;function u(s,o){var a=new r(o);return a.process(s)}t=e.exports=u,t.FilterCSS=r;for(var i in n)t[i]=n[i];typeof window<"u"&&(window.filterCSS=e.exports)})(Ks,Ks.exports);var _o=Ks.exports,Ao={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,u;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,u=e.length;r<u;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}},ug=_o.FilterCSS,ig=_o.getDefaultWhiteList,ii=Ao;function Xl(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Yl=new ug;function sg(e,t,n){}function og(e,t,n){}function ag(e,t,n){}function lg(e,t,n){}function Ql(e){return e.replace(fg,"&lt;").replace(hg,"&gt;")}function cg(e,t,n,r){if(n=uc(n),t==="href"||t==="src"){if(n=ii.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(t==="background"){if(zu.lastIndex=0,zu.test(n))return""}else if(t==="style"){if(Na.lastIndex=0,Na.test(n)||(La.lastIndex=0,La.test(n)&&(zu.lastIndex=0,zu.test(n))))return"";r!==!1&&(r=r||Yl,n=r.process(n))}return n=ic(n),n}var fg=/</g,hg=/>/g,dg=/"/g,pg=/&quot;/g,gg=/&#([a-zA-Z0-9]*);?/gim,mg=/&colon;?/gim,bg=/&newline;?/gim,zu=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Na=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,La=/u\s*r\s*l\s*\(.*/gi;function Jl(e){return e.replace(dg,"&quot;")}function ec(e){return e.replace(pg,'"')}function tc(e){return e.replace(gg,function(n,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function nc(e){return e.replace(mg,":").replace(bg," ")}function rc(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return ii.trim(t)}function uc(e){return e=ec(e),e=tc(e),e=nc(e),e=rc(e),e}function ic(e){return e=Jl(e),e=Ql(e),e}function yg(){return""}function xg(e,t){typeof t!="function"&&(t=function(){});var n=!Array.isArray(e);function r(s){return n?!0:ii.indexOf(e,s)!==-1}var u=[],i=!1;return{onIgnoreTag:function(s,o,a){if(r(s))if(a.isClosing){var l="[/removed]",f=a.position+l.length;return u.push([i!==!1?i:a.position,f]),i=!1,l}else return i||(i=a.position),"[removed]";else return t(s,o,a)},remove:function(s){var o="",a=0;return ii.forEach(u,function(l){o+=s.slice(a,l[0]),a=l[1]}),o+=s.slice(a),o}}}function vg(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("<!--",n);if(r===-1){t+=e.slice(n);break}t+=e.slice(n,r);var u=e.indexOf("-->",r);if(u===-1)break;n=u+3}return t}function _g(e){var t=e.split("");return t=t.filter(function(n){var r=n.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),t.join("")}oe.whiteList=Xl();oe.getDefaultWhiteList=Xl;oe.onTag=sg;oe.onIgnoreTag=og;oe.onTagAttr=ag;oe.onIgnoreTagAttr=lg;oe.safeAttrValue=cg;oe.escapeHtml=Ql;oe.escapeQuote=Jl;oe.unescapeQuote=ec;oe.escapeHtmlEntities=tc;oe.escapeDangerHtml5Entities=nc;oe.clearNonPrintableCharacter=rc;oe.friendlyAttrValue=uc;oe.escapeAttrValue=ic;oe.onIgnoreTagStripAll=yg;oe.StripTagBody=xg;oe.stripCommentTag=vg;oe.stripBlankChar=_g;oe.attributeWrapSign='"';oe.cssFilter=Yl;oe.getDefaultCSSWhiteList=ig;var mi={},en=Ao;function Ag(e){var t=en.spaceIndex(e),n;return t===-1?n=e.slice(1,-1):n=e.slice(1,t+1),n=en.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function Eg(e){return e.slice(0,2)==="</"}function kg(e,t,n){var r="",u=0,i=!1,s=!1,o=0,a=e.length,l="",f="";e:for(o=0;o<a;o++){var h=e.charAt(o);if(i===!1){if(h==="<"){i=o;continue}}else if(s===!1){if(h==="<"){r+=n(e.slice(u,o)),i=o,u=o;continue}if(h===">"||o===a-1){r+=n(e.slice(u,i)),f=e.slice(i,o+1),l=Ag(f),r+=t(i,r.length,l,f,Eg(f)),u=o+1,i=!1;continue}if(h==='"'||h==="'")for(var p=1,m=e.charAt(o-p);m.trim()===""||m==="=";){if(m==="="){s=h;continue e}m=e.charAt(o-++p)}}else if(h===s){s=!1;continue}}return u<a&&(r+=n(e.substr(u))),r}var wg=/[^a-zA-Z0-9\\_:.-]/gim;function Cg(e,t){var n=0,r=0,u=[],i=!1,s=e.length;function o(p,m){if(p=en.trim(p),p=p.replace(wg,"").toLowerCase(),!(p.length<1)){var d=t(p,m||"");d&&u.push(d)}}for(var a=0;a<s;a++){var l=e.charAt(a),f,h;if(i===!1&&l==="="){i=e.slice(n,a),n=a+1,r=e.charAt(n)==='"'||e.charAt(n)==="'"?n:Sg(e,a+1);continue}if(i!==!1&&a===r){if(h=e.indexOf(l,a+1),h===-1)break;f=en.trim(e.slice(r+1,h)),o(i,f),i=!1,a=h,n=a+1;continue}if(/\s|\n|\t/.test(l))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(h=Tg(e,a),h===-1){f=en.trim(e.slice(n,a)),o(f),i=!1,n=a+1;continue}else{a=h-1;continue}else if(h=Dg(e,a-1),h===-1){f=en.trim(e.slice(n,a)),f=Fa(f),o(i,f),i=!1,n=a+1;continue}else continue}return n<e.length&&(i===!1?o(e.slice(n)):o(i,Fa(en.trim(e.slice(n))))),en.trim(u.join(" "))}function Tg(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="="?t:-1}}function Sg(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="'"||n==='"'?t:-1}}function Dg(e,t){for(;t>0;t--){var n=e[t];if(n!==" ")return n==="="?t:-1}}function Ng(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function Fa(e){return Ng(e)?e.substr(1,e.length-2):e}mi.parseTag=kg;mi.parseAttr=Cg;var Lg=_o.FilterCSS,Ve=oe,sc=mi,Fg=sc.parseTag,Ig=sc.parseAttr,Zu=Ao;function Pu(e){return e==null}function Og(e){var t=Zu.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=Zu.trim(e.slice(t+1,-1));var n=e[e.length-1]==="/";return n&&(e=Zu.trim(e.slice(0,-1))),{html:e,closing:n}}function qg(e){var t={};for(var n in e)t[n]=e[n];return t}function Rg(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(r){return r.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}function oc(e){e=qg(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Ve.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=Rg(e.whiteList||e.allowList):e.whiteList=Ve.whiteList,this.attributeWrapSign=e.singleQuotedAttributeValue===!0?"'":Ve.attributeWrapSign,e.onTag=e.onTag||Ve.onTag,e.onTagAttr=e.onTagAttr||Ve.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Ve.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Ve.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Ve.safeAttrValue,e.escapeHtml=e.escapeHtml||Ve.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Lg(e.css))}oc.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,u=n.onTag,i=n.onIgnoreTag,s=n.onTagAttr,o=n.onIgnoreTagAttr,a=n.safeAttrValue,l=n.escapeHtml,f=t.attributeWrapSign,h=t.cssFilter;n.stripBlankChar&&(e=Ve.stripBlankChar(e)),n.allowCommentTag||(e=Ve.stripCommentTag(e));var p=!1;n.stripIgnoreTagBody&&(p=Ve.StripTagBody(n.stripIgnoreTagBody,i),i=p.onIgnoreTag);var m=Fg(e,function(d,v,y,x,A){var E={sourcePosition:d,position:v,isClosing:A,isWhite:Object.prototype.hasOwnProperty.call(r,y)},k=u(y,x,E);if(!Pu(k))return k;if(E.isWhite){if(E.isClosing)return"</"+y+">";var C=Og(x),S=r[y],D=Ig(C.html,function(w,$){var j=Zu.indexOf(S,w)!==-1,W=s(y,w,$,j);return Pu(W)?j?($=a(y,w,$,h),$?w+"="+f+$+f:w):(W=o(y,w,$,j),Pu(W)?void 0:W):W});return x="<"+y,D&&(x+=" "+D),C.closing&&(x+=" /"),x+=">",x}else return k=i(y,x,E),Pu(k)?l(x):k},l);return p&&(m=p.remove(m)),m};var Bg=oc;(function(e,t){var n=oe,r=mi,u=Bg;function i(o,a){var l=new u(a);return l.process(o)}t=e.exports=i,t.filterXSS=i,t.FilterXSS=u,function(){for(var o in n)t[o]=n[o];for(var a in r)t[a]=r[a]}(),typeof window<"u"&&(window.filterXSS=e.exports);function s(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}s()&&(self.filterXSS=e.exports)})(Zs,Zs.exports);var jr=Zs.exports;const Mg=Wp(jr),zg=Tp({__proto__:null,default:Mg},[jr]),Ia={img:["class"],input:["class","disabled","type","checked"],iframe:["class","width","height","src","title","border","frameborder","framespacing","allow","allowfullscreen"]},Pg=(e,t)=>{const{extendedWhiteList:n={},xss:r={}}=t;let u;if(typeof r=="function")u=new jr.FilterXSS(r(zg));else{const i=jr.getDefaultWhiteList();[...Object.keys(n),...Object.keys(Ia)].forEach(o=>{const a=i[o]||[],l=Ia[o]||[],f=n[o]||[];i[o]=[...new Set([...a,...l,...f])]}),u=new jr.FilterXSS({whiteList:i,...r})}e.core.ruler.after("linkify","xss",i=>{for(let s=0;s<i.tokens.length;s++){const o=i.tokens[s];switch(o.type){case"html_block":{o.content=u.process(o.content);break}case"inline":{(o.children||[]).forEach(l=>{l.type==="html_inline"&&(l.content=u.process(l.content))});break}}}})},$g=Pg,Oa=(e,t,n)=>{const r=e.attrIndex(t),u=[t,n];r<0?e.attrPush(u):(e.attrs=e.attrs||[],e.attrs[r]=u)},jg=e=>e.type==="inline",Ug=e=>e.type==="paragraph_open",Hg=e=>e.type==="list_item_open",Vg=e=>e.content.indexOf("[ ] ")===0||e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0,Gg=(e,t)=>jg(e[t])&&Ug(e[t-1])&&Hg(e[t-2])&&Vg(e[t]),Wg=(e,t)=>{const n=e[t].level-1;for(let r=t-1;r>=0;r--)if(e[r].level===n)return r;return-1},Zg=e=>{const t=new e("html_inline","",0);return t.content="<label>",t},Kg=e=>{const t=new e("html_inline","",0);return t.content="</label>",t},Xg=(e,t,n)=>{const r=new n("html_inline","",0);return r.content='<label class="task-list-item-label" for="'+t+'">'+e+"</label>",r.attrs=[{for:t}],r},Yg=(e,t,n)=>{const r=new t("html_inline","",0),u=n.enabled?" ":' disabled="" ';return e.content.indexOf("[ ] ")===0?r.content='<input class="task-list-item-checkbox"'+u+'type="checkbox">':(e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0)&&(r.content='<input class="task-list-item-checkbox" checked=""'+u+'type="checkbox">'),r},Qg=(e,t,n)=>{if(e.children=e.children||[],e.children.unshift(Yg(e,t,n)),e.children[1].content=e.children[1].content.slice(3),e.content=e.content.slice(3),n.label)if(n.labelAfter){e.children.pop();const r="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);e.children[0].content=e.children[0].content.slice(0,-1)+' id="'+r+'">',e.children.push(Xg(e.content,r,t))}else e.children.unshift(Zg(t)),e.children.push(Kg(t))},Jg=(e,t={})=>{e.core.ruler.after("inline","github-task-lists",n=>{const r=n.tokens;for(let u=2;u<r.length;u++)Gg(r,u)&&(Qg(r[u],n.Token,t),Oa(r[u-2],"class","task-list-item"+(t.enabled?" enabled":" ")),Oa(r[Wg(r,u-2)],"class","contains-task-list"))})},em=Jg,tm=e=>{e.core.ruler.push("init-line-number",t=>(t.tokens.forEach(n=>{n.map&&(n.attrs||(n.attrs=[]),n.attrs.push(["data-line",n.map[0].toString()]))}),!0))},nm=(e,t)=>{const{editorConfig:n,markdownItConfig:r,markdownItPlugins:u}=kt,i=Le("editorId"),s=Le("language"),o=Le("usedLanguageText"),a=Le("showCodeRowNumber"),l=Le("theme"),f=Le("customIcon"),h=$u([]),p=Np(e),m=Fp(e),{reRenderRef:d,replaceMermaid:v}=Lp(e),y=Ze({html:!0,breaks:!0,linkify:!0});r(y,{editorId:i});const x=[{type:"image",plugin:wp,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:Pp,options:{}},{type:"taskList",plugin:em,options:{}},{type:"heading",plugin:jp,options:{mdHeadingId:e.mdHeadingId,headsRef:h}},{type:"code",plugin:Gp,options:{editorId:i,usedLanguageTextRef:o,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold,customIconRef:f}},{type:"xss",plugin:$g,options:{}}];e.noKatex||x.push({type:"katex",plugin:Mp,options:{katexRef:m}}),e.noMermaid||x.push({type:"mermaid",plugin:Op,options:{themeRef:l}}),u(x,{editorId:i}).forEach(w=>{y.use(w.plugin,w.options)});const A=y.options.highlight;y.set({highlight:(w,$,j)=>{if(A){const P=A(w,$,j);if(P)return P}let W;!e.noHighlight&&p.value?p.value.getLanguage($)?W=p.value.highlight(w,{language:$,ignoreIllegals:!0}).value:W=p.value.highlightAuto(w).value:W=y.utils.escapeHtml(w);const B=a?kh(W.replace(/^\n+|\n+$/g,"")):`<span class="${M}-code-block">${W.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${$}" language=${$}>${B}</code></pre>`}}),tm(y);const E=$u(`_article-key_${Rs()}`),k=$u(e.sanitize(y.render(e.modelValue))),C=()=>{Bt.emit(i,xh,k.value),e.onHtmlChanged(k.value),e.onGetCatalog(h.value),Bt.emit(i,ps,h.value),v()};zt(C);const S=()=>{h.value=[],k.value=e.sanitize(y.render(e.modelValue)),C()},D=vn(()=>(e.noKatex||m.value)&&(e.noHighlight||p.value));return vt([za(e,"modelValue"),D,d,s],pl(S,t?0:n.renderDelay)),vt(()=>e.setting.preview,()=>{e.setting.preview&&Hr(()=>{Bt.emit(i,ps,h.value)})}),zt(()=>{Bt.on(i,{name:vh,callback(){Bt.emit(i,ps,h.value)}}),Bt.on(i,{name:ml,callback:()=>{E.value=`_article-key_${Rs()}`,S()}})}),{html:k,key:E}},rm=nm,qa={checked:{regexp:/- \[x\]/,value:"- [ ]"},unChecked:{regexp:/- \[\s\]/,value:"- [x]"}},um=(e,t)=>{const n=Le("editorId");let r=()=>{};const u=()=>{const i=document.querySelectorAll(`#${n} .task-list-item.enabled`),s=o=>{var a;o.preventDefault();const l=o.target.checked?"unChecked":"checked",f=(a=o.target.parentElement)==null?void 0:a.dataset.line;if(!f)return;const h=Number(f),p=e.modelValue.split(`
`),m=p[Number(h)].replace(qa[l].regexp,qa[l].value);e.previewOnly?(p[Number(h)]=m,e.onChange(p.join(`
`))):Bt.emit(n,_h,h+1,m)};i.forEach(o=>{o.addEventListener("click",s)}),r=()=>{i.forEach(o=>{o.removeEventListener("click",s)})}};Ba(()=>{r()}),vt([t],()=>{r(),Hr(u)},{immediate:!0})},ac={modelValue:{type:String,default:""},onChange:{type:Function,default:()=>{}},setting:{type:Object,default:()=>({preview:!0})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:e=>e},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function},codeFoldable:{type:Boolean},autoFoldThreshold:{type:Number}};({...ac});const im=iu({name:"ContentPreview",props:ac,setup(e){const t=Le("editorId"),n=Le("previewTheme"),r=Le("showCodeRowNumber"),{html:u,key:i}=rm(e,e.previewOnly);return Dp(e,u,i),Sp(e,u),um(e,u),()=>tn(Ma,null,[e.setting.preview&&tn("div",{id:`${t}-preview-wrapper`,class:`${M}-preview-wrapper`,key:"content-preview-wrapper"},[tn("div",{key:i.value,id:`${t}-preview`,class:[`${M}-preview`,`${n==null?void 0:n.value}-theme`,r&&`${M}-scrn`],innerHTML:u.value},null)]),!e.previewOnly&&e.setting.htmlPreview&&tn("div",{id:`${t}-html-wrapper`,class:`${M}-preview-wrapper`,key:"html-preview-wrapper"},[tn("div",{class:`${M}-html`},[u.value])])])}}),sm=e=>{const{editorId:t}=e,n=kt.editorExtensions.highlight,r=kt.editorExtensionsAttrs.highlight;Wt("editorId",t),Wt("theme",vn(()=>e.theme)),Wt("language",vn(()=>e.language)),Wt("highlight",vn(()=>{const{js:i}=n,s={...Bs,...n.css},{js:o,css:a={}}=r||{},l=e.codeStyleReverse&&e.codeStyleReverseList.includes(e.previewTheme)?"dark":e.theme,f=s[e.codeTheme]?s[e.codeTheme][l]:Bs.atom[l],h=s[e.codeTheme]&&a[e.codeTheme]?a[e.codeTheme][l]:a.atom?a.atom[l]:{};return{js:{src:i,...o},css:{href:f,...h}}})),Wt("showCodeRowNumber",e.showCodeRowNumber);const u=vn(()=>{const i={...ua,...kt.editorConfig.languageUserDefined};return gl(zr(ua["en-US"]),i[e.language]||{})});Wt("usedLanguageText",u),Wt("previewTheme",vn(()=>e.previewTheme)),Wt("customIcon",vn(()=>e.customIcon))},om=e=>{zt(()=>{const{editorExtensions:t,editorExtensionsAttrs:n,iconfontType:r}=kt;e.noIconfont||(r==="svg"?Pt("script",{...n.iconfont,src:t.iconfont,id:`${M}-icon`}):Pt("link",{...n.iconfontClass,rel:"stylesheet",href:t.iconfontClass,id:`${M}-icon-class`}))})},am=e=>e,lc={modelValue:{type:String,default:""},onChange:{type:Function},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:()=>wh("md-editor-v3_")},showCodeRowNumber:{type:Boolean,default:!0},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:am},sanitize:{type:Function,default:e=>e},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:e=>Promise.resolve(e)},codeFoldable:{type:Boolean,default:!0},autoFoldThreshold:{type:Number,default:30}};({...lc});const cc=["onHtmlChanged","onGetCatalog","onChange","update:modelValue"];[...cc];const lm=(e,t)=>{const{editorId:n}=e,r={rerender(){Bt.emit(n,ml)}};t.expose(r)},Ku=iu({name:"MdPreview",props:lc,emits:cc,setup(e,t){const{editorId:n,noKatex:r,noMermaid:u,noHighlight:i}=e;return sm(e),om(e),lm(e,t),Ba(()=>{Bt.clear(n)}),()=>tn("div",{id:n,class:[M,e.class,e.theme==="dark"&&`${M}-dark`,`${M}-previewOnly`],style:e.style},[tn(im,{modelValue:e.modelValue,onChange:s=>{e.onChange&&e.onChange(s),t.emit("onChange",s),t.emit("update:modelValue",s)},onHtmlChanged:s=>{e.onHtmlChanged?e.onHtmlChanged(s):t.emit("onHtmlChanged",s)},onGetCatalog:s=>{e.onGetCatalog?e.onGetCatalog(s):t.emit("onGetCatalog",s)},mdHeadingId:e.mdHeadingId,noMermaid:u,sanitize:e.sanitize,noKatex:r,formatCopiedText:e.formatCopiedText,noHighlight:i,noImgZoomIn:e.noImgZoomIn,previewOnly:!0,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null)])}});Ku.install=e=>(e.component(Ku.name,Ku),e);const cm={class:"md-editor-wrap"},fm=iu({__name:"index",props:{editorId:{},moduleValue:{}},setup(e){const t=e;return(n,r)=>($r(),Qs("div",cm,[tn(ju(Ku),{editorId:t.editorId,modelValue:t.moduleValue},null,8,["editorId","modelValue"])]))}}),Tm=Pa(fm,[["__scopeId","data-v-7aae880d"]]),Sm=iu({__name:"index",setup(e){const t=mc();return(n,r)=>{const u=wo("el-option"),i=wo("el-select");return $r(),Co(i,{style:{width:"160px"},modelValue:ju(t).model_name,"onUpdate:modelValue":r[0]||(r[0]=s=>ju(t).model_name=s)},{default:pc(()=>[($r(!0),Qs(Ma,null,gc(ju(t).llm_models,s=>($r(),Co(u,{label:s,key:s,value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])}}});export{Tm as M,Em as Q,Sm as _,km as s};
